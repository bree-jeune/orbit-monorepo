/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={35(e,t,n){n.d(t,{A:()=>s});var r=n(601),i=n.n(r),a=n(314),o=n.n(a)()(i());o.push([e.id,".settings-overlay {\n    position: fixed;\n    inset: 0;\n    background: rgba(0, 0, 0, 0.6);\n    backdrop-filter: blur(12px);\n    z-index: 3000;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    animation: fadeIn var(--transition-base);\n}\n\n.settings-card {\n    background: var(--bg-surface);\n    border: 1px solid var(--glass-border);\n    border-radius: 28px;\n    width: 95%;\n    max-width: 480px;\n    max-height: 90vh;\n    overflow-y: auto;\n    padding: var(--space-xl);\n    box-shadow: var(--shadow-lg);\n    animation: modalIn 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);\n}\n\n.settings-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: var(--space-xl);\n}\n\n.settings-header h2 {\n    font-size: 24px;\n    font-weight: 700;\n    letter-spacing: -0.02em;\n}\n\n.close-btn {\n    width: 36px;\n    height: 36px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    color: var(--text-muted);\n    transition: var(--transition-fast);\n}\n\n.close-btn:hover {\n    background: var(--glass-bg-hover);\n    color: var(--text-primary);\n}\n\n.settings-section {\n    margin-bottom: var(--space-xl);\n    padding-bottom: var(--space-lg);\n    border-bottom: 1px solid var(--glass-border);\n}\n\n.settings-section:last-child {\n    border-bottom: none;\n}\n\n.settings-section h3 {\n    font-size: 14px;\n    font-weight: 700;\n    text-transform: uppercase;\n    letter-spacing: 0.1em;\n    color: var(--text-muted);\n    margin-bottom: var(--space-lg);\n}\n\n.setting-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: var(--space-md);\n}\n\n.setting-item.vertical {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: var(--space-sm);\n}\n\n.setting-item label {\n    font-size: 15px;\n    font-weight: 500;\n    color: var(--text-primary);\n}\n\n.toggle {\n    padding: 8px 16px;\n    border-radius: 12px;\n    font-size: 13px;\n    font-weight: 600;\n    transition: var(--transition-base);\n}\n\n.toggle.on {\n    background: var(--accent-blue);\n    color: white;\n    box-shadow: 0 0 12px var(--accent-blue-glow);\n}\n\n.toggle.off {\n    background: var(--glass-bg);\n    border: 1px solid var(--glass-border);\n    color: var(--text-secondary);\n}\n\n.noise-selector {\n    display: flex;\n    flex-wrap: wrap;\n    gap: var(--space-xs);\n    width: 100%;\n}\n\n.noise-pill {\n    flex: 1;\n    min-width: 80px;\n    padding: 10px;\n    border-radius: 12px;\n    background: var(--glass-bg);\n    border: 1px solid var(--glass-border);\n    font-size: 12px;\n    font-weight: 600;\n    text-transform: capitalize;\n    transition: var(--transition-base);\n    color: var(--text-secondary);\n}\n\n.noise-pill:hover {\n    background: var(--glass-bg-hover);\n    border-color: var(--glass-border-hover);\n}\n\n.noise-pill.active {\n    background: var(--accent-teal);\n    color: var(--bg-deep);\n    border-color: var(--accent-teal);\n    box-shadow: 0 4px 12px var(--accent-teal-glow);\n}\n\n.input-group {\n    display: flex;\n    gap: var(--space-sm);\n    width: 100%;\n}\n\n.input-group input {\n    flex: 1;\n    background: rgba(0, 0, 0, 0.2);\n    border: 1px solid var(--glass-border);\n    border-radius: 12px;\n    padding: 12px 16px;\n    color: var(--text-primary);\n    font-size: 14px;\n}\n\n.save-btn,\n.sync-btn {\n    background: var(--accent-blue);\n    color: white;\n    padding: 8px 20px;\n    border-radius: 12px;\n    font-size: 13px;\n    font-weight: 600;\n    transition: var(--transition-base);\n}\n\n.save-btn:hover,\n.sync-btn:hover {\n    background: #2563eb;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);\n}\n\n.status-text {\n    font-size: 12px;\n    font-weight: 600;\n}\n\n.status-text.success {\n    color: var(--accent-teal);\n}\n\n.status-text.error {\n    color: var(--accent-danger);\n}\n\n.status-pill {\n    padding: 4px 12px;\n    border-radius: 20px;\n    font-size: 11px;\n    font-weight: 700;\n    text-transform: uppercase;\n    letter-spacing: 0.05em;\n}\n\n.status-pill.connected {\n    background: rgba(0, 229, 255, 0.1);\n    color: var(--accent-teal);\n    border: 1px solid var(--accent-teal-glow);\n}\n\n.status-pill.disconnected {\n    background: rgba(239, 68, 68, 0.1);\n    color: var(--accent-danger);\n    border: 1px solid rgba(239, 68, 68, 0.2);\n}\n\ncode {\n    background: rgba(0, 0, 0, 0.3);\n    padding: 8px 12px;\n    border-radius: 8px;\n    font-family: monospace;\n    font-size: 12px;\n    color: var(--text-muted);\n    width: 100%;\n    word-break: break-all;\n}\n\n.danger-zone h3 {\n    color: var(--accent-danger);\n}\n\n.clear-btn {\n    padding: 8px 16px;\n    border-radius: 12px;\n    background: rgba(239, 68, 68, 0.1);\n    border: 1px solid rgba(239, 68, 68, 0.2);\n    color: var(--accent-danger);\n    font-size: 13px;\n    font-weight: 600;\n    transition: var(--transition-base);\n}\n\n.clear-btn:hover {\n    background: var(--accent-danger);\n    color: white;\n    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);\n}\n\n.setting-hint {\n    font-size: 12px;\n    color: var(--text-muted);\n    line-height: 1.5;\n}\n\n.settings-footer {\n    text-align: center;\n    color: var(--text-muted);\n    font-size: 11px;\n}",""]);const s=o},56(e,t,n){e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72(e){var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},o=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=a[c]||0,h="".concat(c," ").concat(u);a[c]=u+1;var d=n(h),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var p=i(f,r);r.byIndex=s,t.splice(s,0,{identifier:h,updater:p,references:1})}o.push(h)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var s=n(a[o]);t[s].references--}for(var l=r(e,i),c=0;c<a.length;c++){var u=n(a[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=l}}},76(e,t,n){n.d(t,{A:()=>s});var r=n(601),i=n.n(r),a=n(314),o=n.n(a)()(i());o.push([e.id,".input-container {\n  position: relative;\n  width: 100%;\n  max-width: 440px;\n  margin: 0 auto;\n  transition: max-width var(--transition-base);\n}\n\n.input-container:focus-within {\n  max-width: 500px;\n}\n\n.add input {\n  width: 100%;\n  padding: 14px 60px 14px 24px;\n  font-size: 15px;\n  font-weight: 500;\n  line-height: normal;\n  color: var(--text-primary);\n  background: var(--glass-bg);\n  backdrop-filter: var(--glass-blur);\n  border: 1px solid var(--glass-border);\n  border-radius: 20px;\n  outline: none;\n  transition: var(--transition-base);\n  box-shadow: var(--shadow-md);\n}\n\n.add input::placeholder {\n  color: var(--text-muted);\n  opacity: 0.8;\n}\n\n.add input:focus {\n  background: var(--glass-bg-hover);\n  border-color: var(--accent-blue-glow);\n  box-shadow: var(--shadow-lg), 0 0 0 1px var(--accent-blue-glow);\n}\n\n.ai-trigger {\n  position: absolute;\n  right: 12px;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 10px;\n  background: var(--glass-bg);\n  border: 1px solid var(--glass-border);\n  color: var(--text-secondary);\n  transition: var(--transition-base);\n}\n\n.ai-trigger:hover {\n  background: var(--glass-bg-hover);\n  color: var(--accent-teal);\n  border-color: var(--accent-teal-glow);\n  transform: translateY(-50%) translateY(-1px);\n}\n\n.loading input {\n  opacity: 0.6;\n}\n\n/* Modal */\n.modal-overlay {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n  backdrop-filter: blur(12px);\n  animation: fadeIn var(--transition-base);\n}\n\n.modal {\n  background: var(--bg-surface);\n  padding: 32px;\n  border-radius: 24px;\n  width: 90%;\n  max-width: 400px;\n  border: 1px solid var(--glass-border);\n  box-shadow: var(--shadow-lg);\n  animation: modalIn 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);\n}\n\n@keyframes modalIn {\n  from {\n    opacity: 0;\n    transform: scale(0.95) translateY(10px);\n  }\n\n  to {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n}\n\n.modal h3 {\n  font-size: 20px;\n  font-weight: 700;\n  margin-bottom: 12px;\n  letter-spacing: -0.01em;\n}\n\n.modal p {\n  color: var(--text-secondary);\n  font-size: 14px;\n  margin-bottom: 24px;\n}\n\n.modal input {\n  width: 100%;\n  padding: 14px 16px;\n  margin-bottom: 24px;\n  background: rgba(0, 0, 0, 0.3);\n  border: 1px solid var(--glass-border);\n  border-radius: 12px;\n  font-size: 14px;\n  transition: var(--transition-base);\n}\n\n.modal input:focus {\n  outline: none;\n  border-color: var(--accent-blue);\n  background: rgba(0, 0, 0, 0.4);\n}\n\n.modal-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n}\n\n.modal button {\n  padding: 10px 20px;\n  border-radius: 10px;\n  font-size: 14px;\n  font-weight: 600;\n  transition: var(--transition-base);\n}\n\n.modal button:not(.primary) {\n  color: var(--text-secondary);\n}\n\n.modal button:not(.primary):hover {\n  background: var(--glass-bg-hover);\n  color: var(--text-primary);\n}\n\n.modal button.primary {\n  background: var(--accent-blue);\n  color: white;\n}\n\n.modal button.primary:hover {\n  background: #2563eb;\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);\n}",""]);const s=o},113(e){e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},159(e){e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},194(e,t,n){e.exports=n(225)},221(e,t,n){var r=n(540);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal"),l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,a="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},225(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,E(e),!m)if(null!==r(c))m=!0,_||(_=!0,k());else{var t=r(u);null!==t&&O(S,t.startTime-e)}}var k,_=!1,T=-1,I=5,C=-1;function x(){return!(!y&&t.unstable_now()-C<I)}function A(){if(y=!1,_){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(T),T=-1),p=!0;var a=f;try{t:{for(E(e),d=r(c);null!==d&&!(d.expirationTime>e&&x());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof s){d.callback=s,E(e),n=!0;break t}d===r(c)&&i(c),E(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&O(S,l.startTime-e),n=!1}}break e}finally{d=null,f=a,p=!1}n=void 0}}finally{n?k():_=!1}}}if("function"==typeof w)k=function(){w(A)};else if("undefined"!=typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=A,k=function(){P.postMessage(null)}}else k=function(){v(A,0)};function O(e,n){T=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(T),T=-1):g=!0,O(S,a-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,_||(_=!0,k()))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},247(e,t,n){var r=n(194),i=n(540),a=n(961);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function u(e){if(s(e)!==e)throw Error(o(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var I=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var x=Symbol.iterator;function A(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=x&&e[x]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case k:return"SuspenseList";case I:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case m:return"Portal";case w:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return P(e(t))}catch(e){}}return null}var O=Array.isArray,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],F=-1;function U(e){return{current:e}}function z(e){0>F||(e.current=M[F],M[F]=null,F--)}function V(e,t){F++,M[F]=e.current,e.current=t}var j,B,$=U(null),H=U(null),q=U(null),G=U(null);function K(e,t){switch(V(q,t),V(H,e),V($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yh(t=gh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z($),V($,e)}function W(){z($),z(H),z(q)}function Q(e){null!==e.memoizedState&&V(G,e);var t=$.current,n=yh(t,e.type);t!==n&&(V(H,e),V($,n))}function Y(e){H.current===e&&(z($),z(H)),G.current===e&&(z(G),cd._currentValue=L)}function X(e){if(void 0===j)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||"",B=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+j+e+B}var J=!1;function Z(e,t){if(!e||J)return"";J=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{J=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function ee(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return Z(e.type,!1);case 11:return Z(e.type.render,!1);case 1:return Z(e.type,!0);case 31:return X("Activity");default:return""}}function te(e){try{var t="",n=null;do{t+=ee(e,n),n=e,e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var ne=Object.prototype.hasOwnProperty,re=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,ae=r.unstable_shouldYield,oe=r.unstable_requestPaint,se=r.unstable_now,le=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,ue=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,de=r.unstable_LowPriority,fe=r.unstable_IdlePriority,pe=r.log,me=r.unstable_setDisableYieldValue,ge=null,ye=null;function ve(e){if("function"==typeof pe&&me(e),ye&&"function"==typeof ye.setStrictMode)try{ye.setStrictMode(ge,e)}catch(e){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/Ee|0)|0},we=Math.log,Ee=Math.LN2,Se=256,ke=262144,_e=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ie(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=Te(r):0!==(o&=s)?i=Te(o):n||0!==(n=s&~e)&&(i=Te(n)):0!==(s=r&~a)?i=Te(s):0!==o?i=Te(o):n||0!==(n=r&~e)&&(i=Te(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&4194048&n)?t:i}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=_e;return!(62914560&(_e<<=1))&&(_e=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-be(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function De(e,t){var n=t&-t;return 0!==((n=42&n?1:Le(n))&(e.suspendedLanes|t))?0:n}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Fe(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:kd(e.type)}function Ue(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}var ze=Math.random().toString(36).slice(2),Ve="__reactFiber$"+ze,je="__reactProps$"+ze,Be="__reactContainer$"+ze,$e="__reactEvents$"+ze,He="__reactListeners$"+ze,qe="__reactHandles$"+ze,Ge="__reactResources$"+ze,Ke="__reactMarker$"+ze;function We(e){delete e[Ve],delete e[je],delete e[$e],delete e[He],delete e[qe]}function Qe(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[Ve]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Lh(e);null!==e;){if(n=e[Ve])return n;e=Lh(e)}return t}n=(e=n).parentNode}return null}function Ye(e){if(e=e[Ve]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Je(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[Ke]=!0}var et=new Set,tt={};function nt(e,t){rt(e,t),rt(e+"Capture",t)}function rt(e,t){for(tt[e]=t,e=0;e<t.length;e++)et.add(t[e])}var it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},ot={};function st(e,t,n){if(i=t,ne.call(ot,i)||!ne.call(at,i)&&(it.test(i)?ot[i]=!0:(at[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function lt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ct(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function gt(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?bt(e,o,ut(t)):null!=n?bt(e,o,ut(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.name=""+ut(s):e.removeAttribute("name")}function vt(e,t,n,r,i,a,o,s){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=n){if(("submit"===a||"reset"===a)&&null==t)return void dt(e);n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.name=o),dt(e)}function bt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Et(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(O(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),dt(e)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function It(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Tt(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&Tt(e,a,t[a])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pt(){}var Ot=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Lt=null;function Mt(e){var t=Ye(e);if(t&&(e=t.stateNode)){var n=e[je]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[je]||null;if(!i)throw Error(o(90));yt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":Et(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Ft=!1;function Ut(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Dt||null!==Lt)&&(Jc(),Dt&&(t=Dt,e=Lt,Lt=Dt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[je]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Vt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),jt=!1;if(Vt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){jt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(e){jt=!1}var $t=null,Ht=null,qt=null;function Gt(){if(qt)return qt;var e,t,n=Ht,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return qt=i.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Qt(){return!1}function Yt(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Wt:Qt,this.isPropagationStopped=Qt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Xt,Jt,Zt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Yt(en),nn=d({},en,{view:0,detail:0}),rn=Yt(nn),an=d({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Xt=e.screenX-Zt.screenX,Jt=e.screenY-Zt.screenY):Jt=Xt=0,Zt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),on=Yt(an),sn=Yt(d({},an,{dataTransfer:0})),ln=Yt(d({},nn,{relatedTarget:0})),cn=Yt(d({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Yt(d({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Yt(d({},en,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function gn(){return mn}var yn=Yt(d({},nn,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=Yt(d({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Yt(d({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),wn=Yt(d({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=Yt(d({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Yt(d({},en,{newState:0,oldState:0})),kn=[9,13,27,32],_n=Vt&&"CompositionEvent"in window,Tn=null;Vt&&"documentMode"in document&&(Tn=document.documentMode);var In=Vt&&"TextEvent"in window&&!Tn,Cn=Vt&&(!_n||Tn&&8<Tn&&11>=Tn),xn=String.fromCharCode(32),An=!1;function Nn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1,Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Ln(e,t,n,r){Dt?Lt?Lt.push(r):Lt=[r]:Dt=r,0<(t=nh(t,"onChange")).length&&(n=new tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Fn=null;function Un(e){Wu(e,0)}function zn(e){if(ft(Xe(e)))return e}function Vn(e,t){if("change"===e)return t}var jn=!1;if(Vt){var Bn;if(Vt){var $n="oninput"in document;if(!$n){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),$n="function"==typeof Hn.oninput}Bn=$n}else Bn=!1;jn=Bn&&(!document.documentMode||9<document.documentMode)}function qn(){Mn&&(Mn.detachEvent("onpropertychange",Gn),Fn=Mn=null)}function Gn(e){if("value"===e.propertyName&&zn(Fn)){var t=[];Ln(t,Fn,e,Rt(e)),Ut(Un,t)}}function Kn(e,t,n){"focusin"===e?(qn(),Fn=n,(Mn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&qn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Fn)}function Qn(e,t){if("click"===e)return zn(t)}function Yn(e,t){if("input"===e||"change"===e)return zn(t)}var Xn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Jn(e,t){if(Xn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ne.call(t,i)||!Xn(e[i],t[i]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zn(r)}}function tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nr(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=Vt&&"documentMode"in document&&11>=document.documentMode,ar=null,or=null,sr=null,lr=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==ar||ar!==pt(r)||(r="selectionStart"in(r=ar)&&rr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Jn(sr,r)||(sr=r,0<(r=nh(or,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},dr={},fr={};function pr(e){if(dr[e])return dr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return dr[e]=n[t];return e}Vt&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var mr=pr("animationend"),gr=pr("animationiteration"),yr=pr("animationstart"),vr=pr("transitionrun"),br=pr("transitionstart"),wr=pr("transitioncancel"),Er=pr("transitionend"),Sr=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Sr.set(e,t),nt(t,[e])}kr.push("scrollEnd");var Tr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ir=[],Cr=0,xr=0;function Ar(){for(var e=Cr,t=xr=Cr=0;t<e;){var n=Ir[t];Ir[t++]=null;var r=Ir[t];Ir[t++]=null;var i=Ir[t];Ir[t++]=null;var a=Ir[t];if(Ir[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&Rr(n,i,a)}}function Nr(e,t,n,r){Ir[Cr++]=e,Ir[Cr++]=t,Ir[Cr++]=n,Ir[Cr++]=r,xr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Nr(e,t,n,r),Dr(e)}function Or(e,t){return Nr(e,null,null,t),Dr(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-be(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Dr(e){if(50<$c)throw $c=0,Hc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Lr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,t,n,r){return new Mr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Fr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jr(e,t,n,r,i,a){var s=0;if(r=e,"function"==typeof e)Ur(e)&&(s=1);else if("string"==typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case I:return(e=Fr(31,n,t,i)).elementType=I,e.lanes=a,e;case g:return Br(n.children,i,a,t);case y:s=8,i|=24;break;case v:return(e=Fr(12,n,t,2|i)).elementType=v,e.lanes=a,e;case S:return(e=Fr(13,n,t,i)).elementType=S,e.lanes=a,e;case k:return(e=Fr(19,n,t,i)).elementType=k,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case w:s=10;break e;case b:s=9;break e;case E:s=11;break e;case _:s=14;break e;case T:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Fr(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Br(e,t,n,r){return(e=Fr(7,e,r,t)).lanes=n,e}function $r(e,t,n){return(e=Fr(6,e,null,t)).lanes=n,e}function Hr(e){var t=Fr(18,null,null,0);return t.stateNode=e,t}function qr(e,t,n){return(t=Fr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=new WeakMap;function Kr(e,t){if("object"==typeof e&&null!==e){var n=Gr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:te(t)},Gr.set(e,t),t)}return{value:e,source:t,stack:te(t)}}var Wr=[],Qr=0,Yr=null,Xr=0,Jr=[],Zr=0,ei=null,ti=1,ni="";function ri(e,t){Wr[Qr++]=Xr,Wr[Qr++]=Yr,Yr=e,Xr=t}function ii(e,t,n){Jr[Zr++]=ti,Jr[Zr++]=ni,Jr[Zr++]=ei,ei=e;var r=ti;e=ni;var i=32-be(r)-1;r&=~(1<<i),n+=1;var a=32-be(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ti=1<<32-be(t)+i|n<<i|r,ni=a+e}else ti=1<<a|n<<i|r,ni=e}function ai(e){null!==e.return&&(ri(e,1),ii(e,1,0))}function oi(e){for(;e===Yr;)Yr=Wr[--Qr],Wr[Qr]=null,Xr=Wr[--Qr],Wr[Qr]=null;for(;e===ei;)ei=Jr[--Zr],Jr[Zr]=null,ni=Jr[--Zr],Jr[Zr]=null,ti=Jr[--Zr],Jr[Zr]=null}function si(e,t){Jr[Zr++]=ti,Jr[Zr++]=ni,Jr[Zr++]=ei,ti=t.id,ni=t.overflow,ei=e}var li=null,ci=null,ui=!1,hi=null,di=!1,fi=Error(o(519));function pi(e){throw wi(Kr(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),fi}function mi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ve]=e,t[je]=r,n){case"dialog":Qu("cancel",t),Qu("close",t);break;case"iframe":case"object":case"embed":Qu("load",t);break;case"video":case"audio":for(n=0;n<Gu.length;n++)Qu(Gu[n],t);break;case"source":Qu("error",t);break;case"img":case"image":case"link":Qu("error",t),Qu("load",t);break;case"details":Qu("toggle",t);break;case"input":Qu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qu("invalid",t);break;case"textarea":Qu("invalid",t),St(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||lh(t.textContent,n)?(null!=r.popover&&(Qu("beforetoggle",t),Qu("toggle",t)),null!=r.onScroll&&Qu("scroll",t),null!=r.onScrollEnd&&Qu("scrollend",t),null!=r.onClick&&(t.onclick=Pt),t=!0):t=!1,t||pi(e,!0)}function gi(e){for(li=e.return;li;)switch(li.tag){case 5:case 31:case 13:return void(di=!1);case 27:case 3:return void(di=!0);default:li=li.return}}function yi(e){if(e!==li)return!1;if(!ui)return gi(e),ui=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||vh(e.type,e.memoizedProps)),t=!t),t&&ci&&pi(e),gi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ci=Dh(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ci=Dh(e)}else 27===n?(n=ci,Th(e.type)?(e=Rh,Rh=null,ci=e):ci=n):ci=li?Oh(e.stateNode.nextSibling):null;return!0}function vi(){ci=li=null,ui=!1}function bi(){var e=hi;return null!==e&&(null===Ac?Ac=e:Ac.push.apply(Ac,e),hi=null),e}function wi(e){null===hi?hi=[e]:hi.push(e)}var Ei=U(null),Si=null,ki=null;function _i(e,t,n){V(Ei,t._currentValue),t._currentValue=n}function Ti(e){e._currentValue=Ei.current,z(Ei)}function Ii(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ii(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Ii(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function xi(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(524288&i.flags)a=!0;else if(262144&i.flags)break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=i.type;Xn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(cd):e=[cd])}i=i.return}null!==e&&Ci(t,e,n,r),t.flags|=262144}function Ai(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ni(e){Si=e,ki=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Pi(e){return Ri(Si,e)}function Oi(e,t){return null===Si&&Ni(e),Ri(e,t)}function Ri(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ki){if(null===e)throw Error(o(308));ki=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ki=ki.next=t;return n}var Di="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Li=r.unstable_scheduleCallback,Mi=r.unstable_NormalPriority,Fi={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Di,data:new Map,refCount:0}}function zi(e){e.refCount--,0===e.refCount&&Li(Mi,function(){e.controller.abort()})}var Vi=null,ji=0,Bi=0,$i=null;function Hi(){if(0===--ji&&null!==Vi){null!==$i&&($i.status="fulfilled");var e=Vi;Vi=null,Bi=0,$i=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var qi=R.S;R.S=function(e,t){Oc=se(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Vi){var n=Vi=[];ji=0,Bi=ju(),$i={status:"pending",value:void 0,then:function(e){n.push(e)}}}ji++,t.then(Hi,Hi)}(0,t),null!==qi&&qi(e,t)};var Gi=U(null);function Ki(){var e=Gi.current;return null!==e?e:fc.pooledCache}function Wi(e,t){V(Gi,null===t?Gi.current:t.pool)}function Qi(){var e=Ki();return null===e?null:{parent:Fi._currentValue,pool:e}}var Yi=Error(o(460)),Xi=Error(o(474)),Ji=Error(o(542)),Zi={then:function(){}};function ea(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ta(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Pt,Pt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw aa(e=t.reason),e;default:if("string"==typeof t.status)t.then(Pt,Pt);else{if(null!==(e=fc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw aa(e=t.reason),e}throw ra=t,Yi}}function na(e){try{return(0,e._init)(e._payload)}catch(e){if(null!==e&&"object"==typeof e&&"function"==typeof e.then)throw ra=e,Yi;throw e}}var ra=null;function ia(){if(null===ra)throw Error(o(459));var e=ra;return ra=null,e}function aa(e){if(e===Yi||e===Ji)throw Error(o(483))}var oa=null,sa=0;function la(e){var t=sa;return sa+=1,null===oa&&(oa=[]),ta(oa,e,t)}function ca(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ua(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ha(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$r(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===g?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===T&&na(a)===t.type)?(ca(t=i(t,n.props),n),t.return=e,t):(ca(t=jr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Br(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return ca(n=jr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=qr(t,e.mode,n)).return=e,t;case T:return d(e,t=na(t),n)}if(O(t)||A(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return d(e,la(t),n);if(t.$$typeof===w)return d(e,Oi(e,t),n);ua(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=na(n),r)}if(O(n)||A(n))return null!==i?null:h(e,t,n,r,null);if("function"==typeof n.then)return f(e,t,la(n),r);if(n.$$typeof===w)return f(e,t,Oi(e,n),r);ua(e,n)}return null}function y(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return y(e,t,n,r=na(r),i)}if(O(r)||A(r))return h(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return y(e,t,n,la(r),i);if(r.$$typeof===w)return y(e,t,n,Oi(t,r),i);ua(t,r)}return null}function v(l,c,u,h){if("object"==typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===T&&na(b)===c.type){n(l,c.sibling),ca(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((h=Br(u.props.children,l.mode,h,u.key)).return=l,l=h):(ca(h=jr(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return s(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=qr(u,l.mode,h)).return=l,l=h}return s(l);case T:return v(l,c,u=na(u),h)}if(O(u))return function(i,o,s,l){for(var c=null,u=null,h=o,p=o=0,m=null;null!==h&&p<s.length;p++){h.index>p?(m=h,h=null):m=h.sibling;var g=f(i,h,s[p],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),o=a(g,o,p),null===u?c=g:u.sibling=g,u=g,h=m}if(p===s.length)return n(i,h),ui&&ri(i,p),c;if(null===h){for(;p<s.length;p++)null!==(h=d(i,s[p],l))&&(o=a(h,o,p),null===u?c=h:u.sibling=h,u=h);return ui&&ri(i,p),c}for(h=r(h);p<s.length;p++)null!==(m=y(h,i,p,s[p],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?p:m.key),o=a(m,o,p),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(i,e)}),ui&&ri(i,p),c}(l,c,u,h);if(A(u)){if("function"!=typeof(b=A(u)))throw Error(o(150));return function(i,s,l,c){if(null==l)throw Error(o(151));for(var u=null,h=null,p=s,m=s=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),s=a(b,s,m),null===h?u=b:h.sibling=b,h=b,p=g}if(v.done)return n(i,p),ui&&ri(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,c))&&(s=a(v,s,m),null===h?u=v:h.sibling=v,h=v);return ui&&ri(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),s=a(v,s,m),null===h?u=v:h.sibling=v,h=v);return e&&p.forEach(function(e){return t(i,e)}),ui&&ri(i,m),u}(l,c,u=b.call(u),h)}if("function"==typeof u.then)return v(l,c,la(u),h);if(u.$$typeof===w)return v(l,c,Oi(l,u),h);ua(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=$r(u,l.mode,h)).return=l,l=h),s(l)):n(l,c)}return function(e,t,n,r){try{sa=0;var i=v(e,t,n,r);return oa=null,i}catch(t){if(t===Yi||t===Ji)throw t;var a=Fr(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var da=ha(!0),fa=ha(!1),pa=!1;function ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ga(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ya(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function va(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&dc){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Dr(e),Rr(e,null,n),t}return Nr(e,r,t,n),Dr(e)}function ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}function wa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ea=!1;function Sa(){if(Ea&&null!==$i)throw $i}function ka(e,t,n,r){Ea=!1;var i=e.updateQueue;pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==a){var h=i.baseState;for(o=0,u=c=l=null,s=a;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(mc&f)===f:(r&f)===f){0!==f&&f===Bi&&(Ea=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;f=t;var y=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){h=m.call(y,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(y,h,f):m))break e;h=d({},h,f);break e;case 2:pa=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),kc|=o,e.lanes=o,e.memoizedState=h}}function _a(e,t){if("function"!=typeof e)throw Error(o(191,e));e.call(t)}function Ta(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)_a(n[e],t)}var Ia=U(null),Ca=U(0);function xa(e,t){V(Ca,e=Ec),V(Ia,t),Ec=e|t.baseLanes}function Aa(){V(Ca,Ec),V(Ia,Ia.current)}function Na(){Ec=Ca.current,z(Ia),z(Ca)}var Pa=U(null),Oa=null;function Ra(e){var t=e.alternate;V(Ua,1&Ua.current),V(Pa,e),null===Oa&&(null===t||null!==Ia.current||null!==t.memoizedState)&&(Oa=e)}function Da(e){V(Ua,Ua.current),V(Pa,e),null===Oa&&(Oa=e)}function La(e){22===e.tag?(V(Ua,Ua.current),V(Pa,e),null===Oa&&(Oa=e)):Ma()}function Ma(){V(Ua,Ua.current),V(Pa,Pa.current)}function Fa(e){z(Pa),Oa===e&&(Oa=null),z(Ua)}var Ua=U(0);function za(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Nh(n)||Ph(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=0,ja=null,Ba=null,$a=null,Ha=!1,qa=!1,Ga=!1,Ka=0,Wa=0,Qa=null,Ya=0;function Xa(){throw Error(o(321))}function Ja(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function Za(e,t,n,r,i,a){return Va=a,ja=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?ms:gs,Ga=!1,a=n(r,i),Ga=!1,qa&&(a=to(t,n,r,i)),eo(e),a}function eo(e){R.H=ps;var t=null!==Ba&&null!==Ba.next;if(Va=0,$a=Ba=ja=null,Ha=!1,Wa=0,Qa=null,t)throw Error(o(300));null===e||Os||null!==(e=e.dependencies)&&Ai(e)&&(Os=!0)}function to(e,t,n,r){ja=e;var i=0;do{if(qa&&(Qa=null),Wa=0,qa=!1,25<=i)throw Error(o(301));if(i+=1,$a=Ba=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}R.H=ys,a=t(n,r)}while(qa);return a}function no(){var e=R.H,t=e.useState()[0];return t="function"==typeof t.then?lo(t):t,e=e.useState()[0],(null!==Ba?Ba.memoizedState:null)!==e&&(ja.flags|=1024),t}function ro(){var e=0!==Ka;return Ka=0,e}function io(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ao(e){if(Ha){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ha=!1}Va=0,$a=Ba=ja=null,qa=!1,Wa=Ka=0,Qa=null}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$a?ja.memoizedState=$a=e:$a=$a.next=e,$a}function so(){if(null===Ba){var e=ja.alternate;e=null!==e?e.memoizedState:null}else e=Ba.next;var t=null===$a?ja.memoizedState:$a.next;if(null!==t)$a=t,Ba=e;else{if(null===e){if(null===ja.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(Ba=e).memoizedState,baseState:Ba.baseState,baseQueue:Ba.baseQueue,queue:Ba.queue,next:null},null===$a?ja.memoizedState=$a=e:$a=$a.next=e}return $a}function lo(e){var t=Wa;return Wa+=1,null===Qa&&(Qa=[]),e=ta(Qa,e,t),t=ja,null===(null===$a?t.memoizedState:$a.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?ms:gs),e}function co(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return lo(e);if(e.$$typeof===w)return Pi(e)}throw Error(o(438,String(e)))}function uo(e){var t=null,n=ja.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ja.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ja.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function ho(e,t){return"function"==typeof t?t(e):t}function fo(e){return po(so(),Ba,e)}function po(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=s=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(mc&d)===d:(Va&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Bi&&(h=!0);else{if((Va&f)===f){u=u.next,f===Bi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,s=a):c=c.next=d,ja.lanes|=f,kc|=f}d=u.action,Ga&&n(a,d),a=u.hasEagerState?u.eagerState:n(a,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=a):c=c.next=f,ja.lanes|=d,kc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!Xn(a,e.memoizedState)&&(Os=!0,h&&null!==(n=$i)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function mo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Xn(a,t.memoizedState)||(Os=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function go(e,t,n){var r=ja,i=so(),a=ui;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Xn((Ba||i).memoizedState,n);if(s&&(i.memoizedState=n,Os=!0),i=i.queue,jo(bo.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==$a&&1&$a.memoizedState.tag){if(r.flags|=2048,Mo(9,{destroy:void 0},vo.bind(null,r,i,n,t),null),null===fc)throw Error(o(349));a||127&Va||yo(r,t,n)}return n}function yo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ja.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ja.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function vo(e,t,n,r){t.value=n,t.getSnapshot=r,wo(t)&&Eo(e)}function bo(e,t,n){return n(function(){wo(t)&&Eo(e)})}function wo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(e){return!0}}function Eo(e){var t=Or(e,2);null!==t&&Kc(t,0,2)}function So(e){var t=oo();if("function"==typeof e){var n=e;if(e=n(),Ga){ve(!0);try{n()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:e},t}function ko(e,t,n,r){return e.baseState=n,po(e,Ba,"function"==typeof r?r:ho)}function _o(e,t,n,r,i){if(hs(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==R.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,To(t,a)):(a.next=n.next,t.pending=n.next=a)}}function To(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=R.T,o={};R.T=o;try{var s=n(i,r),l=R.S;null!==l&&l(o,s),Io(e,t,s)}catch(n){xo(e,t,n)}finally{null!==a&&null!==o.types&&(a.types=o.types),R.T=a}}else try{Io(e,t,a=n(i,r))}catch(n){xo(e,t,n)}}function Io(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Co(e,t,n)},function(n){return xo(e,t,n)}):Co(e,t,n)}function Co(e,t,n){t.status="fulfilled",t.value=n,Ao(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,To(e,n)))}function xo(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ao(t),t=t.next}while(t!==r)}e.action=null}function Ao(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function No(e,t){return t}function Po(e,t){if(ui){var n=fc.formState;if(null!==n){e:{var r=ja;if(ui){if(ci){t:{for(var i=ci,a=di;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=Oh(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ci=Oh(i.nextSibling),r="F!"===i.data;break e}}pi(r)}r=!1}r&&(t=n[0])}}return(n=oo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:t},n.queue=r,n=ls.bind(null,ja,r),r.dispatch=n,r=So(!1),a=us.bind(null,ja,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=oo()).queue=i,n=_o.bind(null,ja,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Oo(e){return Ro(so(),Ba,e)}function Ro(e,t,n){if(t=po(e,t,No)[0],e=fo(ho)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=lo(t)}catch(e){if(e===Yi)throw Ji;throw e}else r=t;var i=(t=so()).queue,a=i.dispatch;return n!==t.memoizedState&&(ja.flags|=2048,Mo(9,{destroy:void 0},Do.bind(null,i,n),null)),[r,a,e]}function Do(e,t){e.action=t}function Lo(e){var t=so(),n=Ba;if(null!==n)return Ro(t,n,e);so(),t=t.memoizedState;var r=(n=so()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Mo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=ja.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ja.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fo(){return so().memoizedState}function Uo(e,t,n,r){var i=oo();ja.flags|=e,i.memoizedState=Mo(1|t,{destroy:void 0},n,void 0===r?null:r)}function zo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Ba&&null!==r&&Ja(r,Ba.memoizedState.deps)?i.memoizedState=Mo(t,a,n,r):(ja.flags|=e,i.memoizedState=Mo(1|t,a,n,r))}function Vo(e,t){Uo(8390656,8,e,t)}function jo(e,t){zo(2048,8,e,t)}function Bo(e){var t=so().memoizedState;return function(e){ja.flags|=4;var t=ja.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},ja.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&dc)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function $o(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function qo(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Go(e,t,n){n=null!=n?n.concat([e]):null,zo(4,4,qo.bind(null,t,e),n)}function Ko(){}function Wo(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ja(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ja(t,r[1]))return r[0];if(r=e(),Ga){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r}function Yo(e,t,n){return void 0===n||1073741824&Va&&!(261930&mc)?e.memoizedState=t:(e.memoizedState=n,e=Gc(),ja.lanes|=e,kc|=e,n)}function Xo(e,t,n,r){return Xn(n,t)?n:null!==Ia.current?(e=Yo(e,n,r),Xn(e,t)||(Os=!0),e):42&Va&&(!(1073741824&Va)||261930&mc)?(e=Gc(),ja.lanes|=e,kc|=e,t):(Os=!0,e.memoizedState=n)}function Jo(e,t,n,r,i){var a=D.p;D.p=0!==a&&8>a?a:8;var o=R.T,s={};R.T=s,us(e,!1,t,n);try{var l=i(),c=R.S;if(null!==c&&c(s,l),null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);cs(e,t,u,qc())}else cs(e,t,r,qc())}catch(n){cs(e,t,{then:function(){},status:"rejected",reason:n},qc())}finally{D.p=a,null!==o&&null!==s.types&&(o.types=s.types),R.T=o}}function Zo(){}function es(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=ts(e).queue;Jo(e,i,t,L,null===n?Zo:function(){return ns(e),n(r)})}function ts(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ns(e){var t=ts(e);null===t.next&&(t=e.alternate.memoizedState),cs(e,t.next.queue,{},qc())}function rs(){return Pi(cd)}function is(){return so().memoizedState}function as(){return so().memoizedState}function os(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=qc(),r=va(t,e=ya(n),n);return null!==r&&(Kc(r,0,n),ba(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function ss(e,t,n){var r=qc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hs(e)?ds(t,n):null!==(n=Pr(e,t,n,r))&&(Kc(n,0,r),fs(n,t,r))}function ls(e,t,n){cs(e,t,n,qc())}function cs(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hs(e))ds(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Xn(s,o))return Nr(e,t,i,0),null===fc&&Ar(),!1}catch(e){}if(null!==(n=Pr(e,t,i,r)))return Kc(n,0,r),fs(n,t,r),!0}return!1}function us(e,t,n,r){if(r={lane:2,revertLane:ju(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},hs(e)){if(t)throw Error(o(479))}else null!==(t=Pr(e,n,r,2))&&Kc(t,0,2)}function hs(e){var t=e.alternate;return e===ja||null!==t&&t===ja}function ds(e,t){qa=Ha=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fs(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}var ps={readContext:Pi,use:co,useCallback:Xa,useContext:Xa,useEffect:Xa,useImperativeHandle:Xa,useLayoutEffect:Xa,useInsertionEffect:Xa,useMemo:Xa,useReducer:Xa,useRef:Xa,useState:Xa,useDebugValue:Xa,useDeferredValue:Xa,useTransition:Xa,useSyncExternalStore:Xa,useId:Xa,useHostTransitionStatus:Xa,useFormState:Xa,useActionState:Xa,useOptimistic:Xa,useMemoCache:Xa,useCacheRefresh:Xa};ps.useEffectEvent=Xa;var ms={readContext:Pi,use:co,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:Vo,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Uo(4194308,4,qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){Uo(4,2,e,t)},useMemo:function(e,t){var n=oo();t=void 0===t?null:t;var r=e();if(Ga){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=oo();if(void 0!==n){var i=n(t);if(Ga){ve(!0);try{n(t)}finally{ve(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ss.bind(null,ja,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},oo().memoizedState=e},useState:function(e){var t=(e=So(e)).queue,n=ls.bind(null,ja,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ko,useDeferredValue:function(e,t){return Yo(oo(),e,t)},useTransition:function(){var e=So(!1);return e=Jo.bind(null,ja,e.queue,!0,!1),oo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ja,i=oo();if(ui){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===fc)throw Error(o(349));127&mc||yo(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Vo(bo.bind(null,r,a,e),[e]),r.flags|=2048,Mo(9,{destroy:void 0},vo.bind(null,r,a,n,t),null),n},useId:function(){var e=oo(),t=fc.identifierPrefix;if(ui){var n=ni;t="_"+t+"R_"+(n=(ti&~(1<<32-be(ti)-1)).toString(32)+n),0<(n=Ka++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Ya++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rs,useFormState:Po,useActionState:Po,useOptimistic:function(e){var t=oo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=us.bind(null,ja,!0,n),n.dispatch=t,[e,t]},useMemoCache:uo,useCacheRefresh:function(){return oo().memoizedState=os.bind(null,ja)},useEffectEvent:function(e){var t=oo(),n={impl:e};return t.memoizedState=n,function(){if(2&dc)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},gs={readContext:Pi,use:co,useCallback:Wo,useContext:Pi,useEffect:jo,useImperativeHandle:Go,useInsertionEffect:$o,useLayoutEffect:Ho,useMemo:Qo,useReducer:fo,useRef:Fo,useState:function(){return fo(ho)},useDebugValue:Ko,useDeferredValue:function(e,t){return Xo(so(),Ba.memoizedState,e,t)},useTransition:function(){var e=fo(ho)[0],t=so().memoizedState;return["boolean"==typeof e?e:lo(e),t]},useSyncExternalStore:go,useId:is,useHostTransitionStatus:rs,useFormState:Oo,useActionState:Oo,useOptimistic:function(e,t){return ko(so(),0,e,t)},useMemoCache:uo,useCacheRefresh:as};gs.useEffectEvent=Bo;var ys={readContext:Pi,use:co,useCallback:Wo,useContext:Pi,useEffect:jo,useImperativeHandle:Go,useInsertionEffect:$o,useLayoutEffect:Ho,useMemo:Qo,useReducer:mo,useRef:Fo,useState:function(){return mo(ho)},useDebugValue:Ko,useDeferredValue:function(e,t){var n=so();return null===Ba?Yo(n,e,t):Xo(n,Ba.memoizedState,e,t)},useTransition:function(){var e=mo(ho)[0],t=so().memoizedState;return["boolean"==typeof e?e:lo(e),t]},useSyncExternalStore:go,useId:is,useHostTransitionStatus:rs,useFormState:Lo,useActionState:Lo,useOptimistic:function(e,t){var n=so();return null!==Ba?ko(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:uo,useCacheRefresh:as};function vs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ys.useEffectEvent=Bo;var bs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qc(),i=ya(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=va(e,i,r))&&(Kc(t,0,r),ba(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qc(),i=ya(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=va(e,i,r))&&(Kc(t,0,r),ba(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qc(),r=ya(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=va(e,r,n))&&(Kc(t,0,n),ba(t,e,n))}};function ws(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!(t.prototype&&t.prototype.isPureReactComponent&&Jn(n,r)&&Jn(i,a))}function Es(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bs.enqueueReplaceState(t,t.state,null)}function Ss(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function ks(e){Tr(e)}function _s(e){console.error(e)}function Ts(e){Tr(e)}function Is(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Cs(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function xs(e,t,n){return(n=ya(n)).tag=3,n.payload={element:null},n.callback=function(){Is(e,t)},n}function As(e){return(e=ya(e)).tag=3,e}function Ns(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Cs(t,n,r)}}var o=n.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){Cs(t,n,r),"function"!=typeof i&&(null===Lc?Lc=new Set([this]):Lc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ps=Error(o(461)),Os=!1;function Rs(e,t,n,r){t.child=null===e?fa(t,null,n,r):da(t,e.child,n,r)}function Ds(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Ni(t),r=Za(e,t,n,o,a,i),s=ro(),null===e||Os?(ui&&s&&ai(t),t.flags|=1,Rs(e,t,r,i),t.child):(io(e,t,i),rl(e,t,i))}function Ls(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Ur(a)||void 0!==a.defaultProps||null!==n.compare?((e=jr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ms(e,t,a,r,i))}if(a=e.child,!il(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(o,r)&&e.ref===t.ref)return rl(e,t,i)}return t.flags|=1,(e=zr(a,r)).ref=t.ref,e.return=t,t.child=e}function Ms(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Jn(a,r)&&e.ref===t.ref){if(Os=!1,t.pendingProps=r=a,!il(e,i))return t.lanes=e.lanes,rl(e,t,i);131072&e.flags&&(Os=!0)}}return $s(e,t,n,r,i)}function Fs(e,t,n,r){var i=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return zs(e,t,a,n,r)}if(!(536870912&n))return r=t.lanes=536870912,zs(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Wi(0,null!==a?a.cachePool:null),null!==a?xa(t,a):Aa(),La(t)}else null!==a?(Wi(0,a.cachePool),xa(t,a),Ma(),t.memoizedState=null):(null!==e&&Wi(0,null),Aa(),Ma());return Rs(e,t,i,n),t.child}function Us(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zs(e,t,n,r,i){var a=Ki();return a=null===a?null:{parent:Fi._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Wi(0,null),Aa(),La(t),null!==e&&xi(e,t,r,!0),t.childLanes=i,null}function Vs(e,t){return(t=Js({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function js(e,t,n){return da(t,e.child,null,n),(e=Vs(t,t.pendingProps)).flags|=2,Fa(t),t.memoizedState=null,e}function Bs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function $s(e,t,n,r,i){return Ni(t),n=Za(e,t,n,r,void 0,i),r=ro(),null===e||Os?(ui&&r&&ai(t),t.flags|=1,Rs(e,t,n,i),t.child):(io(e,t,i),rl(e,t,i))}function Hs(e,t,n,r,i,a){return Ni(t),t.updateQueue=null,n=to(t,r,n,i),eo(e),r=ro(),null===e||Os?(ui&&r&&ai(t),t.flags|=1,Rs(e,t,n,a),t.child):(io(e,t,a),rl(e,t,a))}function qs(e,t,n,r,i){if(Ni(t),null===t.stateNode){var a=Lr,o=n.contextType;"object"==typeof o&&null!==o&&(a=Pi(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=bs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ma(t),o=n.contextType,a.context="object"==typeof o&&null!==o?Pi(o):Lr,a.state=t.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(vs(t,n,o,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(o=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&bs.enqueueReplaceState(a,a.state,null),ka(t,r,a,i),Sa(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=Ss(n,s);a.props=l;var c=a.context,u=n.contextType;o=Lr,"object"==typeof u&&null!==u&&(o=Pi(u));var h=n.getDerivedStateFromProps;u="function"==typeof h||"function"==typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s||c!==o)&&Es(t,a,r,o),pa=!1;var d=t.memoizedState;a.state=d,ka(t,r,a,i),Sa(),c=t.memoizedState,s||d!==c||pa?("function"==typeof h&&(vs(t,n,h,r),c=t.memoizedState),(l=pa||ws(t,n,l,r,d,c,o))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ga(e,t),u=Ss(n,o=t.memoizedProps),a.props=u,h=t.pendingProps,d=a.context,c=n.contextType,l=Lr,"object"==typeof c&&null!==c&&(l=Pi(c)),(c="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==h||d!==l)&&Es(t,a,r,l),pa=!1,d=t.memoizedState,a.state=d,ka(t,r,a,i),Sa();var f=t.memoizedState;o!==h||d!==f||pa||null!==e&&null!==e.dependencies&&Ai(e.dependencies)?("function"==typeof s&&(vs(t,n,s,r),f=t.memoizedState),(u=pa||ws(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&Ai(e.dependencies))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Bs(e,t),r=!!(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=da(t,e.child,null,i),t.child=da(t,null,n,i)):Rs(e,t,n,i),t.memoizedState=a.state,e=t.child):e=rl(e,t,i),e}function Gs(e,t,n,r){return vi(),t.flags|=256,Rs(e,t,n,r),t.child}var Ks={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ws(e){return{baseLanes:e,cachePool:Qi()}}function Qs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ic),e}function Ys(e,t,n){var r,i=t.pendingProps,a=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&Ua.current)),r&&(a=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(ui){if(a?Ra(t):Ma(),(e=ci)?null!==(e=null!==(e=Ah(e,di))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ei?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,li=t,ci=null):e=null,null===e)throw pi(t);return Ph(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,a?(Ma(),l=Js({mode:"hidden",children:l},a=t.mode),i=Br(i,a,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Ws(n),i.childLanes=Qs(e,r,n),t.memoizedState=Ks,Us(null,i)):(Ra(t),Xs(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(Ra(t),t.flags&=-257,t=Zs(e,t,n)):null!==t.memoizedState?(Ma(),t.child=e.child,t.flags|=128,t=null):(Ma(),l=i.fallback,a=t.mode,i=Js({mode:"visible",children:i.children},a),(l=Br(l,a,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,da(t,e.child,null,n),(i=t.child).memoizedState=Ws(n),i.childLanes=Qs(e,r,n),t.memoizedState=Ks,t=Us(null,i));else if(Ra(t),Ph(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,wi({value:i,source:null,stack:null}),t=Zs(e,t,n)}else if(Os||xi(e,t,n,!1),r=0!==(n&e.childLanes),Os||r){if(null!==(r=fc)&&0!==(i=De(r,n))&&i!==c.retryLane)throw c.retryLane=i,Or(e,i),Kc(r,0,i),Ps;Nh(l)||au(),t=Zs(e,t,n)}else Nh(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ci=Oh(l.nextSibling),li=t,ui=!0,hi=null,di=!1,null!==e&&si(t,e),(t=Xs(t,i.children)).flags|=4096);return t}return a?(Ma(),l=i.fallback,a=t.mode,u=(c=e.child).sibling,(i=zr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=zr(u,l):(l=Br(l,a,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Us(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Ws(n):(null!==(a=l.cachePool)?(c=Fi._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Qi(),l={baseLanes:l.baseLanes|n,cachePool:a}),i.memoizedState=l,i.childLanes=Qs(e,r,n),t.memoizedState=Ks,Us(e.child,i)):(Ra(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Xs(e,t){return(t=Js({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Js(e,t){return(e=Fr(22,e,null,t)).lanes=0,e}function Zs(e,t,n){return da(t,e.child,null,n),(e=Xs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function el(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ii(e.return,t,n)}function tl(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function nl(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=Ua.current,s=!!(2&o);if(s?(o=1&o|2,t.flags|=128):o&=1,V(Ua,o),Rs(e,t,r,n),r=ui?Xr:0,!s&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&el(e,n,t);else if(19===e.tag)el(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===za(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),tl(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===za(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}tl(t,!0,n,null,a,r);break;case"together":tl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function rl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),kc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(xi(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function il(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ai(e))}function al(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Os=!0;else{if(!(il(e,n)||128&t.flags))return Os=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),_i(0,Fi,e.memoizedState.cache),vi();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:_i(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Da(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ra(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ys(e,t,n):(Ra(t),null!==(e=rl(e,t,n))?e.sibling:null);Ra(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(xi(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return nl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(Ua,Ua.current),r)break;return null;case 22:return t.lanes=0,Fs(e,t,n,t.pendingProps);case 24:_i(0,Fi,e.memoizedState.cache)}return rl(e,t,n)}(e,t,n);Os=!!(131072&e.flags)}else Os=!1,ui&&1048576&t.flags&&ii(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=na(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var i=e.$$typeof;if(i===E){t.tag=11,t=Ds(null,t,e,r,n);break e}if(i===_){t.tag=14,t=Ls(null,t,e,r,n);break e}}throw t=P(e)||e,Error(o(306,t,""))}Ur(e)?(r=Ss(e,r),t.tag=1,t=qs(null,t,e,r,n)):(t.tag=0,t=$s(null,t,e,r,n))}return t;case 0:return $s(e,t,t.type,t.pendingProps,n);case 1:return qs(e,t,r=t.type,i=Ss(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ga(e,t),ka(t,r,null,n);var s=t.memoizedState;if(r=s.cache,_i(0,Fi,r),r!==a.cache&&Ci(t,[Fi],n,!0),Sa(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Gs(e,t,r,n);break e}if(r!==i){wi(i=Kr(Error(o(424)),t)),t=Gs(e,t,r,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,ci=Oh(e.firstChild),li=t,ui=!0,hi=null,di=!0,n=fa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(vi(),r===i){t=rl(e,t,n);break e}Rs(e,t,r,n)}t=t.child}return t;case 26:return Bs(e,t),null===e?(n=Hh(t.type,null,t.pendingProps,null))?t.memoizedState=n:ui||(n=t.type,e=t.pendingProps,(r=mh(q.current).createElement(n))[Ve]=t,r[je]=e,hh(r,n,e),Ze(r),t.stateNode=r):t.memoizedState=Hh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ui&&(r=t.stateNode=Mh(t.type,t.pendingProps,q.current),li=t,di=!0,i=ci,Th(t.type)?(Rh=i,ci=Oh(r.firstChild)):ci=i),Rs(e,t,t.pendingProps.children,n),Bs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ui&&((i=r=ci)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=Oh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,di))?(t.stateNode=r,li=t,ci=Oh(r.firstChild),di=!1,i=!0):i=!1),i||pi(t)),Q(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,vh(i,a)?r=null:null!==s&&vh(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=Za(e,t,no,null,null,n),cd._currentValue=i),Bs(e,t),Rs(e,t,r,n),t.child;case 6:return null===e&&ui&&((e=n=ci)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Oh(e.nextSibling)))return null}return e}(n,t.pendingProps,di))?(t.stateNode=n,li=t,ci=null,e=!0):e=!1),e||pi(t)),null;case 13:return Ys(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=da(t,null,r,n):Rs(e,t,r,n),t.child;case 11:return Ds(e,t,t.type,t.pendingProps,n);case 7:return Rs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Rs(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_i(0,t.type,r.value),Rs(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ni(t),r=r(i=Pi(i)),t.flags|=1,Rs(e,t,r,n),t.child;case 14:return Ls(e,t,t.type,t.pendingProps,n);case 15:return Ms(e,t,t.type,t.pendingProps,n);case 19:return nl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=!!(128&t.flags);if(t.flags&=-129,null===e){if(ui){if("hidden"===r.mode)return e=Vs(t,r),t.lanes=536870912,Us(null,e);if(Da(t),(e=ci)?null!==(e=null!==(e=Ah(e,di))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ei?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,li=t,ci=null):e=null,null===e)throw pi(t);return t.lanes=536870912,null}return Vs(t,r)}var a=e.memoizedState;if(null!==a){var s=a.dehydrated;if(Da(t),i)if(256&t.flags)t.flags&=-257,t=js(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(Os||xi(e,t,n,!1),i=0!==(n&e.childLanes),Os||i){if(null!==(r=fc)&&0!==(s=De(r,n))&&s!==a.retryLane)throw a.retryLane=s,Or(e,s),Kc(r,0,s),Ps;au(),t=js(e,t,n)}else e=a.treeContext,ci=Oh(s.nextSibling),li=t,ui=!0,hi=null,di=!1,null!==e&&si(t,e),(t=Vs(t,r)).flags|=4096;return t}return(e=zr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fs(e,t,n,t.pendingProps);case 24:return Ni(t),r=Pi(Fi),null===e?(null===(i=Ki())&&(i=fc,a=Ui(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},ma(t),_i(0,Fi,i)):(0!==(e.lanes&n)&&(ga(e,t),ka(t,null,null,n),Sa()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),_i(0,Fi,r)):(r=a.cache,_i(0,Fi,r),r!==i.cache&&Ci(t,[Fi],n,!0))),Rs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ol(e){e.flags|=4}function sl(e,t,n,r,i){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!nu())throw ra=Zi,Xi;e.flags|=8192}}else e.flags&=-16777217}function ll(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!rd(t)){if(!nu())throw ra=Zi,Xi;e.flags|=8192}}function cl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ae():536870912,e.lanes|=t,Cc|=t)}function ul(e,t){if(!ui)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dl(e,t,n){var r=t.pendingProps;switch(oi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ti(Fi),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(yi(t)?ol(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,bi())),hl(t),null;case 26:var i=t.type,a=t.memoizedState;return null===e?(ol(t),null!==a?(hl(t),ll(t,a)):(hl(t),sl(t,i,0,0,n))):a?a!==e.memoizedState?(ol(t),hl(t),ll(t,a)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ol(t),hl(t),sl(t,i,0,0,n)),null;case 27:if(Y(t),n=q.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return hl(t),null}e=$.current,yi(t)?mi(t):(e=Mh(i,r,n),t.stateNode=e,ol(t))}return hl(t),null;case 5:if(Y(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return hl(t),null}if(a=$.current,yi(t))mi(t);else{var s=mh(q.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(a=s.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"==typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"==typeof r.is?s.createElement(i,{is:r.is}):s.createElement(i)}}a[Ve]=t,a[je]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)a.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(hh(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ol(t)}}return hl(t),sl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(e=q.current,yi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=li))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ve]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||lh(e.nodeValue,n)))||pi(t,!0)}else(e=mh(e).createTextNode(r))[Ve]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=yi(t),null!==n){if(null===e){if(!r)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[Ve]=t}else vi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=bi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Fa(t),t):(Fa(t),null);if(128&t.flags)throw Error(o(558))}return hl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=yi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Ve]=t}else vi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),i=!1}else i=bi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Fa(t),t):(Fa(t),null)}return Fa(t),128&t.flags?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),cl(t,t.updateQueue),hl(t),null);case 4:return W(),null===e&&Ju(t.stateNode.containerInfo),hl(t),null;case 10:return Ti(t.type),hl(t),null;case 19:if(z(Ua),null===(r=t.memoizedState))return hl(t),null;if(i=!!(128&t.flags),null===(a=r.rendering))if(i)ul(r,!1);else{if(0!==Sc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=za(e))){for(t.flags|=128,ul(r,!1),e=a.updateQueue,t.updateQueue=e,cl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vr(n,e),n=n.sibling;return V(Ua,1&Ua.current|2),ui&&ri(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&se()>Rc&&(t.flags|=128,i=!0,ul(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=za(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,cl(t,e),ul(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!ui)return hl(t),null}else 2*se()-r.renderingStartTime>Rc&&536870912!==n&&(t.flags|=128,i=!0,ul(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=se(),e.sibling=null,n=Ua.current,V(Ua,i?1&n|2:1&n),ui&&ri(t,r.treeForkCount),e):(hl(t),null);case 22:case 23:return Fa(t),Na(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&cl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Gi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ti(Fi),hl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function fl(e,t){switch(oi(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ti(Fi),W(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 31:if(null!==t.memoizedState){if(Fa(t),null===t.alternate)throw Error(o(340));vi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fa(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));vi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(Ua),null;case 4:return W(),null;case 10:return Ti(t.type),null;case 22:case 23:return Fa(t),Na(),null!==e&&z(Gi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ti(Fi),null;default:return null}}function pl(e,t){switch(oi(t),t.tag){case 3:Ti(Fi),W();break;case 26:case 27:case 5:Y(t);break;case 4:W();break;case 31:null!==t.memoizedState&&Fa(t);break;case 13:Fa(t);break;case 19:z(Ua);break;case 10:Ti(t.type);break;case 22:case 23:Fa(t),Na(),null!==e&&z(Gi);break;case 24:Ti(Fi)}}function ml(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Su(t,t.return,e)}}function gl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(e){Su(i,l,e)}}}r=r.next}while(r!==a)}}catch(e){Su(t,t.return,e)}}function yl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ta(t,n)}catch(t){Su(e,e.return,t)}}}function vl(e,t,n){n.props=Ss(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Su(e,t,n)}}function bl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){Su(e,t,n)}}function wl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){Su(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){Su(e,t,n)}else n.current=null}function El(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Su(e,e.return,t)}}function Sl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||ch(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&ch(e,t,f,p,r,d)}}return void yt(e,s,l,c,u,h,a,i);case"select":for(a in p=s=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||ch(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&ch(e,t,i,a,r,c)}return t=l,n=s,r=p,void(null!=f?wt(e,!!n,f,!1):!!r!=!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ch(e,t,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&ch(e,t,s,i,r,a)}return void Et(e,f,p);case"option":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&("selected"===m?e.selected=!1:ch(e,t,m,null,r,f));for(c in r)f=r[c],p=n[c],!r.hasOwnProperty(c)||f===p||null==f&&null==p||("selected"===c?e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f:ch(e,t,c,f,r,p));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&ch(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:ch(e,t,u,f,r,p)}return;default:if(Ct(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&uh(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||uh(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&ch(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||ch(e,t,d,f,r,p)}(r,e.type,n,t),r[je]=t}catch(t){Su(e,e.return,t)}}function kl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Th(e.type)||4===e.tag}function _l(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||kl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Th(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Pt));else if(4!==r&&(27===r&&Th(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Il(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Th(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Il(e,t,n),e=e.sibling;null!==e;)Il(e,t,n),e=e.sibling}function Cl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);hh(t,r,n),t[Ve]=e,t[je]=n}catch(t){Su(e,e.return,t)}}var xl=!1,Al=!1,Nl=!1,Pl="function"==typeof WeakSet?WeakSet:Set,Ol=null;function Rl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Kl(e,n),4&r&&ml(5,n);break;case 1:if(Kl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){Su(n,n.return,e)}else{var i=Ss(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Su(n,n.return,e)}}64&r&&yl(n),512&r&&bl(n,n.return);break;case 3:if(Kl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ta(e,t)}catch(e){Su(n,n.return,e)}}break;case 27:null===t&&4&r&&Cl(n);case 26:case 5:Kl(e,n),null===t&&4&r&&El(n),512&r&&bl(n,n.return);break;case 12:Kl(e,n);break;case 31:Kl(e,n),4&r&&zl(e,n);break;case 13:Kl(e,n),4&r&&Vl(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Iu.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||Al,i=xl;var a=Al;xl=r,(Al=t)&&!a?Ql(e,n,!!(8772&n.subtreeFlags)):Kl(e,n),xl=i,Al=a}break;case 30:break;default:Kl(e,n)}}function Dl(e){var t=e.alternate;null!==t&&(e.alternate=null,Dl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&We(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ll=null,Ml=!1;function Fl(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(ye&&"function"==typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ge,n)}catch(e){}switch(n.tag){case 26:Al||wl(n,t),Fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Al||wl(n,t);var r=Ll,i=Ml;Th(n.type)&&(Ll=n.stateNode,Ml=!1),Fl(e,t,n),Fh(n.stateNode),Ll=r,Ml=i;break;case 5:Al||wl(n,t);case 6:if(r=Ll,i=Ml,Ll=null,Fl(e,t,n),Ml=i,null!==(Ll=r))if(Ml)try{(9===Ll.nodeType?Ll.body:"HTML"===Ll.nodeName?Ll.ownerDocument.body:Ll).removeChild(n.stateNode)}catch(e){Su(n,t,e)}else try{Ll.removeChild(n.stateNode)}catch(e){Su(n,t,e)}break;case 18:null!==Ll&&(Ml?(Ih(9===(e=Ll).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),jd(e)):Ih(Ll,n.stateNode));break;case 4:r=Ll,i=Ml,Ll=n.stateNode.containerInfo,Ml=!0,Fl(e,t,n),Ll=r,Ml=i;break;case 0:case 11:case 14:case 15:gl(2,n,t),Al||gl(4,n,t),Fl(e,t,n);break;case 1:Al||(wl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&vl(n,t,r)),Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:Al=(r=Al)||null!==n.memoizedState,Fl(e,t,n),Al=r;break;default:Fl(e,t,n)}}function zl(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)){e=e.dehydrated;try{jd(e)}catch(e){Su(t,t.return,e)}}}function Vl(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{jd(e)}catch(e){Su(t,t.return,e)}}function jl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Pl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Pl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Cu.bind(null,e,t);t.then(r,r)}})}function Bl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Th(l.type)){Ll=l.stateNode,Ml=!1;break e}break;case 5:Ll=l.stateNode,Ml=!1;break e;case 3:case 4:Ll=l.stateNode.containerInfo,Ml=!0;break e}l=l.return}if(null===Ll)throw Error(o(160));Ul(a,s,i),Ll=null,Ml=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Hl(t,e),t=t.sibling}var $l=null;function Hl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bl(t,e),ql(e),4&r&&(gl(3,e,e.return),ml(3,e),gl(5,e,e.return));break;case 1:Bl(t,e),ql(e),512&r&&(Al||null===n||wl(n,n.return)),64&r&&xl&&null!==(e=e.updateQueue)&&null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r));break;case 26:var i=$l;if(Bl(t,e),ql(e),512&r&&(Al||null===n||wl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Ke]||a[Ve]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),hh(a,r,n),a[Ve]=e,Ze(a),r=a;break e;case"link":var s=td("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}hh(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=td("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}hh(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(o(468,r))}a[Ve]=e,Ze(a),r=a}e.stateNode=r}else nd(i,e.type,e.stateNode);else e.stateNode=Yh(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?nd(i,e.type,e.stateNode):Yh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Sl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Bl(t,e),ql(e),512&r&&(Al||null===n||wl(n,n.return)),null!==n&&4&r&&Sl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Bl(t,e),ql(e),512&r&&(Al||null===n||wl(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(t){Su(e,e.return,t)}}4&r&&null!=e.stateNode&&Sl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Nl=!0);break;case 6:if(Bl(t,e),ql(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Su(e,e.return,t)}}break;case 3:if(ed=null,i=$l,$l=Vh(t.containerInfo),Bl(t,e),$l=i,ql(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jd(t.containerInfo)}catch(t){Su(e,e.return,t)}Nl&&(Nl=!1,Gl(e));break;case 4:r=$l,$l=Vh(e.stateNode.containerInfo),Bl(t,e),ql(e),$l=r;break;case 12:default:Bl(t,e),ql(e);break;case 31:case 19:Bl(t,e),ql(e),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,jl(e,r));break;case 13:Bl(t,e),ql(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Pc=se()),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,jl(e,r));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=xl,h=Al;if(xl=u||i,Al=h||c,Bl(t,e),Al=h,xl=u,ql(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||xl||Al||Wl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"==typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=null!=d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(e){Su(c,c.return,e)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(e){Su(c,c.return,e)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Ch(p,!0):Ch(c.stateNode,!1)}catch(e){Su(c,c.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&null!==(r=e.updateQueue)&&null!==(n=r.retryQueue)&&(r.retryQueue=null,jl(e,n));case 30:case 21:}}function ql(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(kl(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;Il(e,_l(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(kt(a,""),n.flags&=-33),Il(e,_l(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;Tl(e,_l(e),s);break;default:throw Error(o(161))}}catch(t){Su(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Kl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Rl(e,t.alternate,t),t=t.sibling}function Wl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:gl(4,t,t.return),Wl(t);break;case 1:wl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&vl(t,t.return,n),Wl(t);break;case 27:Fh(t.stateNode);case 26:case 5:wl(t,t.return),Wl(t);break;case 22:null===t.memoizedState&&Wl(t);break;default:Wl(t)}e=e.sibling}}function Ql(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Ql(i,a,n),ml(4,a);break;case 1:if(Ql(i,a,n),"function"==typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(e){Su(r,r.return,e)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)_a(l[i],s)}catch(e){Su(r,r.return,e)}}n&&64&o&&yl(a),bl(a,a.return);break;case 27:Cl(a);case 26:case 5:Ql(i,a,n),n&&null===r&&4&o&&El(a),bl(a,a.return);break;case 12:Ql(i,a,n);break;case 31:Ql(i,a,n),n&&4&o&&zl(i,a);break;case 13:Ql(i,a,n),n&&4&o&&Vl(i,a);break;case 22:null===a.memoizedState&&Ql(i,a,n),bl(a,a.return);break;case 30:break;default:Ql(i,a,n)}t=t.sibling}}function Yl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zi(n))}function Xl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e))}function Jl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Zl(e,t,n,r),t=t.sibling}function Zl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Jl(e,t,n,r),2048&i&&ml(9,t);break;case 1:case 31:case 13:default:Jl(e,t,n,r);break;case 3:Jl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e)));break;case 12:if(2048&i){Jl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"==typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){Su(t,t.return,e)}}else Jl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Jl(e,t,n,r):tc(e,t):2&a._visibility?Jl(e,t,n,r):(a._visibility|=2,ec(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&i&&Yl(o,t);break;case 24:Jl(e,t,n,r),2048&i&&Xl(t.alternate,t)}}function ec(e,t,n,r,i){for(i=i&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:ec(a,o,s,l,i),ml(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?ec(a,o,s,l,i):tc(a,o):(u._visibility|=2,ec(a,o,s,l,i)),i&&2048&c&&Yl(o.alternate,o);break;case 24:ec(a,o,s,l,i),i&&2048&c&&Xl(o.alternate,o);break;default:ec(a,o,s,l,i)}t=t.sibling}}function tc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:tc(n,r),2048&i&&Yl(r.alternate,r);break;case 24:tc(n,r),2048&i&&Xl(r.alternate,r);break;default:tc(n,r)}t=t.sibling}}var nc=8192;function rc(e,t,n){if(e.subtreeFlags&nc)for(e=e.child;null!==e;)ic(e,t,n),e=e.sibling}function ic(e,t,n){switch(e.tag){case 26:rc(e,t,n),e.flags&nc&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var i=qh(r.href),a=t.querySelector(Gh(i));if(a)return null!==(t=a._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=ad.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void Ze(a);a=t.ownerDocument||t,r=Kh(r),(i=Uh.get(i))&&Jh(r,i),Ze(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),hh(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=ad.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,$l,e.memoizedState,e.memoizedProps);break;case 5:default:rc(e,t,n);break;case 3:case 4:var r=$l;$l=Vh(e.stateNode.containerInfo),rc(e,t,n),$l=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=nc,nc=16777216,rc(e,t,n),nc=r):rc(e,t,n))}}function ac(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function oc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ol=r,cc(r,e)}ac(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)sc(e),e=e.sibling}function sc(e){switch(e.tag){case 0:case 11:case 15:oc(e),2048&e.flags&&gl(9,e,e.return);break;case 3:case 12:default:oc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,lc(e)):oc(e)}}function lc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ol=r,cc(r,e)}ac(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:gl(8,t,t.return),lc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,lc(t));break;default:lc(t)}e=e.sibling}}function cc(e,t){for(;null!==Ol;){var n=Ol;switch(n.tag){case 0:case 11:case 15:gl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ol=r;else e:for(n=e;null!==Ol;){var i=(r=Ol).sibling,a=r.return;if(Dl(r),r===n){Ol=null;break e}if(null!==i){i.return=a,Ol=i;break e}Ol=a}}}var uc={getCacheForType:function(e){var t=Pi(Fi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Pi(Fi).controller.signal}},hc="function"==typeof WeakMap?WeakMap:Map,dc=0,fc=null,pc=null,mc=0,gc=0,yc=null,vc=!1,bc=!1,wc=!1,Ec=0,Sc=0,kc=0,_c=0,Tc=0,Ic=0,Cc=0,xc=null,Ac=null,Nc=!1,Pc=0,Oc=0,Rc=1/0,Dc=null,Lc=null,Mc=0,Fc=null,Uc=null,zc=0,Vc=0,jc=null,Bc=null,$c=0,Hc=null;function qc(){return 2&dc&&0!==mc?mc&-mc:null!==R.T?ju():Fe()}function Gc(){if(0===Ic)if(536870912&mc&&!ui)Ic=536870912;else{var e=ke;!(3932160&(ke<<=1))&&(ke=262144),Ic=e}return null!==(e=Pa.current)&&(e.flags|=32),Ic}function Kc(e,t,n){(e!==fc||2!==gc&&9!==gc)&&null===e.cancelPendingCommit||(eu(e,0),Xc(e,mc,Ic,!1)),Pe(e,n),2&dc&&e===fc||(e===fc&&(!(2&dc)&&(_c|=n),4===Sc&&Xc(e,mc,Ic,!1)),Du(e))}function Wc(e,t,n){if(6&dc)throw Error(o(327));for(var r=!n&&!(127&t)&&0===(t&e.expiredLanes)||Ce(e,t),i=r?function(e,t){var n=dc;dc|=2;var r=ru(),i=iu();fc!==e||mc!==t?(Dc=null,Rc=se()+500,eu(e,t)):bc=Ce(e,t);e:for(;;)try{if(0!==gc&&null!==pc){t=pc;var a=yc;t:switch(gc){case 1:gc=0,yc=null,hu(e,t,a,1);break;case 2:case 9:if(ea(a)){gc=0,yc=null,uu(t);break}t=function(){2!==gc&&9!==gc||fc!==e||(gc=7),Du(e)},a.then(t,t);break e;case 3:gc=7;break e;case 4:gc=5;break e;case 7:ea(a)?(gc=0,yc=null,uu(t)):(gc=0,yc=null,hu(e,t,a,7));break;case 5:var s=null;switch(pc.tag){case 26:s=pc.memoizedState;case 5:case 27:var l=pc;if(s?rd(s):l.stateNode.complete){gc=0,yc=null;var c=l.sibling;if(null!==c)pc=c;else{var u=l.return;null!==u?(pc=u,du(u)):pc=null}break t}}gc=0,yc=null,hu(e,t,a,5);break;case 6:gc=0,yc=null,hu(e,t,a,6);break;case 8:Zc(),Sc=6;break e;default:throw Error(o(462))}}lu();break}catch(t){tu(e,t)}return ki=Si=null,R.H=r,R.A=i,dc=n,null!==pc?0:(fc=null,mc=0,Ar(),Sc)}(e,t):ou(e,t,!0),a=r;;){if(0===i){bc&&!r&&Xc(e,t,0,!1);break}if(n=e.current.alternate,!a||Yc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!=(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=xc;var c=l.current.memoizedState.isDehydrated;if(c&&(eu(l,s).flags|=256),2!==(s=ou(l,s,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=a,_c|=a,i=4;break e}a=Ac,Ac=i,null!==a&&(null===Ac?Ac=a:Ac.push.apply(Ac,a))}i=s}if(a=!1,2!==i)continue}}if(1===i){eu(e,0),Xc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Xc(r,t,Ic,!vc);break e;case 2:Ac=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Pc+300-se())){if(Xc(r,t,Ic,!vc),0!==Ie(r,0,!0))break e;zc=t,r.timeoutHandle=wh(Qc.bind(null,r,n,Ac,Dc,Nc,t,Ic,_c,Cc,vc,a,"Throttled",-0,0),i)}else Qc(r,n,Ac,Dc,Nc,t,Ic,_c,Cc,vc,a,null,-0,0)}break}i=ou(e,t,!1),a=!1}Du(e)}function Qc(e,t,n,r,i,a,o,s,l,c,u,h,d,f){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||!(16785408&~h)){ic(t,a,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pt});var p=(62914560&a)===a?Pc-se():(4194048&a)===a?Oc-se():0;if(p=function(e,t){return e.stylesheets&&0===e.count&&sd(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&sd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===id&&(id=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&dh(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>s)break;var u=l.transferSize,h=l.initiatorType;u&&dh(h)&&(o+=u*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--r,t+=8*(a+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&sd(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>id?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(h,p),null!==p)return zc=a,e.cancelPendingCommit=p(pu.bind(null,e,t,a,n,r,i,o,s,l,u,h,null,d,f)),void Xc(e,a,o,!c)}pu(e,t,a,n,r,i,o,s,l)}function Yc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Xn(a(),i))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t,n,r){t&=~Tc,t&=~_c,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-be(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&Oe(e,n,t)}function Jc(){return!!(6&dc)||(Lu(0,!1),!1)}function Zc(){if(null!==pc){if(0===gc)var e=pc.return;else ki=Si=null,ao(e=pc),oa=null,sa=0,e=pc;for(;null!==e;)pl(e.alternate,e),e=e.return;pc=null}}function eu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Eh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc=0,Zc(),fc=e,pc=n=zr(e.current,null),mc=t,gc=0,yc=null,vc=!1,bc=Ce(e,t),wc=!1,Cc=Ic=Tc=_c=kc=Sc=0,Ac=xc=null,Nc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-be(r),a=1<<i;t|=e[i],r&=~a}return Ec=t,Ar(),n}function tu(e,t){ja=null,R.H=ps,t===Yi||t===Ji?(t=ia(),gc=3):t===Xi?(t=ia(),gc=4):gc=t===Ps?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,yc=t,null===pc&&(Sc=1,Is(e,Kr(t,e.current)))}function nu(){var e=Pa.current;return null===e||((4194048&mc)===mc?null===Oa:!!((62914560&mc)===mc||536870912&mc)&&e===Oa)}function ru(){var e=R.H;return R.H=ps,null===e?ps:e}function iu(){var e=R.A;return R.A=uc,e}function au(){Sc=4,vc||(4194048&mc)!==mc&&null!==Pa.current||(bc=!0),!(134217727&kc)&&!(134217727&_c)||null===fc||Xc(fc,mc,Ic,!1)}function ou(e,t,n){var r=dc;dc|=2;var i=ru(),a=iu();fc===e&&mc===t||(Dc=null,eu(e,t)),t=!1;var o=Sc;e:for(;;)try{if(0!==gc&&null!==pc){var s=pc,l=yc;switch(gc){case 8:Zc(),o=6;break e;case 3:case 2:case 9:case 6:null===Pa.current&&(t=!0);var c=gc;if(gc=0,yc=null,hu(e,s,l,c),n&&bc){o=0;break e}break;default:c=gc,gc=0,yc=null,hu(e,s,l,c)}}su(),o=Sc;break}catch(t){tu(e,t)}return t&&e.shellSuspendCounter++,ki=Si=null,dc=r,R.H=i,R.A=a,null===pc&&(fc=null,mc=0,Ar()),o}function su(){for(;null!==pc;)cu(pc)}function lu(){for(;null!==pc&&!ae();)cu(pc)}function cu(e){var t=al(e.alternate,e,Ec);e.memoizedProps=e.pendingProps,null===t?du(e):pc=t}function uu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Hs(n,t,t.pendingProps,t.type,void 0,mc);break;case 11:t=Hs(n,t,t.pendingProps,t.type.render,t.ref,mc);break;case 5:ao(t);default:pl(n,t),t=al(n,t=pc=Vr(t,Ec),Ec)}e.memoizedProps=e.pendingProps,null===t?du(e):pc=t}function hu(e,t,n,r){ki=Si=null,ao(t),oa=null,sa=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&xi(t,n,i,!0),null!==(n=Pa.current)){switch(n.tag){case 31:case 13:return null===Oa?au():null===n.alternate&&0===Sc&&(Sc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Zi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ku(e,r,i)),!1;case 22:return n.flags|=65536,r===Zi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ku(e,r,i)),!1}throw Error(o(435,n.tag))}return ku(e,r,i),au(),!1}if(ui)return null!==(t=Pa.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==fi&&wi(Kr(e=Error(o(422),{cause:r}),n))):(r!==fi&&wi(Kr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Kr(r,n),wa(e,i=xs(e.stateNode,r,i)),4!==Sc&&(Sc=2)),!1;var a=Error(o(520),{cause:r});if(a=Kr(a,n),null===xc?xc=[a]:xc.push(a),4!==Sc&&(Sc=2),null===t)return!0;r=Kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,wa(n,e=xs(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Lc&&Lc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Ns(i=As(i),e,n,r),wa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,mc))return Sc=1,Is(e,Kr(n,e.current)),void(pc=null)}catch(t){if(null!==i)throw pc=i,t;return Sc=1,Is(e,Kr(n,e.current)),void(pc=null)}32768&t.flags?(ui||1===r?e=!0:bc||536870912&mc?e=!1:(vc=e=!0,(2===r||9===r||3===r||6===r)&&null!==(r=Pa.current)&&13===r.tag&&(r.flags|=16384)),fu(t,e)):du(t)}function du(e){var t=e;do{if(32768&t.flags)return void fu(t,vc);e=t.return;var n=dl(t.alternate,t,Ec);if(null!==n)return void(pc=n);if(null!==(t=t.sibling))return void(pc=t);pc=t=e}while(null!==t);0===Sc&&(Sc=5)}function fu(e,t){do{var n=fl(e.alternate,e);if(null!==n)return n.flags&=32767,void(pc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(pc=e);pc=e=n}while(null!==e);Sc=6,pc=null}function pu(e,t,n,r,i,a,s,l,c){e.cancelPendingCommit=null;do{bu()}while(0!==Mc);if(6&dc)throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-be(n),h=1<<u;s[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Oe(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=xr,s,l,c),e===fc&&(pc=fc=null,mc=0),Uc=t,Fc=e,zc=n,Vc=a,jc=i,Bc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,re(he,function(){return wu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=R.T,R.T=null,i=D.p,D.p=2,s=dc,dc|=4;try{!function(e,t){if(e=e.containerInfo,fh=gd,rr(e=nr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++h===r&&(c=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ph={focusedElem:e,selectionRange:n},gd=!1,Ol=t;null!==Ol;)if(e=(t=Ol).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ol=e;else for(;null!==Ol;){switch(a=(t=Ol).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=Ss(n.type,i);e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Su(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))xh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xh(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Ol=e;break}Ol=t.return}}(e,t)}finally{dc=s,D.p=i,R.T=r}}Mc=1,mu(),gu(),yu()}}function mu(){if(1===Mc){Mc=0;var e=Fc,t=Uc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=R.T,R.T=null;var r=D.p;D.p=2;var i=dc;dc|=4;try{Hl(t,e);var a=ph,o=nr(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&tr(s.ownerDocument.documentElement,s)){if(null!==l&&rr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var h=s.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var y=er(s,m),v=er(s,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(h=[],f=s;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<h.length;s++){var w=h[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}gd=!!fh,ph=fh=null}finally{dc=i,D.p=r,R.T=n}}e.current=t,Mc=2}}function gu(){if(2===Mc){Mc=0;var e=Fc,t=Uc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=R.T,R.T=null;var r=D.p;D.p=2;var i=dc;dc|=4;try{Rl(e,t.alternate,t)}finally{dc=i,D.p=r,R.T=n}}Mc=3}}function yu(){if(4===Mc||3===Mc){Mc=0,oe();var e=Fc,t=Uc,n=zc,r=Bc;10256&t.subtreeFlags||10256&t.flags?Mc=5:(Mc=0,Uc=Fc=null,vu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Lc=null),Me(n),t=t.stateNode,ye&&"function"==typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ge,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=R.T,i=D.p,D.p=2,R.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{R.T=t,D.p=i}}3&zc&&bu(),Du(e),i=e.pendingLanes,261930&n&&42&i?e===Hc?$c++:($c=0,Hc=e):$c=0,Lu(0,!1)}}function vu(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,zi(t))}function bu(){return mu(),gu(),yu(),wu()}function wu(){if(5!==Mc)return!1;var e=Fc,t=Vc;Vc=0;var n=Me(zc),r=R.T,i=D.p;try{D.p=32>n?32:n,R.T=null,n=jc,jc=null;var a=Fc,s=zc;if(Mc=0,Uc=Fc=null,zc=0,6&dc)throw Error(o(331));var l=dc;if(dc|=4,sc(a.current),Zl(a,a.current,s,n),dc=l,Lu(0,!1),ye&&"function"==typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ge,a)}catch(e){}return!0}finally{D.p=i,R.T=r,vu(e,t)}}function Eu(e,t,n){t=Kr(n,t),null!==(e=va(e,t=xs(e.stateNode,t,2),2))&&(Pe(e,2),Du(e))}function Su(e,t,n){if(3===e.tag)Eu(e,e,n);else for(;null!==t;){if(3===t.tag){Eu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Lc||!Lc.has(r))){e=Kr(n,e),null!==(r=va(t,n=As(2),2))&&(Ns(n,r,t,e),Pe(r,2),Du(r));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(wc=!0,i.add(n),e=_u.bind(null,e,t,n),t.then(e,e))}function _u(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,fc===e&&(mc&n)===n&&(4===Sc||3===Sc&&(62914560&mc)===mc&&300>se()-Pc?!(2&dc)&&eu(e,0):Tc|=n,Cc===mc&&(Cc=0)),Du(e)}function Tu(e,t){0===t&&(t=Ae()),null!==(e=Or(e,t))&&(Pe(e,t),Du(e))}function Iu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tu(e,n)}var xu=null,Au=null,Nu=!1,Pu=!1,Ou=!1,Ru=0;function Du(e){e!==Au&&null===e.next&&(null===Au?xu=Au=e:Au=Au.next=e),Pu=!0,Nu||(Nu=!0,kh(function(){6&dc?re(ce,Mu):Fu()}))}function Lu(e,t){if(!Ou&&Pu){Ou=!0;do{for(var n=!1,r=xu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-be(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Vu(r,a))}else a=mc,!(3&(a=Ie(r,r===fc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ce(r,a)||(n=!0,Vu(r,a));r=r.next}}while(n);Ou=!1}}function Mu(){Fu()}function Fu(){Pu=Nu=!1;var e,t=0;0!==Ru&&((e=window.event)&&"popstate"===e.type?e!==bh&&(bh=e,1):(bh=null,0))&&(t=Ru);for(var n=se(),r=null,i=xu;null!==i;){var a=i.next,o=Uu(i,n);0===o?(i.next=null,null===r?xu=a:r.next=a,null===a&&(Au=r)):(r=i,(0!==t||3&o)&&(Pu=!0)),i=a}0!==Mc&&5!==Mc||Lu(t,!1),0!==Ru&&(Ru=0)}function Uu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-be(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=xe(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=mc,n=Ie(e,e===(t=fc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===gc||9===gc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),Me(n)){case 2:case 8:n=ue;break;case 32:default:n=he;break;case 268435456:n=fe}return r=zu.bind(null,e),n=re(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function zu(e,t){if(0!==Mc&&5!==Mc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var r=mc;return 0===(r=Ie(e,e===fc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Wc(e,r,t),Uu(e,se()),null!=e.callbackNode&&e.callbackNode===n?zu.bind(null,e):null)}function Vu(e,t){if(bu())return null;Wc(e,t,!0)}function ju(){if(0===Ru){var e=Bi;0===e&&(e=Se,!(261888&(Se<<=1))&&(Se=256)),Ru=e}return Ru}function Bu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Nt(""+e)}function $u(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Hu=0;Hu<kr.length;Hu++){var qu=kr[Hu];_r(qu.toLowerCase(),"on"+(qu[0].toUpperCase()+qu.slice(1)))}_r(mr,"onAnimationEnd"),_r(gr,"onAnimationIteration"),_r(yr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(vr,"onTransitionRun"),_r(br,"onTransitionStart"),_r(wr,"onTransitionCancel"),_r(Er,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ku=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function Wu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(e){Tr(e)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(e){Tr(e)}i.currentTarget=null,a=l}}}}function Qu(e,t){var n=t[$e];void 0===n&&(n=t[$e]=new Set);var r=e+"__bubble";n.has(r)||(Zu(t,e,2,!1),n.add(r))}function Yu(e,t,n){var r=0;t&&(r|=4),Zu(n,e,r,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Ju(e){if(!e[Xu]){e[Xu]=!0,et.forEach(function(t){"selectionchange"!==t&&(Ku.has(t)||Yu(t,!1,e),Yu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xu]||(t[Xu]=!0,Yu("selectionchange",!1,t))}}function Zu(e,t,n,r){switch(kd(t)){case 2:var i=yd;break;case 8:i=vd;break;default:i=bd}n=i.bind(null,t,n,e),i=void 0,!jt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function eh(e,t,n,r,i){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==l;){if(null===(o=Qe(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=a=o;continue e}l=l.parentNode}}r=r.return}Ut(function(){var r=a,i=Rt(n),o=[];e:{var l=Sr.get(e);if(void 0!==l){var c=tn,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=ln;break;case"focusout":u="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case mr:case gr:case yr:c=cn;break;case Er:c=wn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=En;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=vn;break;case"toggle":case"beforetoggle":c=Sn}var h=!!(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==l?l+"Capture":null:l;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=zt(m,f))&&h.push(th(m,g,p)),d)break;m=m.return}0<h.length&&(l=new c(l,u,null,n,i),o.push({event:l,listeners:h}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Ot||!(u=n.relatedTarget||n.fromElement)||!Qe(u)&&!u[Be])&&(c||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Qe(u):null)&&(d=s(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=on,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=vn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==c?l:Xe(c),p=null==u?l:Xe(u),(l=new h(g,m+"leave",c,n,i)).target=d,l.relatedTarget=p,g=null,Qe(i)===r&&((h=new h(f,m+"enter",u,n,i)).target=p,h.relatedTarget=d,g=h),d=g,c&&u)e:{for(h=rh,m=u,p=0,g=f=c;g;g=h(g))p++;g=0;for(var y=m;y;y=h(y))g++;for(;0<p-g;)f=h(f),p--;for(;0<g-p;)m=h(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){h=f;break e}f=h(f),m=h(m)}h=null}else h=null;null!==c&&ih(o,l,c,h,!1),null!==u&&null!==d&&ih(o,d,u,h,!0)}if("select"===(c=(l=r?Xe(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var v=Vn;else if(Dn(l))if(jn)v=Yn;else{v=Wn;var b=Kn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Ct(r.elementType)&&(v=Vn):v=Qn;switch(v&&(v=v(e,r))?Ln(o,v,n,i):(b&&b(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&bt(l,"number",l.value)),b=r?Xe(r):window,e){case"focusin":(Dn(b)||"true"===b.contentEditable)&&(ar=b,or=r,sr=null);break;case"focusout":sr=or=ar=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,cr(o,n,i);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":cr(o,n,i)}var w;if(_n)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else On?Nn(e,n)&&(E="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(E="onCompositionStart");E&&(Cn&&"ko"!==n.locale&&(On||"onCompositionStart"!==E?"onCompositionEnd"===E&&On&&(w=Gt()):(Ht="value"in($t=i)?$t.value:$t.textContent,On=!0)),0<(b=nh(r,E)).length&&(E=new hn(E,e,null,n,i),o.push({event:E,listeners:b}),(w||null!==(w=Pn(n)))&&(E.data=w))),(w=In?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(An=!0,xn);case"textInput":return(e=t.data)===xn&&An?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!_n&&Nn(e,t)?(e=Gt(),qt=Ht=$t=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(E=nh(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,i),o.push({event:b,listeners:E}),b.data=w),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Bu((i[je]||null).action),o=r.submitter;o&&null!==(t=(t=o[je]||null)?Bu(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new tn("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ru){var e=o?$u(i,o):new FormData(i);es(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"==typeof a&&(s.preventDefault(),e=o?$u(i,o):new FormData(i),es(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}Wu(o,t)})}function th(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nh(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=zt(e,n))&&r.unshift(th(e,i,a)),null!=(i=zt(e,t))&&r.push(th(e,i,a))),3===e.tag)return r;e=e.return}return[]}function rh(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ih(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=zt(n,a))&&o.unshift(th(n,c,l)):i||null!=(c=zt(n,a))&&o.push(th(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var ah=/\r\n?/g,oh=/\u0000|\uFFFD/g;function sh(e){return("string"==typeof e?e:""+e).replace(ah,"\n").replace(oh,"")}function lh(e,t){return t=sh(t),sh(e)===t}function ch(e,t,n,r,i,a){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":lt(e,"class",r);break;case"tabIndex":lt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(e,n,r);break;case"style":It(e,r,a);break;case"data":if("object"!==t){lt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&ch(e,t,"name",i.name,i,null),ch(e,t,"formEncType",i.formEncType,i,null),ch(e,t,"formMethod",i.formMethod,i,null),ch(e,t,"formTarget",i.formTarget,i,null)):(ch(e,t,"encType",i.encType,i,null),ch(e,t,"method",i.method,i,null),ch(e,t,"target",i.target,i,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Qu("beforetoggle",e),Qu("toggle",e),st(e,"popover",r);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":st(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=xt.get(n)||n,r)}}function uh(e,t,n,r,i,a){switch(n){case"style":It(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"==typeof r?kt(e,r):("number"==typeof r||"bigint"==typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:tt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(a=null!=(a=e[je]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):st(e,n,r):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function hh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qu("error",e),Qu("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ch(e,t,r,s,n,null)}}return a&&ch(e,t,"srcSet",n.srcSet,n,null),void(i&&ch(e,t,"src",n.src,n,null));case"input":Qu("invalid",e);var l=r=s=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":a=h;break;case"type":s=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:ch(e,t,i,h,n,null)}}return void vt(e,r,l,c,u,s,a,!1);case"select":for(a in Qu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:ch(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(s in Qu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:ch(e,t,s,l,n,null)}return void St(e,i,a,r);case"option":for(c in n)n.hasOwnProperty(c)&&null!=(i=n[c])&&("selected"===c?e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i:ch(e,t,c,i,n,null));return;case"dialog":Qu("beforetoggle",e),Qu("toggle",e),Qu("cancel",e),Qu("close",e);break;case"iframe":case"object":Qu("load",e);break;case"video":case"audio":for(i=0;i<Gu.length;i++)Qu(Gu[i],e);break;case"image":Qu("error",e),Qu("load",e);break;case"details":Qu("toggle",e);break;case"embed":case"source":case"link":Qu("error",e),Qu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ch(e,t,u,i,n,null)}return;default:if(Ct(t)){for(h in n)n.hasOwnProperty(h)&&void 0!==(i=n[h])&&uh(e,t,h,i,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(i=n[l])&&ch(e,t,l,i,n,null)}function dh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var fh=null,ph=null;function mh(e){return 9===e.nodeType?e:e.ownerDocument}function gh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function vh(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bh=null,wh="function"==typeof setTimeout?setTimeout:void 0,Eh="function"==typeof clearTimeout?clearTimeout:void 0,Sh="function"==typeof Promise?Promise:void 0,kh="function"==typeof queueMicrotask?queueMicrotask:void 0!==Sh?function(e){return Sh.resolve(null).then(e).catch(_h)}:wh;function _h(e){setTimeout(function(){throw e})}function Th(e){return"head"===e}function Ih(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void jd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Fh(e.ownerDocument.documentElement);else if("head"===n){Fh(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[Ke]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}else"body"===n&&Fh(e.ownerDocument.body);n=i}while(n);jd(t)}function Ch(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function xh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xh(n),We(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ah(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Oh(e.nextSibling)))return null}return e}function Nh(e){return"$?"===e.data||"$~"===e.data}function Ph(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Oh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Rh=null;function Dh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Oh(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Lh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Mh(e,t,n){switch(t=mh(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Fh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);We(e)}var Uh=new Map,zh=new Set;function Vh(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var jh=D.d;D.d={f:function(){var e=jh.f(),t=Jc();return e||t},r:function(e){var t=Ye(e);null!==t&&5===t.tag&&"form"===t.type?ns(t):jh.r(e)},D:function(e){jh.D(e),$h("dns-prefetch",e,null)},C:function(e,t){jh.C(e,t),$h("preconnect",e,t)},L:function(e,t,n){jh.L(e,t,n);var r=Bh;if(r&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+gt(n.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var a=i;switch(t){case"style":a=qh(e);break;case"script":a=Wh(e)}Uh.has(a)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Uh.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Gh(a))||"script"===t&&r.querySelector(Qh(a))||(hh(t=r.createElement("link"),"link",e),Ze(t),r.head.appendChild(t)))}},m:function(e,t){jh.m(e,t);var n=Bh;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Wh(e)}if(!Uh.has(a)&&(e=d({rel:"modulepreload",href:e},t),Uh.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qh(a)))return}hh(r=n.createElement("link"),"link",e),Ze(r),n.head.appendChild(r)}}},X:function(e,t){jh.X(e,t);var n=Bh;if(n&&e){var r=Je(n).hoistableScripts,i=Wh(e),a=r.get(i);a||((a=n.querySelector(Qh(i)))||(e=d({src:e,async:!0},t),(t=Uh.get(i))&&Zh(e,t),Ze(a=n.createElement("script")),hh(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){jh.S(e,t,n);var r=Bh;if(r&&e){var i=Je(r).hoistableStyles,a=qh(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Gh(a)))s.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Uh.get(a))&&Jh(e,n);var l=o=r.createElement("link");Ze(l),hh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Xh(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){jh.M(e,t);var n=Bh;if(n&&e){var r=Je(n).hoistableScripts,i=Wh(e),a=r.get(i);a||((a=n.querySelector(Qh(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=Uh.get(i))&&Zh(e,t),Ze(a=n.createElement("script")),hh(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Bh="undefined"==typeof document?null:document;function $h(e,t,n){var r=Bh;if(r&&"string"==typeof t&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),zh.has(i)||(zh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(hh(t=r.createElement("link"),"link",e),Ze(t),r.head.appendChild(t)))}}function Hh(e,t,n,r){var i=(i=q.current)?Vh(i):null;if(!i)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=qh(n.href),(r=(n=Je(i).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=qh(n.href);var a=Je(i).hoistableStyles,s=a.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=i.querySelector(Gh(e)))&&!a._p&&(s.instance=a,s.state.loading=5),Uh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Uh.set(e,n),a||function(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),hh(t,"link",n),Ze(t),e.head.appendChild(t))}(i,e,n,s.state))),t&&null===r)throw Error(o(528,""));return s}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Wh(n),(r=(n=Je(i).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function qh(e){return'href="'+gt(e)+'"'}function Gh(e){return'link[rel="stylesheet"]['+e+"]"}function Kh(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Wh(e){return'[src="'+gt(e)+'"]'}function Qh(e){return"script[async]"+e}function Yh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,Ze(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ze(r=(e.ownerDocument||e).createElement("style")),hh(r,"style",i),Xh(r,n.precedence,e),t.instance=r;case"stylesheet":i=qh(n.href);var a=e.querySelector(Gh(i));if(a)return t.state.loading|=4,t.instance=a,Ze(a),a;r=Kh(n),(i=Uh.get(i))&&Jh(r,i),Ze(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),hh(a,"link",r),t.state.loading|=4,Xh(a,n.precedence,e),t.instance=a;case"script":return a=Wh(n.src),(i=e.querySelector(Qh(a)))?(t.instance=i,Ze(i),i):(r=n,(i=Uh.get(a))&&Zh(r=d({},n),i),Ze(i=(e=e.ownerDocument||e).createElement("script")),hh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Xh(r,n.precedence,e));return t.instance}function Xh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Jh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Zh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var ed=null;function td(e,t,n){if(null===ed){var r=new Map,i=ed=new Map;i.set(n,r)}else(r=(i=ed).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Ke]||a[Ve]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function nd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function rd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var id=0;function ad(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)sd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var od=null;function sd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,od=new Map,t.forEach(ld,e),od=null,ad.call(e))}function ld(e,t){if(!(4&t.state.loading)){var n=od.get(e);if(n)var r=n.get(null);else{n=new Map,od.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=ad.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var cd={$$typeof:w,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function ud(e,t,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hd(e,t,n,r,i,a){i=function(e){return e?e=Lr:Lr}(i),null===r.context?r.context=i:r.pendingContext=i,(r=ya(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=va(e,r,t))&&(Kc(n,0,t),ba(n,e,t))}function dd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function fd(e,t){dd(e,t),(e=e.alternate)&&dd(e,t)}function pd(e){if(13===e.tag||31===e.tag){var t=Or(e,67108864);null!==t&&Kc(t,0,67108864),fd(e,67108864)}}function md(e){if(13===e.tag||31===e.tag){var t=qc(),n=Or(e,t=Le(t));null!==n&&Kc(n,0,t),fd(e,t)}}var gd=!0;function yd(e,t,n,r){var i=R.T;R.T=null;var a=D.p;try{D.p=2,bd(e,t,n,r)}finally{D.p=a,R.T=i}}function vd(e,t,n,r){var i=R.T;R.T=null;var a=D.p;try{D.p=8,bd(e,t,n,r)}finally{D.p=a,R.T=i}}function bd(e,t,n,r){if(gd){var i=wd(r);if(null===i)eh(e,t,r,Ed,n),Od(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Td=Rd(Td,e,t,n,r,i),!0;case"dragenter":return Id=Rd(Id,e,t,n,r,i),!0;case"mouseover":return Cd=Rd(Cd,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return xd.set(a,Rd(xd.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ad.set(a,Rd(Ad.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Od(e,r),4&t&&-1<Pd.indexOf(e)){for(;null!==i;){var a=Ye(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=Te(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-be(o);s.entanglements[1]|=l,o&=~l}Du(a),!(6&dc)&&(Rc=se()+500,Lu(0,!1))}}break;case 31:case 13:null!==(s=Or(a,2))&&Kc(s,0,2),Jc(),fd(a,2)}if(null===(a=wd(r))&&eh(e,t,r,Ed,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else eh(e,t,r,null,n)}}function wd(e){return Sd(e=Rt(e))}var Ed=null;function Sd(e){if(Ed=null,null!==(e=Qe(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ed=e,null}function kd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ce:return 2;case ue:return 8;case he:case de:return 32;case fe:return 268435456;default:return 32}default:return 32}}var _d=!1,Td=null,Id=null,Cd=null,xd=new Map,Ad=new Map,Nd=[],Pd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Od(e,t){switch(e){case"focusin":case"focusout":Td=null;break;case"dragenter":case"dragleave":Id=null;break;case"mouseover":case"mouseout":Cd=null;break;case"pointerover":case"pointerout":xd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ad.delete(t.pointerId)}}function Rd(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=Ye(t))&&pd(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dd(e){var t=Qe(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void Ue(e.priority,function(){md(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void Ue(e.priority,function(){md(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ld(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=wd(e.nativeEvent);if(null!==n)return null!==(t=Ye(n))&&pd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function Md(e,t,n){Ld(e)&&n.delete(t)}function Fd(){_d=!1,null!==Td&&Ld(Td)&&(Td=null),null!==Id&&Ld(Id)&&(Id=null),null!==Cd&&Ld(Cd)&&(Cd=null),xd.forEach(Md),Ad.forEach(Md)}function Ud(e,t){e.blockedOn===t&&(e.blockedOn=null,_d||(_d=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Fd)))}var zd=null;function Vd(e){zd!==e&&(zd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zd===e&&(zd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!=typeof r){if(null===Sd(r||n))continue;break}var a=Ye(n);null!==a&&(e.splice(t,3),t-=3,es(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function jd(e){function t(t){return Ud(t,e)}null!==Td&&Ud(Td,e),null!==Id&&Ud(Id,e),null!==Cd&&Ud(Cd,e),xd.forEach(t),Ad.forEach(t);for(var n=0;n<Nd.length;n++){var r=Nd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Nd.length&&null===(n=Nd[0]).blockedOn;)Dd(n),null===n.blockedOn&&Nd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[je]||null;if("function"==typeof a)o||Vd(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[je]||null)s=o.formAction;else if(null!==Sd(i))continue}else s=o.action;"function"==typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Vd(n)}}}function Bd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function $d(e){this._internalRoot=e}function Hd(e){this._internalRoot=e}Hd.prototype.render=$d.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));hd(t.current,qc(),e,t,null,null)},Hd.prototype.unmount=$d.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hd(e.current,2,null,e,null,null),Jc(),t[Be]=null}},Hd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nd.length&&0!==t&&t<Nd[n].priority;n++);Nd.splice(n,0,e),0===n&&Dd(e)}};var qd=i.version;if("19.2.3"!==qd)throw Error(o(527,qd,"19.2.3"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return u(i),e;if(a===r)return u(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,c=i.child;c;){if(c===n){l=!0,n=i,r=a;break}if(c===r){l=!0,r=i,n=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===n){l=!0,n=a,r=i;break}if(c===r){l=!0,r=a,n=i;break}c=c.sibling}if(!l)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),null===(e=null!==e?h(e):null)?null:e.stateNode};var Gd={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{ge=Kd.inject(Gd),ye=Kd}catch(e){}}t.createRoot=function(e,t){if(!(n=e)||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(o(299));var n,r=!1,i="",a=ks,s=_s,l=Ts;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=function(e,t,n,r,i,a,o,s,l,c,u,h){return e=new ud(e,t,n,o,l,c,u,h,s),t=1,!0===a&&(t|=24),a=Fr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ma(a),e}(e,1,!1,null,0,r,i,null,a,s,l,Bd),e[Be]=t.current,Ju(e),new $d(t)}},314(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&o[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},338(e,t,n){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(247)},365(e,t,n){n.d(t,{A:()=>s});var r=n(601),i=n.n(r),a=n(314),o=n.n(a)()(i());o.push([e.id,":root {\n  /* Colors - Cosmic Theme (Lightened for depth) */\n  --bg-deep: #08080c;\n  --bg-surface: #0f0f18;\n  --text-primary: #ffffff;\n  --text-secondary: rgba(255, 255, 255, 0.8);\n  --text-muted: rgba(255, 255, 255, 0.5);\n\n  /* Accents */\n  --accent-blue: #3b82f6;\n  --accent-blue-glow: rgba(59, 130, 246, 0.4);\n  --accent-teal: #00E5FF;\n  --accent-teal-glow: rgba(0, 229, 255, 0.4);\n  --accent-gold: #ffd54f;\n  --accent-gold-glow: rgba(255, 213, 79, 0.3);\n  --accent-danger: #ef4444;\n\n  /* Glassmorphism */\n  --glass-bg: rgba(255, 255, 255, 0.04);\n  --glass-bg-hover: rgba(255, 255, 255, 0.08);\n  --glass-border: rgba(255, 255, 255, 0.08);\n  --glass-border-hover: rgba(255, 255, 255, 0.15);\n  --glass-blur: blur(12px);\n\n  /* Sizing & Spacing */\n  --inset: 32px;\n  --space-xs: 4px;\n  --space-sm: 8px;\n  --space-md: 16px;\n  --space-lg: 24px;\n  --space-xl: 32px;\n\n  /* Transitions & Shadows */\n  --transition-fast: 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  --transition-base: 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  --transition-slow: 0.8s cubic-bezier(0.4, 0, 0.2, 1);\n  --shadow-md: 0 4px 20px rgba(0, 0, 0, 0.4);\n  --shadow-lg: 0 12px 48px rgba(0, 0, 0, 0.6);\n}\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  background: var(--bg-deep);\n  color: var(--text-primary);\n  font-family: 'Barlow', 'Inter', -apple-system, sans-serif;\n  overflow: hidden;\n  width: 100vw;\n  height: 100vh;\n}\n\nbutton {\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-family: inherit;\n  color: inherit;\n  transition: var(--transition-base);\n}\n\ninput {\n  background: var(--glass-bg);\n  border: 1px solid var(--glass-border);\n  border-radius: 8px;\n  color: var(--text-primary);\n  font-family: inherit;\n  transition: var(--transition-base);\n}\n\ninput:focus {\n  outline: none;\n  border-color: var(--accent-blue);\n  background: var(--glass-bg-hover);\n}\n\n/* Animations */\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes modalIn {\n  from {\n    opacity: 0;\n    transform: scale(0.95) translateY(20px);\n  }\n\n  to {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n}\n\n/* Scrollbar Style */\n::-webkit-scrollbar {\n  width: 6px;\n}\n\n::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n::-webkit-scrollbar-thumb {\n  background: var(--glass-border);\n  border-radius: 3px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: var(--glass-border-hover);\n}",""]);const s=o},474(e,t,n){n.d(t,{A:()=>s});var r=n(601),i=n.n(r),a=n(314),o=n.n(a)()(i());o.push([e.id,".vault-overlay {\n    position: fixed;\n    inset: 0;\n    background: rgba(0, 0, 0, 0.6);\n    backdrop-filter: blur(12px);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 2500;\n    animation: fadeIn 0.3s ease-out;\n}\n\n.vault-card {\n    background: var(--bg-surface);\n    border: 1px solid var(--glass-border);\n    border-radius: 24px;\n    width: 90%;\n    max-width: 600px;\n    height: 80vh;\n    display: flex;\n    flex-direction: column;\n    box-shadow: var(--shadow-xl);\n    overflow: hidden;\n    animation: modalIn 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);\n}\n\n.vault-header {\n    padding: 24px;\n    border-bottom: 1px solid var(--glass-border);\n    background: rgba(255, 255, 255, 0.02);\n}\n\n.vault-title-row {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 20px;\n}\n\n.vault-title-row h2 {\n    font-size: 24px;\n    font-weight: 700;\n    letter-spacing: -0.02em;\n    color: var(--text-primary);\n}\n\n.vault-controls {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n}\n\n.search-box {\n    position: relative;\n    display: flex;\n    align-items: center;\n}\n\n.search-box svg {\n    position: absolute;\n    left: 14px;\n    color: var(--text-muted);\n}\n\n.search-box input {\n    width: 100%;\n    background: rgba(0, 0, 0, 0.2);\n    border: 1px solid var(--glass-border);\n    border-radius: 12px;\n    padding: 10px 14px 10px 40px;\n    color: var(--text-primary);\n    font-size: 14px;\n    transition: all 0.2s;\n}\n\n.search-box input:focus {\n    outline: none;\n    border-color: var(--accent-blue);\n    background: rgba(0, 0, 0, 0.3);\n}\n\n.filter-pills {\n    display: flex;\n    gap: 8px;\n    overflow-x: auto;\n    padding-bottom: 4px;\n    scrollbar-width: none;\n}\n\n.filter-pills::-webkit-scrollbar {\n    display: none;\n}\n\n.filter-pill {\n    padding: 6px 16px;\n    border-radius: 20px;\n    font-size: 12px;\n    font-weight: 600;\n    text-transform: capitalize;\n    background: var(--glass-bg);\n    border: 1px solid var(--glass-border);\n    color: var(--text-secondary);\n    transition: all 0.2s;\n}\n\n.filter-pill:hover {\n    background: var(--glass-bg-hover);\n    color: var(--text-primary);\n}\n\n.filter-pill.active {\n    background: var(--accent-blue);\n    color: white;\n    border-color: var(--accent-blue);\n}\n\n.vault-list {\n    flex: 1;\n    overflow-y: auto;\n    padding: 12px;\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n\n.vault-item {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 16px;\n    background: rgba(255, 255, 255, 0.03);\n    border: 1px solid transparent;\n    border-radius: 16px;\n    transition: all 0.2s;\n}\n\n.vault-item:hover {\n    background: rgba(255, 255, 255, 0.06);\n    border-color: var(--glass-border);\n}\n\n.vault-item.kept {\n    background: rgba(255, 213, 79, 0.05);\n    border-color: rgba(255, 213, 79, 0.2);\n}\n\n.vault-item-info {\n    flex: 1;\n    min-width: 0;\n}\n\n.vault-item-title {\n    font-size: 15px;\n    font-weight: 500;\n    color: var(--text-primary);\n    margin-bottom: 4px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.vault-item-meta {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    font-size: 11px;\n}\n\n.relevance {\n    color: var(--text-muted);\n}\n\n.badge {\n    padding: 2px 8px;\n    border-radius: 4px;\n    font-weight: 700;\n    text-transform: uppercase;\n}\n\n.badge.kept {\n    background: rgba(255, 213, 79, 0.1);\n    color: var(--accent-gold);\n}\n\n.badge.resting {\n    background: rgba(255, 255, 255, 0.1);\n    color: var(--text-muted);\n}\n\n.vault-item-actions {\n    display: flex;\n    gap: 8px;\n    margin-left: 16px;\n}\n\n.action-btn {\n    width: 32px;\n    height: 32px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 8px;\n    background: var(--glass-bg);\n    border: 1px solid var(--glass-border);\n    color: var(--text-secondary);\n    transition: all 0.2s;\n}\n\n.action-btn svg {\n    width: 16px;\n    height: 16px;\n}\n\n.action-btn:hover {\n    background: var(--glass-bg-hover);\n    color: var(--text-primary);\n    transform: translateY(-1px);\n}\n\n.action-btn.done:hover {\n    color: var(--accent-teal);\n    border-color: var(--accent-teal-glow);\n}\n\n.action-btn.pin.active {\n    color: var(--accent-gold);\n    border-color: var(--accent-gold-glow);\n}\n\n.action-btn.remove:hover {\n    color: var(--accent-danger);\n    border-color: rgba(239, 68, 68, 0.3);\n}\n\n.vault-empty {\n    padding: 60px;\n    text-align: center;\n    color: var(--text-muted);\n    font-size: 14px;\n}\n\n.vault-footer {\n    padding: 16px;\n    font-size: 12px;\n    color: var(--text-muted);\n    text-align: center;\n    border-top: 1px solid var(--glass-border);\n    background: rgba(0, 0, 0, 0.1);\n}\n\n@media (max-width: 480px) {\n    .vault-card {\n        width: 95%;\n        height: 90vh;\n    }\n}",""]);const s=o},540(e,t,n){e.exports=n(869)},561(e,t,n){n.d(t,{A:()=>s});var r=n(601),i=n.n(r),a=n(314),o=n.n(a)()(i());o.push([e.id,".surface {\n  width: 100vw;\n  height: 100vh;\n  background: var(--bg-deep);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  position: relative;\n  transition: background var(--transition-slow);\n}\n\n.surface.modal-open {\n  pointer-events: none;\n  filter: grayscale(0.5) brightness(0.7);\n  transition: filter var(--transition-base);\n}\n\n.surface.modal-open .mode-selector,\n.surface.modal-open .controls-row,\n.surface.modal-open .add {\n  pointer-events: none;\n  opacity: 0.3;\n}\n\n.surface.mode-transitioning {\n  background: #000;\n}\n\n.surface.mode-transitioning .item {\n  opacity: 0;\n  transform: scale(2) rotate(var(--angle)) translateX(calc(var(--distance) * 2.5)) scaleX(6);\n  filter: blur(20px) brightness(2);\n  transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1);\n}\n\n.surface.mode-transitioning .center {\n  transform: scale(1.8);\n  box-shadow: 0 0 200px 80px var(--accent-blue-glow);\n  opacity: 0.3;\n  filter: blur(10px);\n  transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1);\n}\n\n/* Branding - integrated with mode selector */\n.brand {\n  display: flex;\n  align-items: center;\n  gap: var(--space-sm);\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--text-muted);\n  letter-spacing: 0.1em;\n  text-transform: lowercase;\n  margin-right: var(--space-md);\n  user-select: none;\n}\n\n.brand-icon {\n  width: 12px;\n  height: 12px;\n  background: radial-gradient(circle, var(--accent-blue) 0%, #1e40af 100%);\n  border-radius: 50%;\n  box-shadow: 0 0 12px var(--accent-blue-glow);\n}\n\n/* Item count */\n.count {\n  position: fixed;\n  top: var(--inset);\n  right: var(--inset);\n  font-size: 11px;\n  font-weight: 500;\n  color: var(--text-muted);\n  font-variant-numeric: tabular-nums;\n  letter-spacing: 0.05em;\n  background: var(--glass-bg);\n  padding: 6px 12px;\n  border-radius: 20px;\n  border: 1px solid var(--glass-border);\n  backdrop-filter: var(--glass-blur);\n}\n\n/* Controls */\n.controls-row {\n  position: fixed;\n  bottom: var(--inset);\n  right: var(--inset);\n  display: flex;\n  gap: var(--space-md);\n  align-items: center;\n  z-index: 1000;\n}\n\n.settings-btn,\n.theme-btn,\n.music-toggle {\n  width: 44px;\n  height: 44px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--glass-bg);\n  border: 1px solid var(--glass-border);\n  border-radius: 50%;\n  color: var(--text-secondary);\n  backdrop-filter: var(--glass-blur);\n  transition: var(--transition-base);\n}\n\n.settings-btn:hover,\n.theme-btn:hover,\n.music-toggle:hover {\n  background: var(--glass-bg-hover);\n  color: var(--text-primary);\n  border-color: var(--glass-border-hover);\n  transform: translateY(-2px);\n  box-shadow: var(--shadow-md);\n}\n\n.music-toggle.playing {\n  color: var(--accent-blue);\n  border-color: var(--accent-blue-glow);\n}\n\n.music-toggle svg {\n  width: 20px;\n  height: 20px;\n}\n\n/* Center - bigger, pulses */\n.center {\n  position: absolute;\n  width: 80px;\n  /* MATCHES constants.ts */\n  height: 80px;\n  /* MATCHES constants.ts */\n  background: radial-gradient(circle, var(--accent-blue) 0%, #1e40af 100%);\n  border-radius: 50%;\n  animation: pulse 4s ease-in-out infinite;\n  /* FASTER PULSE per constants.ts */\n  box-shadow:\n    0 0 60px 15px rgba(59, 130, 246, 0.3),\n    0 0 140px 40px rgba(30, 64, 175, 0.2);\n  z-index: 0;\n}\n\n@keyframes pulse {\n\n  0%,\n  100% {\n    transform: scale(1);\n    opacity: 0.9;\n  }\n\n  50% {\n    transform: scale(1.1);\n    opacity: 1;\n    box-shadow:\n      0 0 80px 25px rgba(59, 130, 246, 0.4),\n      0 0 180px 50px rgba(30, 64, 175, 0.25);\n  }\n}\n\n/* Items */\n.item {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  cursor: pointer;\n  opacity: var(--opacity, 0.5);\n  transition: opacity var(--transition-base), transform var(--transition-base);\n  animation: drift 100s linear infinite;\n  /* MATCHES constants.ts */\n  animation-delay: var(--delay, 0s);\n  z-index: 1;\n}\n\n.item.hovered,\n.item.expanded {\n  opacity: 1;\n  z-index: 100;\n}\n\n@keyframes drift {\n  from {\n    transform: rotate(var(--angle)) translateX(var(--distance)) rotate(calc(-1 * var(--angle)));\n  }\n\n  to {\n    transform: rotate(calc(var(--angle) + 360deg)) translateX(var(--distance)) rotate(calc(-1 * (var(--angle) + 360deg)));\n  }\n}\n\n.dot {\n  position: relative;\n  width: var(--dot-size, 16px);\n  height: var(--dot-size, 16px);\n  background: linear-gradient(135deg, #4dd0e1 0%, var(--accent-teal) 100%);\n  border-radius: 50%;\n  transition: all var(--transition-base);\n  box-shadow: 0 0 16px var(--accent-teal-glow);\n}\n\n.item.pinned .dot {\n  background: linear-gradient(135deg, #ffe082 0%, var(--accent-gold) 100%);\n  box-shadow: 0 0 16px var(--accent-gold-glow);\n}\n\n.item.hovered .dot,\n.item.expanded .dot {\n  transform: scale(1.25);\n  box-shadow: 0 0 24px var(--accent-teal-glow);\n}\n\n.item.pinned.hovered .dot,\n.item.pinned.expanded .dot {\n  box-shadow: 0 0 24px var(--accent-gold-glow);\n}\n\n/* Label */\n.label {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%) translateY(8px);\n  top: 24px;\n  background: var(--bg-surface);\n  padding: 8px 16px;\n  border-radius: 12px;\n  backdrop-filter: var(--glass-blur);\n  border: 1px solid var(--glass-border);\n  transition: all var(--transition-base);\n  box-shadow: var(--shadow-md);\n  opacity: 0;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 4px;\n  text-align: center;\n}\n\n.label-title {\n  font-size: 13px;\n  font-weight: 600;\n  color: var(--text-primary);\n  white-space: nowrap;\n  max-width: 240px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.label.visible {\n  opacity: 1;\n  transform: translateX(-50%) translateY(12px);\n}\n\n.label-meta {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-top: 2px;\n}\n\n.label-presence {\n  font-size: 10px;\n  font-weight: 700;\n  color: var(--text-muted);\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n  white-space: nowrap;\n}\n\n.label-badge {\n  padding: 1px 6px;\n  border-radius: 4px;\n  font-size: 9px;\n  font-weight: 800;\n  text-transform: uppercase;\n  letter-spacing: 0.02em;\n}\n\n.label-badge.kept {\n  background: rgba(255, 213, 79, 0.1);\n  color: var(--accent-gold);\n}\n\n.label-badge.resting {\n  background: rgba(255, 255, 255, 0.1);\n  color: var(--text-muted);\n}\n\n.label-reasons {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 4px;\n  margin-top: 8px;\n  max-width: 200px;\n}\n\n.label-reason {\n  font-size: 9px;\n  font-weight: 600;\n  color: var(--accent-teal);\n  background: rgba(0, 229, 255, 0.1);\n  padding: 2px 6px;\n  border-radius: 4px;\n  white-space: nowrap;\n}\n\n.label-badge.vault {\n  background: rgba(139, 92, 246, 0.1);\n  color: var(--accent-purple);\n}\n\n/* Actions */\n.actions {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%) translateY(10px);\n  top: 60px;\n  display: flex;\n  gap: var(--space-xs);\n  background: var(--bg-surface);\n  backdrop-filter: var(--glass-blur);\n  border: 1px solid var(--glass-border);\n  border-radius: 12px;\n  padding: 6px;\n  box-shadow: var(--shadow-lg);\n  opacity: 0;\n  transition: all var(--transition-base);\n  pointer-events: none;\n}\n\n.item.expanded .actions {\n  opacity: 1;\n  transform: translateX(-50%) translateY(0);\n  pointer-events: auto;\n}\n\n.actions button {\n  width: 34px;\n  height: 34px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 8px;\n  color: var(--text-secondary);\n  transition: var(--transition-fast);\n}\n\n.actions button:hover {\n  background: var(--glass-bg-hover);\n  color: var(--text-primary);\n}\n\n.actions button.active {\n  color: var(--accent-gold);\n}\n\n.actions button.danger:hover {\n  background: rgba(239, 68, 68, 0.1);\n  color: var(--accent-danger);\n}\n\n.actions button svg {\n  width: 18px;\n  height: 18px;\n}\n\n/* Empty State */\n.empty {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, 80px);\n  /* OFFSET BELOW PLANET */\n  font-size: 14px;\n  font-weight: 500;\n  color: var(--text-muted);\n  letter-spacing: 0.1em;\n  text-transform: uppercase;\n  pointer-events: none;\n  animation: emptyStateFadeIn 1s ease-out forwards;\n}\n\n@keyframes emptyStateFadeIn {\n  from {\n    opacity: 0;\n    transform: translate(-50%, 60px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate(-50%, 80px);\n  }\n}\n\n/* Input Area */\n.add {\n  position: fixed;\n  bottom: 48px;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 100;\n}\n\n/* Toast */\n.toast {\n  position: fixed;\n  bottom: 120px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: var(--bg-surface);\n  backdrop-filter: var(--glass-blur);\n  border: 1px solid var(--glass-border);\n  border-radius: 12px;\n  padding: 12px 24px;\n  font-size: 14px;\n  font-weight: 500;\n  color: var(--text-primary);\n  box-shadow: var(--shadow-lg);\n  animation: toastIn var(--transition-base) forwards;\n  z-index: 3000;\n}\n\n@keyframes toastIn {\n  from {\n    opacity: 0;\n    transform: translateX(-50%) translateY(12px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(-50%) translateY(0);\n  }\n}\n\n/* Mode Selector */\n.mode-selector {\n  position: fixed;\n  top: var(--inset);\n  left: var(--inset);\n  z-index: 100;\n  display: flex;\n  align-items: center;\n  background: var(--glass-bg);\n  border: 1px solid var(--glass-border);\n  border-radius: 32px;\n  padding: 6px;\n  padding-left: 20px;\n  backdrop-filter: var(--glass-blur);\n  box-shadow: var(--shadow-md);\n  transition: var(--transition-base);\n  max-width: calc(100vw - 48px);\n}\n\n.mode-selector:hover {\n  background: var(--glass-bg-hover);\n  border-color: var(--glass-border-hover);\n}\n\n.mode-pills {\n  display: flex;\n  align-items: center;\n  gap: var(--space-xs);\n  overflow-x: auto;\n  scrollbar-width: none;\n  /* Firefox */\n  -ms-overflow-style: none;\n  /* IE/Edge */\n  padding-right: 12px;\n}\n\n.mode-pills::-webkit-scrollbar {\n  display: none;\n  /* Chrome/Safari */\n}\n\n.mode-pill {\n  font-size: 13px;\n  font-weight: 600;\n  color: var(--text-secondary);\n  padding: 8px 18px;\n  border-radius: 20px;\n  transition: var(--transition-base);\n  text-transform: lowercase;\n}\n\n.mode-pill:hover {\n  color: var(--text-primary);\n  background: var(--glass-bg-hover);\n}\n\n.mode-pill.active {\n  color: var(--accent-teal);\n  background: rgba(0, 229, 255, 0.1);\n}\n\n.mode-add-btn {\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px dashed var(--glass-border);\n  border-radius: 50%;\n  color: var(--text-muted);\n  transition: var(--transition-base);\n  margin-left: var(--space-xs);\n}\n\n.mode-add-btn:hover {\n  color: var(--accent-teal);\n  border-color: var(--accent-teal);\n  background: rgba(0, 229, 255, 0.05);\n}\n\n/* Accessibility */\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n\n:focus-visible {\n  outline: 2px solid var(--accent-blue);\n  outline-offset: 4px;\n}\n\n/* Walkthrough Overlay */\n.walkthrough-overlay {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.7);\n  /* DARKER OVERLAY FOR FOCUS */\n  backdrop-filter: blur(8px);\n  z-index: 2000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  animation: fadeIn 0.4s ease-out;\n}\n\n.walkthrough-overlay.exiting {\n  opacity: 0;\n  transform: scale(1.1);\n  transition: all 0.5s var(--transition-base);\n}\n\n.walkthrough-spotlight {\n  position: absolute;\n  border-radius: 50%;\n  box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.75);\n  transition: all var(--transition-slow);\n  pointer-events: none;\n}\n\n.spotlight-center {\n  width: 140px;\n  height: 140px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.spotlight-input {\n  width: 480px;\n  height: 72px;\n  bottom: 38px;\n  left: 50%;\n  transform: translateX(-50%);\n  border-radius: 20px;\n}\n\n.spotlight-orbit {\n  width: 640px;\n  height: 640px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.spotlight-modes {\n  width: 300px;\n  height: 64px;\n  top: 24px;\n  left: 24px;\n  border-radius: 32px;\n}\n\n.spotlight-actions {\n  width: 220px;\n  height: 60px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, 64px);\n  border-radius: 12px;\n}\n\n.spotlight-music {\n  width: 100px;\n  height: 60px;\n  bottom: 24px;\n  right: 24px;\n  border-radius: 32px;\n}\n\n.walkthrough-card {\n  position: relative;\n  background: var(--bg-surface);\n  border: 1px solid var(--glass-border);\n  border-radius: 32px;\n  padding: var(--space-xl);\n  max-width: 440px;\n  text-align: center;\n  box-shadow: var(--shadow-lg);\n  backdrop-filter: var(--glass-blur);\n  animation: modalIn 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);\n  z-index: 2001;\n}\n\n.walkthrough-progress {\n  display: flex;\n  justify-content: center;\n  gap: 10px;\n  margin-bottom: var(--space-lg);\n}\n\n.walkthrough-dot {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: var(--glass-border);\n  transition: all var(--transition-base);\n}\n\n.walkthrough-dot.active {\n  background: var(--accent-teal);\n  box-shadow: 0 0 15px var(--accent-teal-glow);\n  transform: scale(1.3);\n}\n\n.walkthrough-dot.complete {\n  background: var(--accent-teal);\n  opacity: 0.4;\n}\n\n.walkthrough-content {\n  margin-bottom: var(--space-xl);\n}\n\n.walkthrough-title {\n  font-size: 28px;\n  font-weight: 800;\n  color: var(--text-primary);\n  margin-bottom: var(--space-md);\n  letter-spacing: -0.02em;\n}\n\n.walkthrough-description {\n  font-size: 16px;\n  line-height: 1.6;\n  color: var(--text-secondary);\n}\n\n.walkthrough-actions {\n  display: flex;\n  justify-content: center;\n  gap: var(--space-md);\n  margin-bottom: var(--space-lg);\n}\n\n.walkthrough-skip {\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--text-muted);\n  padding: 12px 24px;\n  border-radius: 14px;\n  background: var(--glass-bg);\n  border: 1px solid var(--glass-border);\n  transition: all var(--transition-fast);\n}\n\n.walkthrough-skip:hover {\n  background: var(--glass-bg-hover);\n  color: var(--text-secondary);\n}\n\n.walkthrough-next {\n  font-size: 14px;\n  font-weight: 700;\n  color: var(--bg-deep);\n  background: var(--accent-teal);\n  padding: 12px 32px;\n  border-radius: 14px;\n  transition: all var(--transition-base);\n  box-shadow: 0 4px 20px var(--accent-teal-glow);\n  text-transform: capitalize;\n}\n\n.walkthrough-next:hover {\n  background: #00f2ff;\n  transform: translateY(-2px);\n  box-shadow: 0 8px 30px var(--accent-teal-glow);\n}\n\n.walkthrough-hint {\n  font-size: 11px;\n  color: var(--text-muted);\n  letter-spacing: 0.02em;\n  text-transform: lowercase;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n}\n\n/* Responsive Fixes */\n@media (max-width: 768px) {\n  .controls-row {\n    bottom: calc(var(--inset) + 72px);\n    right: var(--inset);\n    flex-direction: column;\n    gap: 8px;\n  }\n\n  .add {\n    bottom: 24px;\n    width: 90%;\n  }\n\n  .toast {\n    bottom: 160px;\n  }\n\n  .mode-selector {\n    top: 16px;\n    left: 16px;\n    right: 16px;\n  }\n}\n\n@media (max-width: 480px) {\n  .label-title {\n    max-width: 160px;\n  }\n\n  .walkthrough-card {\n    width: 90%;\n    margin: 0 5%;\n    padding: var(--space-lg);\n  }\n\n  .spotlight-input {\n    width: 90%;\n  }\n}",""]);const s=o},601(e){e.exports=function(e){return e[1]}},659(e){var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},698(e,t){var n=Symbol.for("react.transitional.element");Symbol.for("react.fragment"),t.jsx=function(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}},825(e){e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},848(e,t,n){e.exports=n(698)},869(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator,m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var E=w.prototype=new b;E.constructor=w,g(E,v.prototype),E.isPureReactComponent=!0;var S=Array.isArray;function k(){}var _={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function I(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return N((u=e._init)(e._payload),t,i,a,o)}}if(u)return o=o(e),u=""===a?"."+A(e,0):a,S(o)?(i="",null!=u&&(i=u.replace(x,"$&/")+"/"),N(o,t,i,"",function(e){return e})):null!=o&&(C(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+u,o=I(l.type,c,l.props)),t.push(o)),1;u=0;var h,f=""===a?".":a+":";if(S(e))for(var m=0;m<e.length;m++)u+=N(a=e[m],t,i,s=f+A(a,m),o);else if("function"==typeof(m=null===(h=e)||"object"!=typeof h?null:"function"==typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=N(a=a.value,t,i,s=f+A(a,m++),o);else if("object"===s){if("function"==typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},D={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=D,t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.key&&(i=""+t.key),t)!T.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return I(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)T.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return I(e,a,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),i=_.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(k,R)}catch(e){R(e)}finally{null!==t&&null!==n.types&&(t.types=n.types),_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return _.H.useEffect(e,t)},t.useEffectEvent=function(e){return _.H.useEffectEvent(e)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.2.3"},961(e,t,n){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(221)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var r=n(848),i=n(338),a=n(540);const o={TIME:.2,PLACE:.15,DEVICE:.1,RECENCY:.25,FREQUENCY:.15,PINNED:.1,NOVELTY:.05},s=Object.values(o).reduce((e,t)=>e+t,0);Math.abs(s-1)>.001&&console.warn(`Scoring weights sum to ${s}, expected 1.0`);const l={MAX_VISIBLE:5,DECAY_DAYS:7,QUIET_HOURS_DEFAULT:4,NOVELTY_HOURS:24,MAX_TITLE_LENGTH:200,MAX_ITEMS:500},c={SOUNDS:{newItem:"/sounds/17640 futuristic prompt-full.mp3",modeSwitch:"/sounds/Futuristic Reveal.wav",markDone:"/sounds/Futuristic Feature Select.mp3",reminder:"/sounds/Futuristic Power Generation.wav",ambient:"/sounds/Space Ambience.mp3"},HASHES:{newItem:"8d70fdcbb13027b2d529d36544b51d0f9dd9be45f44bf13de1cd2175a84ab939",modeSwitch:"d1548899e16d8d56795c35aa5e6a11ccc73ad7de05142593f9d8c46db28ee899",markDone:"f44044c6a0203e4ce5389a0e3c4128f157b7a51d8541b6e3258fe6c9ae063bf4",reminder:"7ec6bab782b6d60f2df8ca2760113a514918253e5bd65f08c9945758c4e3629a",ambient:"8ed7a8ad746ce3ebd6bc31c03fd5af658a68c11519e8cc2715a1f1b1288e8ddf"},VOLUMES:{newItem:.3,modeSwitch:.25,markDone:.3,reminder:.2,ambient:.08},DEBOUNCE_MS:80,REMINDER_INTERVAL_MS:108e5,REMINDER_AGE_HOURS:4,VERIFY_INTEGRITY:!1,IMMERSIVE:{PAN_SPEED:5e-4,PAN_RANGE:.8,FILTER_FREQ:800,FILTER_Q:1.5}},u="orbit_context",h="orbit_music",d="orbit_modes",f="orbit_first_run",p="orbit_last_reminder";function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t,n){return(t=function(e){var t=function(e){if("object"!=m(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=y(y({},l),{},{MIN_SCORE:0,MAX_SCORE:1});function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{id:crypto.randomUUID(),title:e,detail:t,url:n,signals:{createdAt:(new Date).toISOString(),lastSeenAt:null,seenCount:0,openedCount:0,dismissedCount:0,hourHistogram:{},dayHistogram:{},placeHistogram:{},deviceHistogram:{},ignoredStreak:0,isPinned:!1,pinUntil:null},computed:{score:.5,distance:.5,reasons:[]}}}function E(){var e=new Date,t=navigator.userAgent.toLowerCase(),n="desktop";/mobile|android|iphone|ipad/.test(t)&&(n=/ipad|tablet/.test(t)?"tablet":"mobile");var r,i=localStorage.getItem(u)||"unknown";return{now:e.toISOString(),hour:e.getHours(),day:e.getDay(),device:n,place:i,sessionId:sessionStorage.getItem("orbit_session")||(r=crypto.randomUUID(),sessionStorage.setItem("orbit_session",r),r)}}var S=o;function k(e){return Math.max(0,Math.min(1,e))}function _(e){return 1-e}function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e,t,n){return(t=function(e){var t=function(e){if("object"!=T(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.MAX_VISIBLE,r=e.map(function(e){var n=function(e,t){var n=[],r=0,i=function(e,t){var n=new Date(e.signals.createdAt).getTime(),r=(new Date(t.now).getTime()-n)/36e5;return r<24?1:r<72?1-(r-24)/48:0}(e,t);r+=i*S.NOVELTY,i>.5&&n.push("newly added");var a=function(e,t){var n=e.signals,r=n.hourHistogram,i=void 0===r?{}:r,a=n.dayHistogram,o=void 0===a?{}:a,s=i[t.hour]||0,l=Object.values(i).reduce(function(e,t){return e+t},0),c=l>0?s/l:0,u=o[t.day]||0,h=Object.values(o).reduce(function(e,t){return e+t},0);return.7*c+.3*(h>0?u/h:0)}(e,t);r+=a*S.TIME,a>.5&&n.push("matches your usual time");var o=function(e,t){var n=e.signals.placeHistogram,r=void 0===n?{}:n,i=r[t.place]||0,a=Object.values(r).reduce(function(e,t){return e+t},0);return a<3?0:a>0?i/a:0}(e,t);r+=o*S.PLACE,o>.6&&n.push("often seen at ".concat(t.place));var s=function(e,t){var n=e.signals.deviceHistogram,r=void 0===n?{}:n,i=r[t.device]||0,a=Object.values(r).reduce(function(e,t){return e+t},0);return a>0?i/a:0}(e,t);r+=s*S.DEVICE,s>.6&&n.push("fits ".concat(t.device," context"));var c=function(e,t){if(!e.signals.lastSeenAt)return 0;var n=(new Date(t.now).getTime()-new Date(e.signals.lastSeenAt).getTime())/864e5;return Math.exp(-n/l.DECAY_DAYS)}(e,t);r+=c*S.RECENCY,c>.7&&i<.8&&n.push("recently on your mind");var u=function(e){var t=e.signals,n=t.seenCount,r=void 0===n?0:n,i=t.openedCount,a=r+2*(void 0===i?0:i);return Math.min(1,Math.log10(a+1)/2)}(e);r+=u*S.FREQUENCY,u>.6&&n.push("frequently accessed"),e.signals.isPinned&&(!e.signals.pinUntil||new Date(e.signals.pinUntil)>new Date(t.now))&&(r+=S.PINNED,n.push("kept close"));var h=function(e,t){var n=e.signals,r=n.ignoredStreak,i=void 0===r?0:r,a=n.lastSeenAt,o=Math.min(.5,.1*i);if(!a){var s=new Date(e.signals.createdAt).getTime(),l=(new Date(t.now).getTime()-s)/864e5;return Math.min(.8,l/30)}return o}(e,t);if(r*=1-h,h>.4&&n.push("fading from focus"),e.signals.quietUntil){var d=new Date(e.signals.quietUntil).getTime();new Date(t.now).getTime()<d&&(r*=.1,n.push("resting"))}return{score:k(r),reasons:n}}(e,t),r=n.score,i=n.reasons;return C(C({},e),{},{computed:{score:r,distance:_(r),reasons:i,updatedAt:t.now}})});r.sort(function(e,t){return t.computed.score-e.computed.score});var i=r.slice(0,n);return{all:r,visible:i}}function N(e,t,n){var r=new Date(n.now),i=C({},e.signals);"seen"===t?(i.seenCount=(i.seenCount||0)+1,i.lastSeenAt=n.now,i.ignoredStreak=0):"opened"===t?(i.openedCount=(i.openedCount||0)+1,i.lastSeenAt=n.now,i.ignoredStreak=0):"dismissed"===t&&(i.dismissedCount=(i.dismissedCount||0)+1,i.ignoredStreak=(i.ignoredStreak||0)+1);var a=r.getHours(),o=r.getDay();return i.hourHistogram=i.hourHistogram||{},i.dayHistogram=i.dayHistogram||{},i.hourHistogram[a]=(i.hourHistogram[a]||0)+1,i.dayHistogram[o]=(i.dayHistogram[o]||0)+1,i.placeHistogram=i.placeHistogram||{},i.placeHistogram[n.place]=(i.placeHistogram[n.place]||0)+1,i.deviceHistogram=i.deviceHistogram||{},i.deviceHistogram[n.device]=(i.deviceHistogram[n.device]||0)+1,C(C({},e),{},{signals:i})}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return C(C({},e),{},{signals:C(C({},e.signals),{},{isPinned:!0,pinUntil:t})})}function O(e){return C(C({},e),{},{signals:C(C({},e.signals),{},{isPinned:!1,pinUntil:null})})}function R(e,t,n){var r=new Date(new Date(n.now).getTime()+60*t*60*1e3).toISOString();return C(C({},e),{},{signals:C(C({},e.signals),{},{quietUntil:r,dismissedCount:(e.signals.dismissedCount||0)+1})})}function D(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function M(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function a(n,r,i,a){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return F(c,"_invoke",function(n,r,i){var a,s,l,c=0,u=i||[],h=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return a=t,s=0,l=e,d.n=n,o}};function f(n,r){for(s=n,l=r,t=0;!h&&c&&!i&&t<u.length;t++){var i,a=u[t],f=d.p,p=a[2];n>3?(i=p===r)&&(l=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=f&&((i=n<2&&f<a[1])?(s=0,d.v=r,d.n=a[1]):f<p&&(i=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,d.n=p,s=0))}if(i||n>1)return o;throw h=!0,r}return function(i,u,p){if(c>1)throw TypeError("Generator is already running");for(h&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!h;){a||(s?s<3?(s>1&&(d.n=-1),f(s,l)):d.n=l:d.v=l);try{if(c=2,a){if(s||(i="next"),t=a[i]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),s=1);a=e}else if((t=(h=d.n<0)?l:n.call(r,d))!==o)break}catch(t){a=e,s=1,l=t}finally{c=1}}return{value:t,done:h}}}(n,i,a),!0),c}var o={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(F(t={},r,function(){return this}),t),h=c.prototype=s.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,F(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return l.prototype=c,F(h,"constructor",c),F(c,"constructor",l),l.displayName="GeneratorFunction",F(c,i,"GeneratorFunction"),F(h),F(h,i,"Generator"),F(h,r,function(){return this}),F(h,"toString",function(){return"[object Generator]"}),(M=function(){return{w:a,m:d}})()}function F(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}F=function(e,t,n,r){function a(t,n){F(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},F(e,t,n,r)}function U(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function z(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){U(a,r,i,o,s,"next",e)}function s(e){U(a,r,i,o,s,"throw",e)}o(void 0)})}}var V="keys",j="master-key";function B(){return new Promise(function(e,t){var n=indexedDB.open("orbit-secure",1);n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e(n.result)},n.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains(V)||t.createObjectStore(V)}})}function $(){return H.apply(this,arguments)}function H(){return(H=z(M().m(function e(){return M().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function q(e){return G.apply(this,arguments)}function G(){return(G=z(M().m(function e(t){var n;return M().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,crypto.subtle.exportKey("raw",t);case 1:return n=e.v,e.a(2,new Uint8Array(n))}},e)}))).apply(this,arguments)}function K(e){return W.apply(this,arguments)}function W(){return(W=z(M().m(function e(t){return M().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,crypto.subtle.importKey("raw",t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]);case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function Q(){return Y.apply(this,arguments)}function Y(){return Y=z(M().m(function e(){var t,n,r,i,a;return M().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,B();case 1:return t=e.v,e.n=2,new Promise(function(e,n){var r=t.transaction(V,"readonly").objectStore(V).get(j);r.onerror=function(){return n(r.error)},r.onsuccess=function(){return e(r.result)}});case 2:if(!(n=e.v)){e.n=4;break}return t.close(),e.n=3,K(n);case 3:return e.a(2,e.v);case 4:return e.n=5,$();case 5:return r=e.v,e.n=6,q(r);case 6:return i=e.v,e.n=7,new Promise(function(e,n){var r=t.transaction(V,"readwrite").objectStore(V).put(i,j);r.onerror=function(){return n(r.error)},r.onsuccess=function(){return e()}});case 7:return t.close(),e.a(2,r);case 8:return e.p=8,a=e.v,console.warn("[Crypto] Key management failed, using fallback:",a),e.a(2,null)}},e,null,[[0,8]])})),Y.apply(this,arguments)}var X=null;function J(){return Z.apply(this,arguments)}function Z(){return(Z=z(M().m(function e(){return M().w(function(e){for(;;)switch(e.n){case 0:if(X){e.n=2;break}return e.n=1,Q();case 1:X=e.v;case 2:return e.a(2,X)}},e)}))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=z(M().m(function e(t){var n,r,i,a,o,s,l;return M().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,J();case 1:if(n=e.v){e.n=2;break}return e.a(2,t);case 2:return e.p=2,r=new TextEncoder,i=r.encode(t),a=crypto.getRandomValues(new Uint8Array(12)),e.n=3,crypto.subtle.encrypt({name:"AES-GCM",iv:a},n,i);case 3:return o=e.v,(s=new Uint8Array(a.length+o.byteLength)).set(a),s.set(new Uint8Array(o),a.length),e.a(2,"enc:"+btoa(String.fromCharCode.apply(String,D(s))));case 4:return e.p=4,l=e.v,console.error("[Crypto] Encryption failed:",l),e.a(2,t)}},e,null,[[2,4]])}))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=z(M().m(function e(t){var n,r,i,a,o,s,l;return M().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.startsWith("enc:")){e.n=1;break}return e.a(2,t);case 1:return e.n=2,J();case 2:if(n=e.v){e.n=3;break}return console.warn("[Crypto] No key available for decryption"),e.a(2,t);case 3:return e.p=3,r=Uint8Array.from(atob(t.slice(4)),function(e){return e.charCodeAt(0)}),i=r.slice(0,12),a=r.slice(12),e.n=4,crypto.subtle.decrypt({name:"AES-GCM",iv:i},n,a);case 4:return o=e.v,s=new TextDecoder,e.a(2,s.decode(o));case 5:return e.p=5,l=e.v,console.error("[Crypto] Decryption failed:",l),e.a(2,t)}},e,null,[[3,5]])}))).apply(this,arguments)}function ie(){return!("undefined"==typeof crypto||!crypto.subtle||"undefined"==typeof indexedDB)}function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function oe(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function a(n,r,i,a){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return se(c,"_invoke",function(n,r,i){var a,s,l,c=0,u=i||[],h=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return a=t,s=0,l=e,d.n=n,o}};function f(n,r){for(s=n,l=r,t=0;!h&&c&&!i&&t<u.length;t++){var i,a=u[t],f=d.p,p=a[2];n>3?(i=p===r)&&(l=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=f&&((i=n<2&&f<a[1])?(s=0,d.v=r,d.n=a[1]):f<p&&(i=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,d.n=p,s=0))}if(i||n>1)return o;throw h=!0,r}return function(i,u,p){if(c>1)throw TypeError("Generator is already running");for(h&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!h;){a||(s?s<3?(s>1&&(d.n=-1),f(s,l)):d.n=l:d.v=l);try{if(c=2,a){if(s||(i="next"),t=a[i]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),s=1);a=e}else if((t=(h=d.n<0)?l:n.call(r,d))!==o)break}catch(t){a=e,s=1,l=t}finally{c=1}}return{value:t,done:h}}}(n,i,a),!0),c}var o={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(se(t={},r,function(){return this}),t),h=c.prototype=s.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,se(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return l.prototype=c,se(h,"constructor",c),se(c,"constructor",l),l.displayName="GeneratorFunction",se(c,i,"GeneratorFunction"),se(h),se(h,i,"Generator"),se(h,r,function(){return this}),se(h,"toString",function(){return"[object Generator]"}),(oe=function(){return{w:a,m:d}})()}function se(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}se=function(e,t,n,r){function a(t,n){se(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},se(e,t,n,r)}function le(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function ce(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){le(a,r,i,o,s,"next",e)}function s(e){le(a,r,i,o,s,"throw",e)}o(void 0)})}}var ue="orbit_items";function he(){return de.apply(this,arguments)}function de(){return de=ce(oe().m(function e(){var t,n,r,i;return oe().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,"undefined"==typeof chrome||null===(t=chrome.storage)||void 0===t||!t.local){e.n=1;break}return e.a(2,new Promise(function(e){chrome.storage.local.get([ue],function(t){e(t[ue]||[])})}));case 1:if(n=localStorage.getItem(ue)){e.n=2;break}return e.a(2,[]);case 2:if(!n.startsWith("enc:")||!ie()){e.n=4;break}return e.n=3,ne(n);case 3:return r=e.v,e.a(2,JSON.parse(r));case 4:return e.a(2,JSON.parse(n));case 5:return e.p=5,i=e.v,console.error("Storage read failed:",i),e.a(2,[])}},e,null,[[0,5]])})),de.apply(this,arguments)}function fe(e){return pe.apply(this,arguments)}function pe(){return(pe=ce(oe().m(function e(t){var n,r,i,a;return oe().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,"undefined"==typeof chrome||null===(n=chrome.storage)||void 0===n||!n.local){e.n=1;break}return e.a(2,new Promise(function(e){var n,r,i;chrome.storage.local.set((n={},i=t,(r=function(e){var t=function(e){if("object"!=ae(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ae(t)?t:t+""}(r=ue))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n),e)}));case 1:if(r=JSON.stringify(t),!ie()){e.n=3;break}return e.n=2,ee(r);case 2:i=e.v,localStorage.setItem(ue,i),e.n=4;break;case 3:localStorage.setItem(ue,r);case 4:e.n=6;break;case 5:e.p=5,a=e.v,console.error("Storage write failed:",a);case 6:return e.a(2)}},e,null,[[0,5]])}))).apply(this,arguments)}function me(e){return ge.apply(this,arguments)}function ge(){return(ge=ce(oe().m(function e(t){var n;return oe().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,he();case 1:return(n=e.v).push(t),e.n=2,fe(n);case 2:return e.a(2)}},e)}))).apply(this,arguments)}function ye(e,t){return ve.apply(this,arguments)}function ve(){return(ve=ce(oe().m(function e(t,n){var r,i;return oe().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,he();case 1:if(r=e.v,-1===(i=r.findIndex(function(e){return e.id===t}))){e.n=2;break}return r[i]=n,e.n=2,fe(r);case 2:return e.a(2)}},e)}))).apply(this,arguments)}function be(e){return we.apply(this,arguments)}function we(){return(we=ce(oe().m(function e(t){var n,r;return oe().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,he();case 1:return n=e.v,r=n.filter(function(e){return e.id!==t}),e.n=2,fe(r);case 2:return e.a(2)}},e)}))).apply(this,arguments)}function Ee(){return Se.apply(this,arguments)}function Se(){return(Se=ce(oe().m(function e(){var t,n,r;return oe().w(function(e){for(;;)switch(e.p=e.n){case 0:if(ie()){e.n=1;break}return e.a(2);case 1:if((t=localStorage.getItem(ue))&&!t.startsWith("enc:")){e.n=2;break}return e.a(2);case 2:return e.p=2,n=JSON.parse(t),e.n=3,fe(n);case 3:console.log("[Storage] Migrated to encrypted storage"),e.n=5;break;case 4:e.p=4,r=e.v,console.error("[Storage] Migration failed:",r);case 5:return e.a(2)}},e,null,[[2,4]])}))).apply(this,arguments)}function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function _e(e){return function(e){if(Array.isArray(e))return Te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Te(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach(function(t){xe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xe(e,t,n){return(t=function(e){var t=function(e){if("object"!=ke(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ke(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function a(n,r,i,a){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return Ne(c,"_invoke",function(n,r,i){var a,s,l,c=0,u=i||[],h=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return a=t,s=0,l=e,d.n=n,o}};function f(n,r){for(s=n,l=r,t=0;!h&&c&&!i&&t<u.length;t++){var i,a=u[t],f=d.p,p=a[2];n>3?(i=p===r)&&(l=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=f&&((i=n<2&&f<a[1])?(s=0,d.v=r,d.n=a[1]):f<p&&(i=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,d.n=p,s=0))}if(i||n>1)return o;throw h=!0,r}return function(i,u,p){if(c>1)throw TypeError("Generator is already running");for(h&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!h;){a||(s?s<3?(s>1&&(d.n=-1),f(s,l)):d.n=l:d.v=l);try{if(c=2,a){if(s||(i="next"),t=a[i]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),s=1);a=e}else if((t=(h=d.n<0)?l:n.call(r,d))!==o)break}catch(t){a=e,s=1,l=t}finally{c=1}}return{value:t,done:h}}}(n,i,a),!0),c}var o={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Ne(t={},r,function(){return this}),t),h=c.prototype=s.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ne(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return l.prototype=c,Ne(h,"constructor",c),Ne(c,"constructor",l),l.displayName="GeneratorFunction",Ne(c,i,"GeneratorFunction"),Ne(h),Ne(h,i,"Generator"),Ne(h,r,function(){return this}),Ne(h,"toString",function(){return"[object Generator]"}),(Ae=function(){return{w:a,m:d}})()}function Ne(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}Ne=function(e,t,n,r){function a(t,n){Ne(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},Ne(e,t,n,r)}function Pe(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Oe(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){Pe(a,r,i,o,s,"next",e)}function s(e){Pe(a,r,i,o,s,"throw",e)}o(void 0)})}}var Re=new Set,De={items:[],visibleItems:[],context:null,isLoading:!0};function Le(){return De}function Me(){Re.forEach(function(e){return e(De)})}function Fe(){var e="orbit_place",t=u,n=localStorage.getItem(e),r=localStorage.getItem(t);n&&!r&&(localStorage.setItem(t,n),localStorage.removeItem(e),console.log("[Store] Migrated place from orbit_place to orbit_context"))}function Ue(){return(Ue=Oe(Ae().m(function e(){var t,n,r,i,a;return Ae().w(function(e){for(;;)switch(e.n){case 0:return De.isLoading=!0,Me(),Fe(),e.n=1,Ee();case 1:return e.n=2,he();case 2:t=e.v,n=E(),r=A(t,n),i=r.all,a=r.visible,De={items:i,visibleItems:a,context:n,isLoading:!1},Me();case 3:return e.a(2)}},e)}))).apply(this,arguments)}function ze(){return Ve.apply(this,arguments)}function Ve(){return(Ve=Oe(Ae().m(function e(){var t,n,r,i;return Ae().w(function(e){for(;;)switch(e.n){case 0:t=E(),n=A(De.items,t),r=n.all,i=n.visible,De=Ce(Ce({},De),{},{items:r,visibleItems:i,context:t}),Me();case 1:return e.a(2)}},e)}))).apply(this,arguments)}function je(){return je=Oe(Ae().m(function e(t){var n,r,i,a,o,s,l,c=arguments;return Ae().w(function(e){for(;;)switch(e.n){case 0:return n=w(t,c.length>1&&void 0!==c[1]?c[1]:"",c.length>2&&void 0!==c[2]?c[2]:""),r=E(),i=N(n,"seen",r),e.n=1,me(i);case 1:a=[].concat(_e(De.items),[i]),o=A(a,r),s=o.all,l=o.visible,De=Ce(Ce({},De),{},{items:s,visibleItems:l}),Me();case 2:return e.a(2)}},e)})),je.apply(this,arguments)}function Be(e){return $e.apply(this,arguments)}function $e(){return($e=Oe(Ae().m(function e(t){var n,r,i;return Ae().w(function(e){for(;;)switch(e.n){case 0:if(n=De.items.find(function(e){return e.id===t})){e.n=1;break}return e.a(2);case 1:return r=E(),i=N(n,"seen",r),De.items=De.items.map(function(e){return e.id===t?i:e}),e.n=2,ye(t,i);case 2:return e.n=3,ze();case 3:return e.a(2)}},e)}))).apply(this,arguments)}function He(){return(He=Oe(Ae().m(function e(t){return Ae().w(function(e){for(;;)if(0===e.n)return e.a(2,Be(t))},e)}))).apply(this,arguments)}function qe(){return(qe=Oe(Ae().m(function e(t){var n,r,i;return Ae().w(function(e){for(;;)switch(e.n){case 0:if(n=De.items.find(function(e){return e.id===t})){e.n=1;break}return e.a(2);case 1:return r=E(),i=N(n,"opened",r),De.items=De.items.map(function(e){return e.id===t?i:e}),e.n=2,ye(t,i);case 2:return e.n=3,ze();case 3:return e.a(2)}},e)}))).apply(this,arguments)}function Ge(e){return Ke.apply(this,arguments)}function Ke(){return Ke=Oe(Ae().m(function e(t){var n,r,i,a,o=arguments;return Ae().w(function(e){for(;;)switch(e.n){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:4,r=De.items.find(function(e){return e.id===t})){e.n=1;break}return e.a(2);case 1:return i=E(),a=R(r,n,i),De.items=De.items.map(function(e){return e.id===t?a:e}),e.n=2,ye(t,a);case 2:return e.n=3,ze();case 3:return e.a(2)}},e)})),Ke.apply(this,arguments)}function We(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Oe(Ae().m(function e(t){var n,r;return Ae().w(function(e){for(;;)switch(e.n){case 0:if(n=De.items.find(function(e){return e.id===t})){e.n=1;break}return e.a(2);case 1:return r=P(n),De.items=De.items.map(function(e){return e.id===t?r:e}),e.n=2,ye(t,r);case 2:return e.n=3,ze();case 3:return e.a(2)}},e)}))).apply(this,arguments)}function Ye(e){return Xe.apply(this,arguments)}function Xe(){return(Xe=Oe(Ae().m(function e(t){var n,r;return Ae().w(function(e){for(;;)switch(e.n){case 0:if(n=De.items.find(function(e){return e.id===t})){e.n=1;break}return e.a(2);case 1:return r=O(n),De.items=De.items.map(function(e){return e.id===t?r:e}),e.n=2,ye(t,r);case 2:return e.n=3,ze();case 3:return e.a(2)}},e)}))).apply(this,arguments)}function Je(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=Oe(Ae().m(function e(t){var n,r,i,a,o;return Ae().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,be(t);case 1:n=De.items.filter(function(e){return e.id!==t}),r=E(),i=A(n,r),a=i.all,o=i.visible,De=Ce(Ce({},De),{},{items:a,visibleItems:o}),Me();case 2:return e.a(2)}},e)}))).apply(this,arguments)}var et=null;function tt(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function a(n,r,i,a){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return nt(c,"_invoke",function(n,r,i){var a,s,l,c=0,u=i||[],h=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return a=t,s=0,l=e,d.n=n,o}};function f(n,r){for(s=n,l=r,t=0;!h&&c&&!i&&t<u.length;t++){var i,a=u[t],f=d.p,p=a[2];n>3?(i=p===r)&&(l=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=f&&((i=n<2&&f<a[1])?(s=0,d.v=r,d.n=a[1]):f<p&&(i=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,d.n=p,s=0))}if(i||n>1)return o;throw h=!0,r}return function(i,u,p){if(c>1)throw TypeError("Generator is already running");for(h&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!h;){a||(s?s<3?(s>1&&(d.n=-1),f(s,l)):d.n=l:d.v=l);try{if(c=2,a){if(s||(i="next"),t=a[i]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),s=1);a=e}else if((t=(h=d.n<0)?l:n.call(r,d))!==o)break}catch(t){a=e,s=1,l=t}finally{c=1}}return{value:t,done:h}}}(n,i,a),!0),c}var o={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(nt(t={},r,function(){return this}),t),h=c.prototype=s.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,nt(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return l.prototype=c,nt(h,"constructor",c),nt(c,"constructor",l),l.displayName="GeneratorFunction",nt(c,i,"GeneratorFunction"),nt(h),nt(h,i,"Generator"),nt(h,r,function(){return this}),nt(h,"toString",function(){return"[object Generator]"}),(tt=function(){return{w:a,m:d}})()}function nt(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}nt=function(e,t,n,r){function a(t,n){nt(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},nt(e,t,n,r)}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return it(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function at(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function ot(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){at(a,r,i,o,s,"next",e)}function s(e){at(a,r,i,o,s,"throw",e)}o(void 0)})}}function st(e){return lt.apply(this,arguments)}function lt(){return(lt=ot(tt().m(function e(t){var n,r,i;return tt().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,crypto.subtle.digest("SHA-256",t);case 1:return n=e.v,r=Array.from(new Uint8Array(n)),e.a(2,r.map(function(e){return e.toString(16).padStart(2,"0")}).join(""));case 2:return e.p=2,i=e.v,console.warn("[Audio] Hash computation unavailable:",i),e.a(2,null)}},e,null,[[0,2]])}))).apply(this,arguments)}function ct(e,t){return ut.apply(this,arguments)}function ut(){return(ut=ot(tt().m(function e(t,n){var r,i,a,o;return tt().w(function(e){for(;;)switch(e.p=e.n){case 0:if(c.VERIFY_INTEGRITY&&n){e.n=1;break}return e.a(2,!0);case 1:return e.p=1,e.n=2,fetch(t);case 2:return r=e.v,e.n=3,r.arrayBuffer();case 3:return i=e.v,e.n=4,st(i);case 4:if(!(a=e.v)||a===n){e.n=5;break}return console.error("[Audio] Integrity check FAILED for ".concat(t)),console.error("  Expected: ".concat(n)),console.error("  Actual:   ".concat(a)),e.a(2,!1);case 5:return e.a(2,!0);case 6:return e.p=6,o=e.v,console.warn("[Audio] Integrity check failed:",o),e.a(2,!0)}},e,null,[[1,6]])}))).apply(this,arguments)}var ht=new Set;function dt(e){return ft.apply(this,arguments)}function ft(){return(ft=ot(tt().m(function e(t){var n,r,i,a;return tt().w(function(e){for(;;)switch(e.n){case 0:if(r=c.SOUNDS[t],i=null===(n=c.HASHES)||void 0===n?void 0:n[t],ht.has(t)||!c.VERIFY_INTEGRITY){e.n=3;break}return e.n=1,ct(r,i);case 1:if(e.v){e.n=2;break}return console.warn("[Audio] Skipping ".concat(t," due to failed integrity check")),e.a(2,null);case 2:ht.add(t);case 3:return(a=new Audio(r)).volume=c.VOLUMES[t],a.preload="auto",e.a(2,a)}},e)}))).apply(this,arguments)}const pt={MODEL:"gemini-1.5-flash",API_URL:"https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent"},mt={async parseInput(e,t){const n=t?`${t.substring(0,6)}...`:"NONE";console.log(`[AI] Parsing input with key: ${n}`);const r=`\n      You are an intelligent assistant for a task management app called Orbit.\n      Analyze the following user input and extract the intent.\n      \n      Input: "${e}"\n      \n      Return JSON ONLY with this structure:\n      {\n        "title": "Concise task title",\n        "detail": "Any extra details mentioned (optional)",\n        "suggestedTime": number (0-23 hour based on context, e.g. "morning" -> 9, "evening" -> 19, null if unspecified),\n        "suggestedContext": "home" | "work" (infer from content, null if unsure),\n        "confidence": number (0-1)\n      }\n    `;try{const e=await fetch(`${pt.API_URL}?key=${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],generationConfig:{temperature:.7,topP:.95,topK:40,maxOutputTokens:1024,responseMimeType:"application/json"}})});if(!e.ok){const t=await e.text();throw console.error("AI Service Error Body:",t),new Error(`AI Service request failed: ${e.status}`)}const n=await e.json(),i=n.candidates?.[0]?.content?.parts?.[0]?.text;if(!i)return function(){throw new Error("Failed to parse AI response")}();const a=i.replace(/```json|```/g,"").trim();return JSON.parse(a)}catch(e){throw console.error("AI Parse Error:",e),e}}},gt={async generateTheme(e,t){const n=`\n      Act as an audiovisual artist. Generate a "vibe" (visuals and audio parameters) based on these tasks:\n      "${e.slice(0,5).map(e=>e.title).join(", ")}"\n      \n      If the tasks are stressful/urgent, use warmer colors (red/orange) and higher BPM.\n      If the tasks are calm/creative, use cooler colors (blue/teal/purple) and lower BPM.\n      \n      Return JSON ONLY:\n      {\n        "visual": {\n          "background": "valid linear-gradient CSS string (e.g. 'linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)')",\n          "accent": "hex color code for buttons",\n          "textColor": "hex color code for text (Ensure high contrast with background, usually #ffffff or #000000)"\n        },\n        "audio": {\n          "bpm": number (40-100),\n          "roughness": number (0.0 to 1.0),\n          "key": "musical key string",\n          "noiseType": "brownNoise" | "pinkNoise" | "ambient" (Use brown for focus/deep work, pink for balance, ambient for space)\n        },\n        "mood": "short description of the mood"\n      }\n    `;try{const e=await fetch(`${pt.API_URL}?key=${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:n}]}],generationConfig:{temperature:.8,topP:.95,topK:40,maxOutputTokens:1024,responseMimeType:"application/json"}})});if(!e.ok){const t=await e.text();throw console.error("Theme Service Error Body:",t),new Error(`Theme Service request failed: ${e.status}`)}const r=await e.json(),i=r.candidates?.[0]?.content?.parts?.[0]?.text;if(!i)throw new Error("No content in AI response");const a=i.replace(/```json|```/g,"").trim();return JSON.parse(a)}catch(e){return console.error("Theme Gen Error:",e),{visual:{background:"linear-gradient(to bottom, #0f172a, #1e1e2e)",accent:"#00E5FF",textColor:"#ffffff"},audio:{bpm:60,roughness:0,key:"C_MAJOR",noiseType:"ambient"},mood:"default cosmic"}}}};function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function vt(e){var t,n,r,i=e.item,o=e.index,s=e.total,l=e.isExpanded,c=e.onExpand,u=(e.onAcknowledge,e.onDone),h=e.onQuiet,d=e.onPin,f=e.onRemove,p=e.onHover,m=e.onClick,g=(n=(0,a.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return yt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=g[0],v=g[1],b=o/Math.max(s,1)*360+i.id.charCodeAt(0)%20,w=180+140*(1-i.computed.score),E=.4+.6*i.computed.score,S=new Date(i.signals.createdAt).getTime(),k=(Date.now()-S)/864e5,_=18+10*Math.min(1,k/7),T=Math.max(0,k-2),I=Math.min(50,8*T),C=Math.min(.6,.1*T);return a.createElement("div",{className:"item ".concat(y?"hovered":""," ").concat(l?"expanded":""," ").concat(i.signals.isPinned?"pinned":""),style:{"--angle":"".concat(b,"deg"),"--distance":"".concat(w,"px"),"--opacity":E,"--delay":"".concat(-i.id.charCodeAt(0)%80,"s"),"--dot-size":"".concat(_,"px"),"--ring-size":"".concat(I,"px"),"--ring-opacity":C},onClick:function(e){null==m||m(),c(e)},onMouseEnter:function(){v(!0),null==p||p()},onMouseLeave:function(){return v(!1)}},a.createElement("div",{className:"dot"}),a.createElement("div",{className:"label ".concat(y||l?"visible":"")},a.createElement("div",{className:"label-title"},i.title),a.createElement("div",{className:"label-meta"},a.createElement("span",{className:"label-presence"},Math.round(100*i.computed.score),"% Presence"),i.signals.isPinned&&a.createElement("span",{className:"label-badge kept"},"Kept"),i.signals.quietUntil&&new Date(i.signals.quietUntil)>new Date&&a.createElement("span",{className:"label-badge resting"},"Resting")),(y||l)&&(null===(t=i.computed.reasons)||void 0===t?void 0:t.length)>0&&a.createElement("div",{className:"label-reasons"},i.computed.reasons.map(function(e,t){return a.createElement("span",{key:t,className:"label-reason"},e)}))),l&&a.createElement("div",{className:"actions"},a.createElement("button",{onClick:function(e){e.stopPropagation(),null==u||u()},title:"Done",className:"done"},a.createElement("svg",{viewBox:"0 0 16 16",fill:"currentColor"},a.createElement("path",{d:"M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"}))),a.createElement("button",{onClick:function(e){e.stopPropagation(),h()},title:"Snooze"},a.createElement("svg",{viewBox:"0 0 16 16",fill:"currentColor"},a.createElement("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zm7-3.25v2.992l2.028.812a.75.75 0 01-.557 1.392l-2.5-1A.75.75 0 017 8.25v-3.5a.75.75 0 011.5 0z"}))),a.createElement("button",{onClick:function(e){e.stopPropagation(),d()},title:i.signals.isPinned?"Stop keeping":"Keep close",className:i.signals.isPinned?"active":""},a.createElement("svg",{viewBox:"0 0 16 16",fill:"currentColor"},a.createElement("path",{d:"M4.456.734a1.75 1.75 0 012.826.504l.613 1.327a3.08 3.08 0 002.084 1.707l2.454.584c1.332.317 1.8 1.972.832 2.94L11.06 10l3.72 3.72a.75.75 0 11-1.06 1.06L10 11.06l-2.204 2.205c-.968.968-2.623.5-2.94-.832l-.584-2.454a3.08 3.08 0 00-1.707-2.084l-1.327-.613a1.75 1.75 0 01-.504-2.826L4.456.734z"}))),a.createElement("button",{onClick:function(e){e.stopPropagation(),f()},title:"Forget",className:"danger"},a.createElement("svg",{viewBox:"0 0 16 16",fill:"currentColor"},a.createElement("path",{d:"M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"})))))}var bt=n(72),wt=n.n(bt),Et=n(825),St=n.n(Et),kt=n(659),_t=n.n(kt),Tt=n(56),It=n.n(Tt),Ct=n(159),xt=n.n(Ct),At=n(113),Nt=n.n(At),Pt=n(76),Ot={};function Rt(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function a(n,r,i,a){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return Dt(c,"_invoke",function(n,r,i){var a,s,l,c=0,u=i||[],h=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return a=t,s=0,l=e,d.n=n,o}};function f(n,r){for(s=n,l=r,t=0;!h&&c&&!i&&t<u.length;t++){var i,a=u[t],f=d.p,p=a[2];n>3?(i=p===r)&&(l=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=f&&((i=n<2&&f<a[1])?(s=0,d.v=r,d.n=a[1]):f<p&&(i=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,d.n=p,s=0))}if(i||n>1)return o;throw h=!0,r}return function(i,u,p){if(c>1)throw TypeError("Generator is already running");for(h&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!h;){a||(s?s<3?(s>1&&(d.n=-1),f(s,l)):d.n=l:d.v=l);try{if(c=2,a){if(s||(i="next"),t=a[i]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),s=1);a=e}else if((t=(h=d.n<0)?l:n.call(r,d))!==o)break}catch(t){a=e,s=1,l=t}finally{c=1}}return{value:t,done:h}}}(n,i,a),!0),c}var o={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Dt(t={},r,function(){return this}),t),h=c.prototype=s.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Dt(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return l.prototype=c,Dt(h,"constructor",c),Dt(c,"constructor",l),l.displayName="GeneratorFunction",Dt(c,i,"GeneratorFunction"),Dt(h),Dt(h,i,"Generator"),Dt(h,r,function(){return this}),Dt(h,"toString",function(){return"[object Generator]"}),(Rt=function(){return{w:a,m:d}})()}function Dt(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}Dt=function(e,t,n,r){function a(t,n){Dt(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},Dt(e,t,n,r)}function Lt(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ut(e){return e.trim().slice(0,l.MAX_TITLE_LENGTH).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F]/g,"")}function zt(e){var t=e.totalItems,n=e.onAdd,r=e.showToast,i=e.aiKey,o=e.onUpdateAiKey,s=Mt((0,a.useState)(""),2),c=s[0],u=s[1],h=Mt((0,a.useState)(!1),2),d=h[0],f=h[1],p=Mt((0,a.useState)(!1),2),m=p[0],g=p[1],y=Mt((0,a.useState)(!1),2),v=y[0],b=y[1],w=Mt((0,a.useState)(function(){if(i)return i;var e=localStorage.getItem("orbit_ai_key");if(e&&"undefined"!==e)return e;return"AIzaSyBbQ1gLgv6-Wj-jLgPTXzF1MrPYzuRfYMo"}),2),E=w[0],S=w[1];(0,a.useEffect)(function(){i&&S(i)},[i]);var k=(0,a.useRef)(null);(0,a.useEffect)(function(){var e=function(e){var t,n;"/"!==e.key||d||(e.preventDefault(),null===(t=k.current)||void 0===t||t.focus()),"Escape"===e.key&&(null===(n=k.current)||void 0===n||n.blur(),b(!1)),(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&d&&(e.preventDefault(),_())};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}},[d,c]);var _=function(){var e,t=(e=Rt().m(function e(){var t,i,a;return Rt().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=Ut(c)){e.n=1;break}return e.a(2);case 1:if(E){e.n=2;break}return b(!0),e.a(2);case 2:return g(!0),e.p=3,e.n=4,mt.parseInput(t,E);case 4:i=e.v,n(i.title,i.detail),u(""),r(" Magic added: ".concat(i.title)),e.n=6;break;case 5:e.p=5,a=e.v,r(" AI Failed: Check API Key"),(a.message.includes("400")||a.message.includes("403"))&&b(!0);case 6:return e.p=6,g(!1),e.f(6);case 7:return e.a(2)}},e,null,[[3,5,6,7]])}),function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){Lt(a,r,i,o,s,"next",e)}function s(e){Lt(a,r,i,o,s,"throw",e)}o(void 0)})});return function(){return t.apply(this,arguments)}}();return a.createElement(a.Fragment,null,a.createElement("div",{className:"input-container ".concat(m?"loading":"")},a.createElement("form",{className:"add",onSubmit:function(e){e.preventDefault();var i=Ut(c);i&&(t>=l.MAX_ITEMS?r("Space is full. Let's clear some room."):(n(i),u(""),r(t>=l.MAX_VISIBLE?"Moved to library":"Added to your space")))},onClick:function(e){return e.stopPropagation()}},a.createElement("input",{ref:k,type:"text",id:"orbit-input",name:"orbit-input",value:c,onChange:function(e){return u(e.target.value)},onFocus:function(){return f(!0)},onBlur:function(){return f(!1)},placeholder:m?"Processing...":"(What's on your mind?)",spellCheck:!1,maxLength:l.MAX_TITLE_LENGTH,autoComplete:"off",disabled:m}),c&&a.createElement("button",{type:"button",className:"ai-trigger",onClick:_,title:"Use AI (Cmd+Enter)","aria-label":"Process with AI"},a.createElement("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"}))))),v&&a.createElement("div",{className:"modal-overlay",onClick:function(){return b(!1)}},a.createElement("div",{className:"modal",onClick:function(e){return e.stopPropagation()}},a.createElement("h3",null,"Enter Gemini API Key"),a.createElement("p",null,"To use AI features, you need a Google Gemini API key. Get one for free at ",a.createElement("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--accent-teal)",textDecoration:"underline"}},"Gemini AI Studio"),". This will be stored locally in your browser."),a.createElement("input",{type:"password",value:E,onChange:function(e){return S(e.target.value)},placeholder:"AIzaSy...",autoFocus:!0}),a.createElement("div",{className:"modal-actions"},a.createElement("button",{onClick:function(){return b(!1)}},"Cancel"),a.createElement("button",{className:"primary",onClick:function(){E.trim()&&(o?o(E.trim()):localStorage.setItem("orbit_ai_key",E.trim()),b(!1))}},"Save Key")))))}Ot.styleTagTransform=Nt(),Ot.setAttributes=It(),Ot.insert=_t().bind(null,"head"),Ot.domAPI=St(),Ot.insertStyleElement=xt(),wt()(Pt.A,Ot),Pt.A&&Pt.A.locals&&Pt.A.locals;var Vt=function(){return a.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor"},a.createElement("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"}))},jt=function(){return a.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor"},a.createElement("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"}))};function Bt(e){var t=e.isPlaying,n=e.onToggle;return a.createElement("button",{className:"music-toggle ".concat(t?"playing":""),onClick:function(e){e.stopPropagation(),n()},title:t?"Mute ambient music":"Play ambient music"},t?a.createElement(Vt,null):a.createElement(jt,null))}function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||Ht(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e,t){if(e){if("string"==typeof e)return qt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qt(e,t):void 0}}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Gt=["home","work"];function Kt(e){var t=e.currentMode,n=e.onModeChange,r=e.onModeSwitch,i=$t((0,a.useState)(Gt),2),o=i[0],s=i[1],l=$t((0,a.useState)(!1),2),c=l[0],u=l[1],h=$t((0,a.useState)(""),2),f=h[0],p=h[1],m=$t((0,a.useState)(null),2),g=m[0],y=m[1],v=(0,a.useRef)(null),b=(0,a.useRef)(null);(0,a.useEffect)(function(){var e=localStorage.getItem(d);if(e)try{var t=JSON.parse(e);Array.isArray(t)&&t.length>0&&s(t)}catch(e){}},[]),(0,a.useEffect)(function(){c&&v.current&&v.current.focus()},[c]),(0,a.useEffect)(function(){if(g){var e=function(){return y(null)};return setTimeout(function(){return window.addEventListener("click",e)},0),function(){return window.removeEventListener("click",e)}}},[g]);var w=function(e){localStorage.setItem(d,JSON.stringify(e))},E=function(e,t){Gt.includes(e)||(b.current=setTimeout(function(){y(e)},500))},S=function(){b.current&&clearTimeout(b.current)},k=function(){p(""),u(!1)};return a.createElement("div",{className:"mode-selector",style:{position:"fixed",top:"24px",left:"24px",zIndex:100},onClick:function(e){return e.stopPropagation()}},a.createElement("div",{className:"brand",title:"orbit - context-aware space"},a.createElement("div",{className:"brand-icon"}),a.createElement("span",null,"orbit")),a.createElement("div",{className:"mode-pills"},o.map(function(e){return a.createElement("div",{key:e,className:"mode-pill-wrapper"},a.createElement("button",{className:"mode-pill ".concat(e===t?"active":""),onClick:function(i){return function(e,i){i.stopPropagation(),g!==e&&e!==t&&(null==r||r(),n(e))}(e,i)},onMouseDown:function(t){return E(e)},onMouseUp:S,onMouseLeave:S,onTouchStart:function(t){return E(e)},onTouchEnd:S,"aria-pressed":e===t},e),g===e&&a.createElement("button",{className:"mode-delete-btn",onClick:function(i){return function(e,i){i.stopPropagation();var a=o.filter(function(t){return t!==e});s(a),w(a),y(null),e===t&&(null==r||r(),n(a[0]))}(e,i)},"aria-label":"Delete ".concat(e," space")},a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))))}),c?a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t,i=f.trim().toLowerCase();if(i&&!o.includes(i)){var a=[].concat(function(e){if(Array.isArray(e))return qt(e)}(t=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Ht(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[i]);s(a),w(a),null==r||r(),n(i)}p(""),u(!1)},className:"mode-add-form"},a.createElement("input",{ref:v,type:"text",value:f,onChange:function(e){return p(e.target.value)},onBlur:k,onKeyDown:function(e){"Escape"===e.key&&k()},placeholder:"space name",className:"mode-add-input",maxLength:12})):a.createElement("button",{className:"mode-add-btn",onClick:function(e){e.stopPropagation(),u(!0)},"aria-label":"Add a new space"},a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"})))))}var Wt=n(474),Qt={};function Yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Jt(e){var t=e.items,n=e.onClose,r=e.onPin,i=e.onUnpin,o=e.onRemove,s=e.onDone,l=(e.onQuiet,Yt((0,a.useState)(""),2)),c=l[0],u=l[1],h=Yt((0,a.useState)("all"),2),d=h[0],f=h[1],p=t.filter(function(e){var t=e.title.toLowerCase().includes(c.toLowerCase());return"all"===d?t:"kept"===d?t&&e.signals.isPinned:"resting"===d?t&&e.signals.quietUntil&&new Date(e.signals.quietUntil)>new Date:"active"===d?t&&!e.signals.isPinned&&(!e.signals.quietUntil||new Date(e.signals.quietUntil)<=new Date):t}).sort(function(e,t){var n,r;return((null===(n=t.computed)||void 0===n?void 0:n.score)||0)-((null===(r=e.computed)||void 0===r?void 0:r.score)||0)});return a.createElement("div",{className:"vault-overlay",onClick:n},a.createElement("div",{className:"vault-card",onClick:function(e){return e.stopPropagation()}},a.createElement("div",{className:"vault-header"},a.createElement("div",{className:"vault-title-row"},a.createElement("h2",null,"Your Library"),a.createElement("button",{className:"close-btn",onClick:n,"aria-label":"Close library"},a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})))),a.createElement("div",{className:"vault-controls"},a.createElement("div",{className:"search-box"},a.createElement("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("circle",{cx:"11",cy:"11",r:"8"}),a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})),a.createElement("input",{type:"text",placeholder:"Search your library...",value:c,onChange:function(e){return u(e.target.value)}})),a.createElement("div",{className:"filter-pills"},["all","kept","active","resting"].map(function(e){return a.createElement("button",{key:e,className:"filter-pill ".concat(d===e?"active":""),onClick:function(){return f(e)}},e)})))),a.createElement("div",{className:"vault-list"},0===p.length?a.createElement("div",{className:"vault-empty"},c?"No items match your search":"Nothing here yet"):p.map(function(e){var t;return a.createElement("div",{key:e.id,className:"vault-item ".concat(e.signals.isPinned?"pinned":"")},a.createElement("div",{className:"vault-item-info"},a.createElement("div",{className:"vault-item-title"},e.title),a.createElement("div",{className:"vault-item-meta"},a.createElement("span",{className:"relevance"},"Presence: ",Math.round(100*((null===(t=e.computed)||void 0===t?void 0:t.score)||0)),"%"),e.signals.isPinned&&a.createElement("span",{className:"badge kept"},"Kept"),e.signals.quietUntil&&new Date(e.signals.quietUntil)>new Date&&a.createElement("span",{className:"badge resting"},"Resting"))),a.createElement("div",{className:"vault-item-actions"},a.createElement("button",{onClick:function(){return s(e.id)},className:"action-btn done",title:"Mark Done"},a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5"},a.createElement("polyline",{points:"20 6 9 17 4 12"}))),a.createElement("button",{onClick:function(){return e.signals.isPinned?i(e.id):r(e.id)},className:"action-btn pin ".concat(e.signals.isPinned?"active":""),title:e.signals.isPinned?"Stop Keeping":"Keep Close"},a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),a.createElement("circle",{cx:"12",cy:"10",r:"3"}))),a.createElement("button",{onClick:function(){return o(e.id)},className:"action-btn remove",title:"Remove"},a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})))))})),a.createElement("div",{className:"vault-footer"},t.length," total items in your personal space")))}function Zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return en(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Qt.styleTagTransform=Nt(),Qt.setAttributes=It(),Qt.insert=_t().bind(null,"head"),Qt.domAPI=St(),Qt.insertStyleElement=xt(),wt()(Wt.A,Qt),Wt.A&&Wt.A.locals&&Wt.A.locals;var tn=[{title:"Welcome home",description:"Orbit is your gentle space for focus. It helps you keep track of what's important, without the noise.",highlight:"center"},{title:"Clear your mind",description:"Add tasks, ideas, or remindersanything you don't want to forget. Just press / or click the input.",highlight:"input"},{title:"Right place, right time",description:"Your tasks drift closer when they're relevant to where you are and what you're doing.",highlight:"orbit"},{title:"Separate your spaces",description:"Keep work and home distinct. Orbit remembers where everything belongs so you can stay in the zone.",highlight:"modes"},{title:"Control the flow",description:"Click any item to mark it done, snooze it for later, or pin what's critical.",highlight:"actions"},{title:"Find your focus",description:"Turn on ambient sounds to create a calm space for deep work. Your orbit breathes with you.",highlight:"music"}];function nn(e){var t=e.onComplete,n=Zt((0,a.useState)(0),2),r=n[0],i=n[1],o=Zt((0,a.useState)(!0),2),s=o[0],l=o[1],c=Zt((0,a.useState)(!1),2),u=c[0],h=c[1],d=tn[r],p=r===tn.length-1,m=function(){p?y():i(r+1)},g=function(){y()},y=function(){h(!0),localStorage.setItem(f,"complete"),setTimeout(function(){l(!1),null==t||t()},500)},v=function(e){"Enter"===e.key||" "===e.key?m():"Escape"===e.key&&g()};return(0,a.useEffect)(function(){return window.addEventListener("keydown",v),function(){return window.removeEventListener("keydown",v)}},[r]),s?a.createElement("div",{className:"walkthrough-overlay ".concat(u?"exiting":"")},a.createElement("div",{className:"walkthrough-spotlight spotlight-".concat(d.highlight)}),a.createElement("div",{className:"walkthrough-card"},a.createElement("div",{className:"walkthrough-progress"},tn.map(function(e,t){return a.createElement("div",{key:t,className:"walkthrough-dot ".concat(t===r?"active":""," ").concat(t<r?"complete":"")})})),a.createElement("div",{className:"walkthrough-content"},a.createElement("h2",{className:"walkthrough-title"},d.title),a.createElement("p",{className:"walkthrough-description"},d.description)),a.createElement("div",{className:"walkthrough-actions"},a.createElement("button",{className:"walkthrough-skip",onClick:g},"skip"),a.createElement("button",{className:"walkthrough-next",onClick:m},p?"get started":"next")),a.createElement("div",{className:"walkthrough-hint"},"press enter to continue  esc to skip"))):null}const rn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},an={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,c=i>>2,u=(3&i)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;s||(d=64,a||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const s=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==a||null==o||null==s)throw new on;const l=i<<2|a>>4;if(r.push(l),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class on extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sn=function(e){return function(e){const t=rn(e);return an.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ln=function(e){try{return an.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const cn=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process)return;const e="MISSING_ENV_VAR".__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&ln(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},un=e=>cn()?.emulatorHosts?.[e],hn=()=>cn()?.config,dn=e=>cn()?.[`_${e}`];class fn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function pn(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mn(e){return(await fetch(e,{credentials:"include"})).ok}const gn={};let yn=!1;function vn(e,t){if("undefined"==typeof window||"undefined"==typeof document||!pn(window.location.host)||gn[e]===t||gn[e]||yn)return;function n(e){return`__firebase__banner__${e}`}gn[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(gn))gn[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),s=document.getElementById(o)||document.createElement("a"),l=n("preprendIcon"),c=document.getElementById(l)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(s,o);const n=function(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{yn=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(c,l),t.append(c,a,s,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",c.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(c.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function bn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function wn(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function En(){return!function(){const e=cn()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sn(){try{return"object"==typeof indexedDB}catch(e){return!1}}function kn(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}})}class _n extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,_n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tn.prototype.create)}}class Tn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?function(e,t){return e.replace(In,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",o=`${this.serviceName}: ${a} (${r}).`;return new _n(r,o,n)}}const In=/\{\$([^}]+)}/g;function Cn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(xn(n)&&xn(a)){if(!Cn(n,a))return!1}else if(n!==a)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function xn(e){return null!==e&&"object"==typeof e}function An(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Nn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Pn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class On{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Rn),void 0===r.error&&(r.error=Rn),void 0===r.complete&&(r.complete=Rn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rn(){}function Dn(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Ln(e){return e&&e._delegate?e._delegate:e}class Mn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fn="[DEFAULT]";class Un{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new fn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fn})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=Fn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=Fn){return this.instances.has(e)}getOptions(e=Fn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Fn?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}var r;return n||null}normalizeInstanceIdentifier(e=Fn){return this.component?this.component.multipleInstances?e:Fn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class zn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Un(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Vn=[];var jn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(jn||(jn={}));const Bn={debug:jn.DEBUG,verbose:jn.VERBOSE,info:jn.INFO,warn:jn.WARN,error:jn.ERROR,silent:jn.SILENT},$n=jn.INFO,Hn={[jn.DEBUG]:"log",[jn.VERBOSE]:"log",[jn.INFO]:"info",[jn.WARN]:"warn",[jn.ERROR]:"error"},qn=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=Hn[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Gn{constructor(e){this.name=e,this._logLevel=$n,this._logHandler=qn,this._userLogHandler=null,Vn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Bn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jn.DEBUG,...e),this._logHandler(this,jn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jn.VERBOSE,...e),this._logHandler(this,jn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jn.INFO,...e),this._logHandler(this,jn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jn.WARN,...e),this._logHandler(this,jn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jn.ERROR,...e),this._logHandler(this,jn.ERROR,...e)}}let Kn,Wn;const Qn=new WeakMap,Yn=new WeakMap,Xn=new WeakMap,Jn=new WeakMap,Zn=new WeakMap;let er={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Yn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Xn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function tr(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Wn||(Wn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(rr(this),e),nr(Qn.get(this))}:function(...e){return nr(t.apply(rr(this),e))}:function(e,...n){const r=t.call(rr(this),e,...n);return Xn.set(r,e.sort?e.sort():[e]),nr(r)}:(e instanceof IDBTransaction&&function(e){if(Yn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Yn.set(e,t)}(e),n=e,(Kn||(Kn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>n instanceof e)?new Proxy(e,er):e);var t,n}function nr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(nr(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&Qn.set(t,e)}).catch(()=>{}),Zn.set(t,e),t}(e);if(Jn.has(e))return Jn.get(e);const t=tr(e);return t!==e&&(Jn.set(e,t),Zn.set(t,e)),t}const rr=e=>Zn.get(e);function ir(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),s=nr(o);return r&&o.addEventListener("upgradeneeded",e=>{r(nr(o.result),e.oldVersion,e.newVersion,nr(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}const ar=["get","getKey","getAll","getAllKeys","count"],or=["put","add","delete","clear"],sr=new Map;function lr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(sr.get(t))return sr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=or.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ar.includes(n))return;const a=async function(e,...t){const a=this.transaction(e,i?"readwrite":"readonly");let o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return sr.set(t,a),a}var cr;cr=er,er={...cr,get:(e,t,n)=>lr(e,t)||cr.get(e,t,n),has:(e,t)=>!!lr(e,t)||cr.has(e,t)};class ur{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const hr="@firebase/app",dr="0.14.6",fr=new Gn("@firebase/app"),pr="@firebase/app-compat",mr="@firebase/analytics-compat",gr="@firebase/analytics",yr="@firebase/app-check-compat",vr="@firebase/app-check",br="@firebase/auth",wr="@firebase/auth-compat",Er="@firebase/database",Sr="@firebase/data-connect",kr="@firebase/database-compat",_r="@firebase/functions",Tr="@firebase/functions-compat",Ir="@firebase/installations",Cr="@firebase/installations-compat",xr="@firebase/messaging",Ar="@firebase/messaging-compat",Nr="@firebase/performance",Pr="@firebase/performance-compat",Or="@firebase/remote-config",Rr="@firebase/remote-config-compat",Dr="@firebase/storage",Lr="@firebase/storage-compat",Mr="@firebase/firestore",Fr="@firebase/ai",Ur="@firebase/firestore-compat",zr="firebase",Vr="[DEFAULT]",jr={[hr]:"fire-core",[pr]:"fire-core-compat",[gr]:"fire-analytics",[mr]:"fire-analytics-compat",[vr]:"fire-app-check",[yr]:"fire-app-check-compat",[br]:"fire-auth",[wr]:"fire-auth-compat",[Er]:"fire-rtdb",[Sr]:"fire-data-connect",[kr]:"fire-rtdb-compat",[_r]:"fire-fn",[Tr]:"fire-fn-compat",[Ir]:"fire-iid",[Cr]:"fire-iid-compat",[xr]:"fire-fcm",[Ar]:"fire-fcm-compat",[Nr]:"fire-perf",[Pr]:"fire-perf-compat",[Or]:"fire-rc",[Rr]:"fire-rc-compat",[Dr]:"fire-gcs",[Lr]:"fire-gcs-compat",[Mr]:"fire-fst",[Ur]:"fire-fst-compat",[Fr]:"fire-vertex","fire-js":"fire-js",[zr]:"fire-js-all"},Br=new Map,$r=new Map,Hr=new Map;function qr(e,t){try{e.container.addComponent(t)}catch(n){fr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Gr(e){const t=e.name;if(Hr.has(t))return fr.debug(`There were multiple attempts to register component ${t}.`),!1;Hr.set(t,e);for(const t of Br.values())qr(t,e);for(const t of $r.values())qr(t,e);return!0}function Kr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Wr(e){return null!=e&&void 0!==e.settings}const Qr=new Tn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Yr{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}const Xr="12.6.0";function Jr(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r={name:Vr,automaticDataCollectionEnabled:!0,...t},i=r.name;if("string"!=typeof i||!i)throw Qr.create("bad-app-name",{appName:String(i)});if(n||(n=hn()),!n)throw Qr.create("no-options");const a=Br.get(i);if(a){if(Cn(n,a.options)&&Cn(r,a.config))return a;throw Qr.create("duplicate-app",{appName:i})}const o=new zn(i);for(const e of Hr.values())o.addComponent(e);const s=new Yr(n,r,o);return Br.set(i,s),s}function Zr(e=Vr){const t=Br.get(e);if(!t&&e===Vr&&hn())return Jr();if(!t)throw Qr.create("no-app",{appName:e});return t}function ei(e,t,n){let r=jr[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=[`Unable to register library "${r}" with version "${t}":`];return i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void fr.warn(e.join(" "))}Gr(new Mn(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const ti="firebase-heartbeat-store";let ni=null;function ri(){return ni||(ni=ir("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ti)}catch(e){console.warn(e)}}}).catch(e=>{throw Qr.create("idb-open",{originalErrorMessage:e.message})})),ni}async function ii(e,t){try{const n=(await ri()).transaction(ti,"readwrite"),r=n.objectStore(ti);await r.put(t,ai(e)),await n.done}catch(e){if(e instanceof _n)fr.warn(e.message);else{const t=Qr.create("idb-set",{originalErrorMessage:e?.message});fr.warn(t.message)}}}function ai(e){return`${e.name}!${e.options.appId}`}class oi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new li(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=si();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fr.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=si(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ci(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ci(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=sn(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return fr.warn(e),""}}}function si(){return(new Date).toISOString().substring(0,10)}class li{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Sn()&&kn().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ri()).transaction(ti),n=await t.objectStore(ti).get(ai(e));return await t.done,n}catch(e){if(e instanceof _n)fr.warn(e.message);else{const t=Qr.create("idb-get",{originalErrorMessage:e?.message});fr.warn(t.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return ii(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return ii(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function ci(e){return sn(JSON.stringify({version:2,heartbeats:e})).length}Gr(new Mn("platform-logger",e=>new ur(e),"PRIVATE")),Gr(new Mn("heartbeat",e=>new oi(e),"PRIVATE")),ei(hr,dr,""),ei(hr,dr,"esm2020"),ei("fire-js",""),ei("firebase","12.7.0","app");var ui,hi,di="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},fi={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"==typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a,o=e.g[3];a=t+(o^n&(i^o))+r[0]+3614090360&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[1]+3905402710&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[2]+606105819&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[3]+3250441966&4294967295,a=t+(o^(n=i+(a<<22&4294967295|a>>>10))&(i^o))+r[4]+4118548399&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[5]+1200080426&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[6]+2821735955&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[7]+4249261313&4294967295,a=t+(o^(n=i+(a<<22&4294967295|a>>>10))&(i^o))+r[8]+1770035416&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[9]+2336552879&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[10]+4294925233&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[11]+2304563134&4294967295,a=t+(o^(n=i+(a<<22&4294967295|a>>>10))&(i^o))+r[12]+1804603682&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[13]+4254626195&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[14]+2792965006&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[15]+1236535329&4294967295,a=t+(i^o&((n=i+(a<<22&4294967295|a>>>10))^i))+r[1]+4129170786&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[6]+3225465664&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[11]+643717713&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[0]+3921069994&4294967295,a=t+(i^o&((n=i+(a<<20&4294967295|a>>>12))^i))+r[5]+3593408605&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[10]+38016083&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[15]+3634488961&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[4]+3889429448&4294967295,a=t+(i^o&((n=i+(a<<20&4294967295|a>>>12))^i))+r[9]+568446438&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[14]+3275163606&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[3]+4107603335&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[8]+1163531501&4294967295,a=t+(i^o&((n=i+(a<<20&4294967295|a>>>12))^i))+r[13]+2850285829&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[2]+4243563512&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[7]+1735328473&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[12]+2368359562&4294967295,a=t+((n=i+(a<<20&4294967295|a>>>12))^i^o)+r[5]+4294588738&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[8]+2272392833&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[11]+1839030562&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[14]+4259657740&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^o)+r[1]+2763975236&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[4]+1272893353&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[7]+4139469664&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[10]+3200236656&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^o)+r[13]+681279174&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[0]+3936430074&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[3]+3572445317&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[6]+76029189&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^o)+r[9]+3654602809&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[12]+3873151461&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[15]+530742520&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[2]+3299628645&4294967295,a=t+(i^((n=i+(a<<23&4294967295|a>>>9))|~o))+r[0]+4096336452&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[7]+1126891415&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[14]+2878612391&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[5]+4237533241&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~o))+r[12]+1700485571&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[3]+2399980690&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[10]+4293915773&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[1]+2240044497&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~o))+r[8]+1873313359&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[15]+4264355552&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[6]+2734768916&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[13]+1309151649&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~o))+r[4]+4149444226&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[11]+3174756917&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[2]+718787259&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let a=this.h,o=0;for(;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function a(e){return-128<=e&&e<128?function(e){var t=i;return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=function(e){return new r([0|e],e<0?-1:0)}(e)}(e):new r([0|e],e<0?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(e<0)return d(o(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var s=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=v(n,1),a=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=a.add(r);c.l(e)<=0&&(i=i.add(n),a=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(a=o(n)).j(t);h(c)||c.l(e)>0;)c=(a=o(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new m(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const i=e.g.length-n,a=[];for(let r=0;r<i;r++)a[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);const t=o(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let a=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;a.length<6;)a="0"+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),a=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=a>>>16,t&=65535,a&=65535,n[r]=a<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(this.l(c)<0&&e.l(c)<0)return o(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,a=65535&this.i(i),o=e.i(t)>>>16,s=65535&e.i(t);n[2*i+2*t]+=a*s,p(n,2*i+2*t),n[2*i+2*t+1]+=r*s,p(n,2*i+2*t+1),n[2*i+2*t+1]+=a*o,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*o,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,hi=fi.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=o(Math.pow(n,8));let i=s;for(let e=0;e<t.length;e+=8){var a=Math.min(8,t.length-e);const s=parseInt(t.substring(e,e+a),n);a<8?(a=o(Math.pow(n,a)),i=i.j(a).add(o(s))):(i=i.j(r),i=i.add(o(s)))}return i},ui=fi.Integer=r}).apply(void 0!==di?di:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var pi,mi,gi,yi,vi,bi,wi,Ei,Si="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},ki={};(function(){var e,t=Object.defineProperty,n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Si&&Si];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},a=this||self;function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=s).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var h="undefined"!=typeof AsyncContext&&"function"==typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function d(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let t=1;t<arguments.length;t++){const r=arguments[t];var n=typeof r;if("array"==(n="object"!=n?n:r?Array.isArray(r)?"array":n:"null")||"object"==n&&"number"==typeof r.length){n=e.length||0;const t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}function p(e){a.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},E=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(S)}};function S(){for(var e;e=m();){try{e.h.call(e.g)}catch(e){p(e)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function k(){this.u=this.u,this.C=this.C}function _(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},_.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(e){}return e}();function I(e){return/^[\s\xa0]*$/.test(e)}function C(e,t){_.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(C,_),C.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var x="closure_listenable_"+(1e6*Math.random()|0),A=0;function N(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++A,this.da=this.fa=!1}function P(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function O(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function R(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function M(e){this.src=e,this.g={},this.h=0}function F(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=a>=0)&&Array.prototype.splice.call(i,a,1),r&&(P(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function U(e,t,n,r){for(let i=0;i<e.length;++i){const a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}M.prototype.add=function(e,t,n,r,i){const a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);const o=U(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):((t=new N(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var z="closure_lm_"+(1e6*Math.random()|0),V={};function j(e,t,n,r,i){if(r&&r.once)return $(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)j(e,t[a],n,r,i);return null}return n=Y(n),e&&e[x]?e.J(t,n,o(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");const s=o(i)?!!i.capture:!!i;let l=W(e);if(l||(e[z]=l=new M(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(r=function(){const e=K;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)T||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(G(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)$(e,t[a],n,r,i);return null}return n=Y(n),e&&e[x]?e.K(t,n,o(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function H(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)H(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=Y(n),e&&e[x]?(e=e.i,(a=String(t).toString())in e.g&&(n=U(t=e.g[a],n,r,i))>-1&&(P(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[a],e.h--))):e&&(e=W(e))&&(t=e.g[t.toString()],e=-1,t&&(e=U(t,n,r,i)),(n=e>-1?t[e]:null)&&q(n))}function q(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[x])F(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(G(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=W(t))?(F(n,e),0==n.h&&(n.src=null,t[z]=null)):P(e)}}}function G(e){return e in V?V[e]:V[e]="on"+e}function K(e,t){if(e.da)e=!0;else{t=new C(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&q(e),e=n.call(r,t)}return e}function W(e){return(e=e[z])instanceof M?e:null}var Q="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y(e){return"function"==typeof e?e:(e[Q]||(e[Q]=function(t){return e.handleEvent(t)}),e[Q])}function X(){k.call(this),this.i=new M(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new _(t,e);else if(t instanceof _)t.target=t.target||e;else{var i=t;L(t=new _(r,e),i)}let a,o;if(i=!0,n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=Z(a,r,!0,t)&&i;if(a=t.g=e,i=Z(a,r,!0,t)&&i,i=Z(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=Z(a,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){const o=t[a];if(o&&!o.da&&o.capture==n){const t=o.listener,n=o.ha||o.src;o.fa&&F(e.i,o),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!=typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:a.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(X,k),X.prototype[x]=!0,X.prototype.removeEventListener=function(e,t,n,r){H(this,e,t,n,r)},X.prototype.N=function(){if(X.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)P(n[e]);delete e.g[t],e.h--}}this.G=null},X.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},X.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends k{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){k.call(this),this.h=e,this.g={}}u(ne,k);var re=[];function ie(e){O(e.g,function(e,t){this.g.hasOwnProperty(t)&&q(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae=a.JSON.stringify,oe=a.JSON.parse,se=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){_.call(this,"d")}function de(){_.call(this,"c")}u(he,_),u(de,_);var fe={},pe=null;function me(){return pe=pe||new X}function ge(e){_.call(this,fe.Ia,e)}function ye(e){const t=me();J(t,new ge(t))}function ve(e,t){_.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();J(t,new ve(t,e))}function we(e,t){_.call(this,fe.Ja,e),this.size=t}function Ee(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function Se(){this.g=!0}function ke(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const a=JSON.parse(t);if(a)for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return ae(a)}catch(e){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,_),fe.STAT_EVENT="statevent",u(ve,_),fe.Ja="timingevent",u(we,_),Se.prototype.ua=function(){this.g=!1},Se.prototype.info=function(){};var _e,Te={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ie={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ce(){}function xe(e){return encodeURIComponent(String(e))}function Ae(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ne(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}u(Ce,le),Ce.prototype.g=function(){return new XMLHttpRequest},_e=new Ce;var Oe={},Re={};function De(e,t,n){e.M=1,e.A=at(et(t)),e.u=n,e.R=!0,Le(e,null)}function Le(e,t){e.F=Date.now(),Ue(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Pe,e.g=on(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let e=0;e<i.length;e++){const a=j(n,i[e],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.J?R(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o="",s=a.split("&");for(let e=0;e<s.length;e++){var l=s[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");o=t.length>=2&&"type"==t[1]?o+(e+"=")+l+"&":o+(e+"=redacted&")}}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Me(e){return!!e.g&&"GET"==e.v&&2!=e.M&&e.j.Aa}function Fe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Re:(n=Number(t.substring(n,r)),isNaN(n)?Oe:(r+=1)+n>t.length?Re:(t=t.slice(r,r+n),e.C=r+n,t))}function Ue(e){e.T=Date.now()+e.H,ze(e,e.H)}function ze(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Ee(l(e.aa,e),t)}function Ve(e){e.D&&(a.clearTimeout(e.D),e.D=null)}function je(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ve(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function $e(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||We(n.h,e)))if(!e.L&&We(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),$t(n)}Yt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Ee(l(n.Va,n),6e3));Ke(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!I(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"==typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Qe(a,a.h),a.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var o=e;if((r=n).na=an(r,r.L?r.ba:null,r.W),o.L){Ye(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(Ve(s),Ue(s)),r.g=o}else Qt(r);n.i.length>0&&qt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ye()}catch(e){}}Ne.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ut(e)?t.j():this.Y(e)},Ne.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ut(this.g),c=this.g.ya();if(this.g.ca(),!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||4!=l||7==c||ye(),Ve(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Me(e))return e.g.la();const t=zt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Ut(e.g);if(!e.h.i){if("undefined"==typeof TextDecoder)return Be(e),je(e),"";e.h.i=new a.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(r)){var o=r;break t}}o=null}if(!(e=o)){this.o=!1,this.m=3,be(12),Be(this),je(this);break e}ke(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$e(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Fe(this,n),t==Re){4==l&&(this.m=4,be(14),e=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}if(t==Oe){this.m=4,be(15),ke(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}ke(this.i,this.l,t,null),$e(this,t)}if(Me(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var s=this.j;s.g==this&&s.aa&&!s.P&&(s.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xt(s),s.P=!0,be(11))}}else ke(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),je(this)}else ke(this.i,this.l,n,null),$e(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Ue(this)))}else(function(e){const t={};e=(e.g&&Ut(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(I(e[r]))continue;var n=Ae(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),je(this)}}}catch(e){}},Ne.prototype.cancel=function(){this.K=!0,Be(this)},Ne.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),be(17)),Be(this),this.m=2,je(this)):ze(this,this.T-e)};var He=class{constructor(e,t){this.g=e,this.map=t}};function qe(e){this.l=e||10,e=a.PerformanceNavigationTiming?(e=a.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ge(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ke(e){return e.h?1:e.g?e.g.size:0}function We(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qe(e,t){e.g?e.g.add(t):e.h=t}function Ye(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Xe(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return d(e.i)}qe.prototype.cancel=function(){if(this.i=Xe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=ot(t[2]||""),this.g=ot(t[3]||"",!0),nt(this,t[4]),this.h=ot(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=ot(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?ot(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=st(t,dt)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function at(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ot(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function st(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(st(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(st(t,ct,!0),"@"),e.push(xe(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(st(n,"/"==n.charAt(0)?ht:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",st(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,ht=/[#\?]/g,dt=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return mt(e),t=Et(e,t),e.g.has(t)}function vt(e,t){mt(e);let n=[];if("string"==typeof t)yt(e,t)&&(n=n.concat(e.g.get(Et(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(Et(e,t),d(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(e){}}function kt(){this.g=new se}function _t(e){this.i=e.Sb||null,this.h=e.ab||!1}function Tt(e,t){X.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function It(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Ct(e){e.readyState=4,e.l=null,e.j=null,e.B=null,xt(e)}function xt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function At(e){let t="";return O(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Nt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=At(n),"string"==typeof e?null!=n&&xe(n):it(e,t,n))}function Pt(e){X.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=Et(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,yt(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=vt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=xe(n);n=vt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+xe(n[t])),e.push(r)}}return this.i=e.join("&")},u(_t,le),_t.prototype.g=function(){return new Tt(this.i,this.h)},u(Tt,X),(e=Tt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,xt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||a).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ct(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xt(this)),this.g&&(this.readyState=3,xt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(void 0!==a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;It(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ct(this):xt(this),3==this.readyState&&It(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Ct(this))},e.Na=function(e){this.g&&(this.response=e,Ct(this))},e.ga=function(){this.g&&Ct(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Pt,X);var Ot=/^https?$/i,Rt=["POST","PUT"];function Dt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Lt(e),Ft(e)}function Lt(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Mt(e){if(e.h&&void 0!==i)if(e.v&&4==Ut(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==Ut(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&a.self&&a.self.location&&(t=a.self.location.protocol.slice(0,-1)),r=!Ot.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var o=Ut(e)>2?e.g.statusText:""}catch(e){o=""}e.l=o+" ["+e.ca()+"]",Lt(e)}}finally{Ft(e)}}}function Ft(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const n=e.g;e.g=null,t||J(e,"ready");try{n.onreadystatechange=null}catch(e){}}}function Ut(e){return e.g?e.g.readyState:0}function zt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Vt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function jt(e){this.za=0,this.i=[],this.j=new Se,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vt("baseRetryDelayMs",5e3,e),this.Za=Vt("retryDelaySeedMs",1e4,e),this.Ta=Vt("forwardChannelMaxRetries",2,e),this.va=Vt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new qe(e&&e.concurrentRequestLimit),this.Ba=new kt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(Ht(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Kt(e,n),(t=new Ne(e,e.j,t)).M=2,t.A=at(et(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.A.toString(),"")}catch(e){}!n&&a.Image&&((new Image).src=t.A,n=!0),n||(t.g=on(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Ue(t)}rn(e)}function $t(e){e.g&&(Xt(e),e.g.cancel(),e.g=null)}function Ht(e){$t(e),e.v&&(a.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"==typeof e.m&&a.clearTimeout(e.m),e.m=null)}function qt(e){if(!Ge(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||E(),b||(v(),b=!0),w.add(t,e),e.D=0}}function Gt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Kt(e,r),e.u&&e.o&&Nt(r,e.u,e.o),n=new Ne(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Wt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Qe(e.h,n),De(n,r,t)}function Kt(e,t){e.H&&O(e.H,function(e,n){it(t,n,e)}),e.l&&O({},function(e,n){it(t,n,e)})}function Wt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var a=i[c].g;const n=i[c].map;if((a-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{a="req"+a+"_"||0;try{var s=n instanceof Map?n:Object.entries(n);for(const[t,n]of s){let r=n;o(n)&&(r=ae(n)),e.push(a+t+"="+encodeURIComponent(r))}}catch(t){throw e.push(a+"type="+encodeURIComponent("_badmap")),t}}catch(e){r&&r(n)}}if(l){s=e.join("&");break e}}s=void 0}return e=e.i.splice(0,n),t.G=e,s}function Qt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||E(),b||(v(),b=!0),w.add(t,e),e.A=0}}function Yt(e){return!(e.g||e.v||e.A>=3||(e.Y++,e.v=Ee(l(e.Da,e),tn(e,e.A)),e.A++,0))}function Xt(e){null!=e.B&&(a.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Ne(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Kt(e,t),e.u&&e.o&&Nt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=at(et(t)),n.u=null,n.R=!0,Le(n,e)}function Zt(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),Xt(e),e.g=null;var r=2}else{if(!We(e.h,t))return;n=t.G,Ye(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new we(r,n)),qt(e)}else Qt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ke(e.h)>=e.h.j-(e.m?1:0)||(e.m?(e.i=t.G.concat(e.i),0):1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta)||(e.m=Ee(l(e.Ea,e,t),tn(e,e.D)),e.D++,0)))}(e,t)||2==r&&Yt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||tt(r,"https"),at(r),t?function(e,t){const n=new Se;if(a.Image){const r=new Image;r.onload=c(St,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(St,n,"TestLoadImage: error",!1,t,r),r.onabort=c(St,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(St,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Se;const n=new AbortController,r=setTimeout(()=>{n.abort(),St(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?St(0,0,!0,t):St(0,0,!1,t)}).catch(()=>{clearTimeout(r),St(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),Ht(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=Xe(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.oa()}}function an(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Kt(e,r),r}function on(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Pt(new _t({ab:n})):new Pt(e.ma)).Fa(e.L),t}function sn(){}function ln(){}function cn(e,t){X.call(this),this.g=new jt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!I(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!I(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new dn(this)}function un(e){he.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hn(){de.call(this),this.status=1}function dn(e){this.g=e}(e=Pt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_e.g(),this.g.onreadystatechange=h(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){return void Dt(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=a.FormData&&e instanceof a.FormData,!(Array.prototype.indexOf.call(Rt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(e){Dt(this,e)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Ft(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ft(this,!0)),Pt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Mt(this):this.Xa())},e.Xa=function(){Mt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ut(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),oe(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=jt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=an(this,null,this.W),qt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ne(this,this.j,e);let a=this.o;if(this.U&&(a?(a=R(a),L(a,this.U)):a=this.U),null!==this.u||this.R||(i.J=a,a=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Wt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Kt(this,n),a&&(this.R?t="headers="+xe(At(a))+"&"+t:this.u&&Nt(n,this.u,a)),Qe(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,De(i,n,null)):De(i,n,t),this.I=2}}else 3==this.I&&(e?Gt(this,e):0==this.i.length||Ge(this.h)||Gt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Ee(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),$t(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,$t(this),Yt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=sn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,X),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ae(e),e=n);t.i.push(new He(t.Ya++,e)),3==t.I&&qt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,cn.Z.N.call(this)},u(un,he),u(hn,de),u(dn,sn),dn.prototype.ra=function(){J(this.g,"a")},dn.prototype.qa=function(e){J(this.g,new un(e))},dn.prototype.pa=function(e){J(this.g,new hn)},dn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Ei=ki.createWebChannelTransport=function(){return new ln},wi=ki.getStatEventTarget=function(){return me()},bi=ki.Event=fe,vi=ki.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,yi=ki.ErrorCode=Te,Ie.COMPLETE="complete",gi=ki.EventType=Ie,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",X.prototype.listen=X.prototype.J,mi=ki.WebChannel=ce,ki.FetchXmlHttpFactory=_t,Pt.prototype.listenOnce=Pt.prototype.K,Pt.prototype.getLastError=Pt.prototype.Ha,Pt.prototype.getLastErrorCode=Pt.prototype.ya,Pt.prototype.getStatus=Pt.prototype.ca,Pt.prototype.getResponseJson=Pt.prototype.La,Pt.prototype.getResponseText=Pt.prototype.la,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Fa,pi=ki.XhrIo=Pt}).apply(void 0!==Si?Si:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const _i="@firebase/firestore",Ti="4.9.3";class Ii{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ii.UNAUTHENTICATED=new Ii(null),Ii.GOOGLE_CREDENTIALS=new Ii("google-credentials-uid"),Ii.FIRST_PARTY=new Ii("first-party-uid"),Ii.MOCK_USER=new Ii("mock-user");let Ci="12.7.0";const xi=new Gn("@firebase/firestore");function Ai(){return xi.logLevel}function Ni(e,...t){if(xi.logLevel<=jn.DEBUG){const n=t.map(Ri);xi.debug(`Firestore (${Ci}): ${e}`,...n)}}function Pi(e,...t){if(xi.logLevel<=jn.ERROR){const n=t.map(Ri);xi.error(`Firestore (${Ci}): ${e}`,...n)}}function Oi(e,...t){if(xi.logLevel<=jn.WARN){const n=t.map(Ri);xi.warn(`Firestore (${Ci}): ${e}`,...n)}}function Ri(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Di(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Li(e,r,n)}function Li(e,t,n){let r=`FIRESTORE (${Ci}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Pi(r),new Error(r)}function Mi(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Li(t,i,r)}function Fi(e,t){return e}const Ui={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zi extends _n{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ji{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ii.UNAUTHENTICATED))}shutdown(){}}class $i{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Hi{constructor(e){this.t=e,this.currentUser=Ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Mi(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vi,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Ni("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Ni("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Ni("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Mi("string"==typeof t.accessToken,31837,{l:t}),new ji(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mi(null===e||"string"==typeof e,2055,{h:e}),new Ii(e)}}class qi{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Ii.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Gi{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new qi(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ki{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wi{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Mi(void 0===this.o,3512);const n=e=>{null!=e.error&&Ni("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,Ni("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Ni("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Ni("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ki(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Mi("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Ki(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Qi(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class Yi{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Qi(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Xi(e,t){return e<t?-1:e>t?1:0}function Ji(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return ta(n)===ta(i)?Xi(n,i):ta(n)?1:-1}return Xi(e.length,t.length)}const Zi=55296,ea=57343;function ta(e){const t=e.charCodeAt(0);return t>=Zi&&t<=ea}function na(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const ra="__name__";class ia{constructor(e,t,n){void 0===t?t=0:t>e.length&&Di(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Di(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ia.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ia?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ia.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Xi(e.length,t.length)}static compareSegments(e,t){const n=ia.isNumericId(e),r=ia.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ia.extractNumericId(e).compare(ia.extractNumericId(t)):Ji(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ui.fromString(e.substring(4,e.length-2))}}class aa extends ia{construct(e,t,n){return new aa(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new zi(Ui.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new aa(t)}static emptyPath(){return new aa([])}}const oa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sa extends ia{construct(e,t,n){return new sa(e,t,n)}static isValidIdentifier(e){return oa.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sa.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ra}static keyField(){return new sa([ra])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new zi(Ui.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new zi(Ui.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new zi(Ui.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new zi(Ui.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sa(t)}static emptyPath(){return new sa([])}}class la{constructor(e){this.path=e}static fromPath(e){return new la(aa.fromString(e))}static fromName(e){return new la(aa.fromString(e).popFirst(5))}static empty(){return new la(aa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===aa.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return aa.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new la(new aa(e.slice()))}}function ca(e){if(!la.isDocumentKey(e))throw new zi(Ui.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ua(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ha(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Di(12329,{type:typeof e})}function da(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new zi(Ui.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ha(e);throw new zi(Ui.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function fa(e,t){const n={typeString:e};return t&&(n.value=t),n}function pa(e,t){if(!ua(e))throw new zi(Ui.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==a&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new zi(Ui.INVALID_ARGUMENT,n);return!0}const ma=-62135596800,ga=1e6;class ya{static now(){return ya.fromMillis(Date.now())}static fromDate(e){return ya.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ga);return new ya(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new zi(Ui.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new zi(Ui.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ma)throw new zi(Ui.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new zi(Ui.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ga}_compareTo(e){return this.seconds===e.seconds?Xi(this.nanoseconds,e.nanoseconds):Xi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ya._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pa(e,ya._jsonSchema))return new ya(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ma;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ya._jsonSchemaVersion="firestore/timestamp/1.0",ya._jsonSchema={type:fa("string",ya._jsonSchemaVersion),seconds:fa("number"),nanoseconds:fa("number")};class va{static fromTimestamp(e){return new va(e)}static min(){return new va(new ya(0,0))}static max(){return new va(new ya(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ba(e){return new wa(e.readTime,e.key,-1)}class wa{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new wa(va.min(),la.empty(),-1)}static max(){return new wa(va.max(),la.empty(),-1)}}function Ea(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=la.comparator(e.documentKey,t.documentKey),0!==n?n:Xi(e.largestBatchId,t.largestBatchId))}class Sa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function ka(e){if(e.code!==Ui.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;Ni("LocalStore","Unexpectedly lost primary lease")}class _a{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Di(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _a((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _a?t:_a.resolve(t)}catch(e){return _a.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_a.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_a.reject(t)}static resolve(e){return new _a((t,n)=>{t(e)})}static reject(e){return new _a((t,n)=>{n(e)})}static waitFor(e){return new _a((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=_a.resolve(!1);for(const n of e)t=t.next(e=>e?_a.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new _a((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{a[l]=e,++o,o===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new _a((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Ta(e){return"IndexedDbTransactionError"===e.name}class Ia{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ia.ce=-1;function Ca(e){return null==e}function xa(e){return 0===e&&1/e==-1/0}function Aa(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function Na(e){return e+""}const Pa="owner",Oa="mutationQueues",Ra="mutations",Da="documentMutations",La="remoteDocumentGlobal",Ma="targets",Fa="targetDocuments",Ua="targetGlobal",za="collectionParents",Va="clientMetadata",ja="bundles",Ba="namedQueries";function $a(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ha(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qa(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ga{constructor(e,t){this.comparator=e,this.root=t||Wa.EMPTY}insert(e,t){return new Ga(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wa.BLACK,null,null))}remove(e){return new Ga(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ka(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ka(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ka(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ka(this.root,e,this.comparator,!0)}}class Ka{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wa{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Wa.RED,this.left=null!=r?r:Wa.EMPTY,this.right=null!=i?i:Wa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Wa(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Wa.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Di(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Di(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Di(27949);return e+(this.isRed()?0:1)}}Wa.EMPTY=null,Wa.RED=!0,Wa.BLACK=!1,Wa.EMPTY=new class{constructor(){this.size=0}get key(){throw Di(57766)}get value(){throw Di(16141)}get color(){throw Di(16727)}get left(){throw Di(29726)}get right(){throw Di(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Wa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qa{constructor(e){this.comparator=e,this.data=new Ga(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ya(this.data.getIterator())}getIteratorFrom(e){return new Ya(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Qa))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qa(this.comparator);return t.data=e,t}}class Ya{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xa{constructor(e){this.fields=e,e.sort(sa.comparator)}static empty(){return new Xa([])}unionWith(e){let t=new Qa(sa.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new Xa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return na(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Ja extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Za{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ja("Invalid base64 string: "+e):e}}(e);return new Za(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Za(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Za.EMPTY_BYTE_STRING=new Za("");const eo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function to(e){if(Mi(!!e,39018),"string"==typeof e){let t=0;const n=eo.exec(e);if(Mi(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:no(e.seconds),nanos:no(e.nanos)}}function no(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ro(e){return"string"==typeof e?Za.fromBase64String(e):Za.fromUint8Array(e)}const io="server_timestamp",ao="__type__",oo="__previous_value__",so="__local_write_time__";function lo(e){const t=(e?.mapValue?.fields||{})[ao]?.stringValue;return t===io}function co(e){const t=e.mapValue.fields[oo];return lo(t)?co(t):t}function uo(e){const t=to(e.mapValue.fields[so].timestampValue);return new ya(t.seconds,t.nanos)}class ho{constructor(e,t,n,r,i,a,o,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const fo="(default)";class po{constructor(e,t){this.projectId=e,this.database=t||fo}static empty(){return new po("","")}get isDefaultDatabase(){return this.database===fo}isEqual(e){return e instanceof po&&e.projectId===this.projectId&&e.database===this.database}}const mo="__type__",go="__max__",yo={fields:{__type__:{stringValue:go}}},vo="__vector__",bo="value";function wo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?lo(e)?4:Mo(e)?9007199254740991:Do(e)?10:11:Di(28295,{value:e})}function Eo(e,t){if(e===t)return!0;const n=wo(e);if(n!==wo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return uo(e).isEqual(uo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=to(e.timestampValue),r=to(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ro(e.bytesValue).isEqual(ro(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return no(e.geoPointValue.latitude)===no(t.geoPointValue.latitude)&&no(e.geoPointValue.longitude)===no(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return no(e.integerValue)===no(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=no(e.doubleValue),r=no(t.doubleValue);return n===r?xa(n)===xa(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return na(e.arrayValue.values||[],t.arrayValue.values||[],Eo);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($a(n)!==$a(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Eo(n[e],r[e])))return!1;return!0}(e,t);default:return Di(52216,{left:e})}}function So(e,t){return void 0!==(e.values||[]).find(e=>Eo(e,t))}function ko(e,t){if(e===t)return 0;const n=wo(e),r=wo(t);if(n!==r)return Xi(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xi(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=no(e.integerValue||e.doubleValue),r=no(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _o(e.timestampValue,t.timestampValue);case 4:return _o(uo(e),uo(t));case 5:return Ji(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ro(e),r=ro(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=Xi(n[e],r[e]);if(0!==t)return t}return Xi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Xi(no(e.latitude),no(t.latitude));return 0!==n?n:Xi(no(e.longitude),no(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return To(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=t.fields||{},i=n[bo]?.arrayValue,a=r[bo]?.arrayValue,o=Xi(i?.values?.length||0,a?.values?.length||0);return 0!==o?o:To(i,a)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===yo&&t===yo)return 0;if(e===yo)return 1;if(t===yo)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){const t=Ji(r[e],a[e]);if(0!==t)return t;const o=ko(n[r[e]],i[a[e]]);if(0!==o)return o}return Xi(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Di(23264,{he:n})}}function _o(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Xi(e,t);const n=to(e),r=to(t),i=Xi(n.seconds,r.seconds);return 0!==i?i:Xi(n.nanos,r.nanos)}function To(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=ko(n[e],r[e]);if(t)return t}return Xi(n.length,r.length)}function Io(e){return Co(e)}function Co(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=to(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ro(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return la.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Co(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Co(e.fields[i])}`;return n+"}"}(e.mapValue):Di(61005,{value:e})}function xo(e){switch(wo(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=co(e);return t?16+xo(t):16;case 5:return 2*e.stringValue.length;case 6:return ro(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+xo(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ha(e.fields,(e,n)=>{t+=e.length+xo(n)}),t}(e.mapValue);default:throw Di(13486,{value:e})}}function Ao(e){return!!e&&"integerValue"in e}function No(e){return!!e&&"arrayValue"in e}function Po(e){return!!e&&"nullValue"in e}function Oo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ro(e){return!!e&&"mapValue"in e}function Do(e){const t=(e?.mapValue?.fields||{})[mo]?.stringValue;return t===vo}function Lo(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Ha(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Lo(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Lo(e.arrayValue.values[n]);return t}return{...e}}function Mo(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===go}class Fo{constructor(e){this.value=e}static empty(){return new Fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ro(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(t)}setAll(e){let t=sa.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Lo(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ro(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Eo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ro(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ha(t,(t,n)=>e[t]=n);for(const t of n)delete e[t]}clone(){return new Fo(Lo(this.value))}}function Uo(e){const t=[];return Ha(e.fields,(e,n)=>{const r=new sa([e]);if(Ro(n)){const e=Uo(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Xa(t)}class zo{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new zo(e,0,va.min(),va.min(),va.min(),Fo.empty(),0)}static newFoundDocument(e,t,n,r){return new zo(e,1,t,va.min(),n,r,0)}static newNoDocument(e,t){return new zo(e,2,t,va.min(),va.min(),Fo.empty(),0)}static newUnknownDocument(e,t){return new zo(e,3,t,va.min(),va.min(),Fo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(va.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=va.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vo{constructor(e,t){this.position=e,this.inclusive=t}}function jo(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?la.comparator(la.fromName(o.referenceValue),n.key):ko(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Bo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Eo(e.position[n],t.position[n]))return!1;return!0}class $o{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ho(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class qo{}class Go extends qo{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Zo(e,t,n):"array-contains"===t?new rs(e,n):"in"===t?new is(e,n):"not-in"===t?new as(e,n):"array-contains-any"===t?new os(e,n):new Go(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new es(e,n):new ts(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(ko(t,this.value)):null!==t&&wo(this.value)===wo(t)&&this.matchesComparison(ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Di(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ko extends qo{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ko(e,t)}matches(e){return Wo(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Wo(e){return"and"===e.op}function Qo(e){return function(e){for(const t of e.filters)if(t instanceof Ko)return!1;return!0}(e)&&Wo(e)}function Yo(e){if(e instanceof Go)return e.field.canonicalString()+e.op.toString()+Io(e.value);if(Qo(e))return e.filters.map(e=>Yo(e)).join(",");{const t=e.filters.map(e=>Yo(e)).join(",");return`${e.op}(${t})`}}function Xo(e,t){return e instanceof Go?function(e,t){return t instanceof Go&&e.op===t.op&&e.field.isEqual(t.field)&&Eo(e.value,t.value)}(e,t):e instanceof Ko?function(e,t){return t instanceof Ko&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Xo(n,t.filters[r]),!0)}(e,t):void Di(19439)}function Jo(e){return e instanceof Go?function(e){return`${e.field.canonicalString()} ${e.op} ${Io(e.value)}`}(e):e instanceof Ko?function(e){return e.op.toString()+" {"+e.getFilters().map(Jo).join(" ,")+"}"}(e):"Filter"}class Zo extends Go{constructor(e,t,n){super(e,t,n),this.key=la.fromName(n.referenceValue)}matches(e){const t=la.comparator(e.key,this.key);return this.matchesComparison(t)}}class es extends Go{constructor(e,t){super(e,"in",t),this.keys=ns(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ts extends Go{constructor(e,t){super(e,"not-in",t),this.keys=ns(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ns(e,t){return(t.arrayValue?.values||[]).map(e=>la.fromName(e.referenceValue))}class rs extends Go{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return No(t)&&So(t.arrayValue,this.value)}}class is extends Go{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&So(this.value.arrayValue,t)}}class as extends Go{constructor(e,t){super(e,"not-in",t)}matches(e){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!So(this.value.arrayValue,t)}}class os extends Go{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!No(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>So(this.value.arrayValue,e))}}class ss{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}}function ls(e,t=null,n=[],r=[],i=null,a=null,o=null){return new ss(e,t,n,r,i,a,o)}function cs(e){const t=Fi(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Yo(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Ca(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Io(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Io(e)).join(",")),t.Te=e}return t.Te}function us(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ho(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Xo(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Bo(e.startAt,t.startAt)&&Bo(e.endAt,t.endAt)}function hs(e){return la.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ds{constructor(e,t=null,n=[],r=[],i=null,a="F",o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fs(e){return new ds(e)}function ps(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ms(e){const t=Fi(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Qa(sa.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new $o(r,n))}),e.has(sa.keyField().canonicalString())||t.Ie.push(new $o(sa.keyField(),n))}return t.Ie}function gs(e){const t=Fi(e);return t.Ee||(t.Ee=function(e,t){if("F"===e.limitType)return ls(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new $o(e.field,t)});const n=e.endAt?new Vo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Vo(e.startAt.position,e.startAt.inclusive):null;return ls(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,ms(e))),t.Ee}function ys(e,t,n){return new ds(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vs(e,t){return us(gs(e),gs(t))&&e.limitType===t.limitType}function bs(e){return`${cs(gs(e))}|lt:${e.limitType}`}function ws(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Jo(e)).join(", ")}]`),Ca(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Io(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Io(e)).join(",")),`Target(${t})`}(gs(e))}; limitType=${e.limitType})`}function Es(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):la.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ms(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=jo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ms(e),t)||e.endAt&&!function(e,t,n){const r=jo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ms(e),t))}(e,t)}function Ss(e){return(t,n)=>{let r=!1;for(const i of ms(e)){const e=ks(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ks(e,t,n){const r=e.field.isKeyField()?la.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ko(r,i):Di(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Di(19790,{direction:e.dir})}}class _s{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(t,n)=>{for(const[t,r]of n)e(t,r)})}isEmpty(){return qa(this.inner)}size(){return this.innerSize}}const Ts=new Ga(la.comparator);function Is(){return Ts}const Cs=new Ga(la.comparator);function xs(...e){let t=Cs;for(const n of e)t=t.insert(n.key,n);return t}function As(e){let t=Cs;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Ns(){return Os()}function Ps(){return Os()}function Os(){return new _s(e=>e.toString(),(e,t)=>e.isEqual(t))}const Rs=new Ga(la.comparator),Ds=new Qa(la.comparator);function Ls(...e){let t=Ds;for(const n of e)t=t.add(n);return t}const Ms=new Qa(Xi);function Fs(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xa(t)?"-0":t}}function Us(e){return{integerValue:""+e}}function zs(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!xa(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?Us(t):Fs(e,t)}class Vs{constructor(){this._=void 0}}function js(e,t,n){return e instanceof Hs?function(e,t){const n={fields:{[ao]:{stringValue:io},[so]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&lo(t)&&(t=co(t)),t&&(n.fields[oo]=t),{mapValue:n}}(n,t):e instanceof qs?Gs(e,t):e instanceof Ks?Ws(e,t):function(e,t){const n=$s(e,t),r=Ys(n)+Ys(e.Ae);return Ao(n)&&Ao(e.Ae)?Us(r):Fs(e.serializer,r)}(e,t)}function Bs(e,t,n){return e instanceof qs?Gs(e,t):e instanceof Ks?Ws(e,t):n}function $s(e,t){return e instanceof Qs?function(e){return Ao(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Hs extends Vs{}class qs extends Vs{constructor(e){super(),this.elements=e}}function Gs(e,t){const n=Xs(t);for(const t of e.elements)n.some(e=>Eo(e,t))||n.push(t);return{arrayValue:{values:n}}}class Ks extends Vs{constructor(e){super(),this.elements=e}}function Ws(e,t){let n=Xs(t);for(const t of e.elements)n=n.filter(e=>!Eo(e,t));return{arrayValue:{values:n}}}class Qs extends Vs{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ys(e){return no(e.integerValue||e.doubleValue)}function Xs(e){return No(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Js{constructor(e,t){this.version=e,this.transformResults=t}}class Zs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zs}static exists(e){return new Zs(void 0,e)}static updateTime(e){return new Zs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function el(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class tl{}function nl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new dl(e.key,Zs.none()):new sl(e.key,e.data,Zs.none());{const n=e.data,r=Fo.empty();let i=new Qa(sa.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ll(e.key,r,new Xa(i.toArray()),Zs.none())}}function rl(e,t,n){e instanceof sl?function(e,t,n){const r=e.value.clone(),i=ul(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ll?function(e,t,n){if(!el(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ul(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(cl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function il(e,t,n,r){return e instanceof sl?function(e,t,n,r){if(!el(e.precondition,t))return n;const i=e.value.clone(),a=hl(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ll?function(e,t,n,r){if(!el(e.precondition,t))return n;const i=hl(e.fieldTransforms,r,t),a=t.data;return a.setAll(cl(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return el(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function al(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=$s(r.transform,e||null);null!=i&&(null===n&&(n=Fo.empty()),n.set(r.field,i))}return n||null}function ol(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&na(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qs&&t instanceof qs||e instanceof Ks&&t instanceof Ks?na(e.elements,t.elements,Eo):e instanceof Qs&&t instanceof Qs?Eo(e.Ae,t.Ae):e instanceof Hs&&t instanceof Hs}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class sl extends tl{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ll extends tl{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function cl(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function ul(e,t,n){const r=new Map;Mi(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Bs(o,s,n[i]))}return r}function hl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,js(e,a,t))}return r}class dl extends tl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fl extends tl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&rl(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=il(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=il(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ps();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=nl(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(va.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ls())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(e,t)=>ol(e,t))&&na(this.baseMutations,e.baseMutations,(e,t)=>ol(e,t))}}class ml{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Mi(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Rs;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new ml(e,t,n,r)}}class gl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yl{constructor(e,t){this.count=e,this.unchangedNames=t}}var vl,bl;function wl(e){if(void 0===e)return Pi("GRPC error has no .code"),Ui.UNKNOWN;switch(e){case vl.OK:return Ui.OK;case vl.CANCELLED:return Ui.CANCELLED;case vl.UNKNOWN:return Ui.UNKNOWN;case vl.DEADLINE_EXCEEDED:return Ui.DEADLINE_EXCEEDED;case vl.RESOURCE_EXHAUSTED:return Ui.RESOURCE_EXHAUSTED;case vl.INTERNAL:return Ui.INTERNAL;case vl.UNAVAILABLE:return Ui.UNAVAILABLE;case vl.UNAUTHENTICATED:return Ui.UNAUTHENTICATED;case vl.INVALID_ARGUMENT:return Ui.INVALID_ARGUMENT;case vl.NOT_FOUND:return Ui.NOT_FOUND;case vl.ALREADY_EXISTS:return Ui.ALREADY_EXISTS;case vl.PERMISSION_DENIED:return Ui.PERMISSION_DENIED;case vl.FAILED_PRECONDITION:return Ui.FAILED_PRECONDITION;case vl.ABORTED:return Ui.ABORTED;case vl.OUT_OF_RANGE:return Ui.OUT_OF_RANGE;case vl.UNIMPLEMENTED:return Ui.UNIMPLEMENTED;case vl.DATA_LOSS:return Ui.DATA_LOSS;default:return Di(39323,{code:e})}}(bl=vl||(vl={}))[bl.OK=0]="OK",bl[bl.CANCELLED=1]="CANCELLED",bl[bl.UNKNOWN=2]="UNKNOWN",bl[bl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bl[bl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bl[bl.NOT_FOUND=5]="NOT_FOUND",bl[bl.ALREADY_EXISTS=6]="ALREADY_EXISTS",bl[bl.PERMISSION_DENIED=7]="PERMISSION_DENIED",bl[bl.UNAUTHENTICATED=16]="UNAUTHENTICATED",bl[bl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bl[bl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bl[bl.ABORTED=10]="ABORTED",bl[bl.OUT_OF_RANGE=11]="OUT_OF_RANGE",bl[bl.UNIMPLEMENTED=12]="UNIMPLEMENTED",bl[bl.INTERNAL=13]="INTERNAL",bl[bl.UNAVAILABLE=14]="UNAVAILABLE",bl[bl.DATA_LOSS=15]="DATA_LOSS";const El=new ui([4294967295,4294967295],0);function Sl(e){const t=(new TextEncoder).encode(e),n=new hi;return n.update(t),new Uint8Array(n.digest())}function kl(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ui([n,r],0),new ui([i,a],0)]}class _l{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Tl(`Invalid padding: ${t}`);if(n<0)throw new Tl(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Tl(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Tl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ui.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(ui.fromNumber(n)));return 1===r.compare(El)&&(r=new ui([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Sl(e),[n,r]=kl(t);for(let e=0;e<this.hashCount;e++){const t=this.ye(n,r,e);if(!this.we(t))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new _l(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.ge)return;const t=Sl(e),[n,r]=kl(t);for(let e=0;e<this.hashCount;e++){const t=this.ye(n,r,e);this.Se(t)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Il{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Il(va.min(),r,new Ga(Xi),Is(),Ls())}}class Cl{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Cl(n,t,Ls(),Ls(),Ls())}}class xl{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Al{constructor(e,t){this.targetId=e,this.Ce=t}}class Nl{constructor(e,t,n=Za.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Pl{constructor(){this.ve=0,this.Fe=Dl(),this.Me=Za.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ls(),t=Ls(),n=Ls();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Di(38017,{changeType:i})}}),new Cl(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Dl()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Mi(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ol{constructor(e){this.Ge=e,this.ze=new Map,this.je=Is(),this.Je=Rl(),this.He=Rl(),this.Ye=new Ga(Xi)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Di(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(hs(i))if(0===n){const e=new la(i.path);this.et(t,e,zo.newNoDocument(e,va.min()))}else Mi(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,o;try{a=ro(n).toUint8Array()}catch(e){if(e instanceof Ja)return Oi("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new _l(a,r,i)}catch(e){return Oi(e instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.ge?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&hs(i.target)){const t=new la(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,zo.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Ls();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Il(e,t,this.Ye,this.je,n);return this.je=Is(),this.Je=Rl(),this.He=Rl(),this.Ye=new Ga(Xi),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Pl,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Qa(Xi),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Qa(Xi),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Ni("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Pl),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Rl(){return new Ga(la.comparator)}function Dl(){return new Ga(la.comparator)}const Ll={asc:"ASCENDING",desc:"DESCENDING"},Ml={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fl={and:"AND",or:"OR"};class Ul{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zl(e,t){return e.useProto3Json||Ca(t)?t:{value:t}}function Vl(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Bl(e,t){return Vl(e,t.toTimestamp())}function $l(e){return Mi(!!e,49232),va.fromTimestamp(function(e){const t=to(e);return new ya(t.seconds,t.nanos)}(e))}function Hl(e,t){return ql(e,t).canonicalString()}function ql(e,t){const n=function(e){return new aa(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Gl(e){const t=aa.fromString(e);return Mi(uc(t),10190,{key:t.toString()}),t}function Kl(e,t){return Hl(e.databaseId,t.path)}function Wl(e,t){const n=Gl(t);if(n.get(1)!==e.databaseId.projectId)throw new zi(Ui.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new zi(Ui.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new la(Xl(n))}function Ql(e,t){return Hl(e.databaseId,t)}function Yl(e){return new aa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Xl(e){return Mi(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Jl(e,t,n){return{name:Kl(e,t),fields:n.value.mapValue.fields}}function Zl(e,t){return{documents:[Ql(e,t.path)]}}function ec(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ql(e,i);const a=function(e){if(0!==e.length)return lc(Ko.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:oc(e.field),direction:rc(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=zl(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function tc(e){let t=function(e){const t=Gl(e);return 4===t.length?aa.emptyPath():Xl(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Mi(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=nc(e);return t instanceof Ko&&Qo(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new $o(sc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Ca(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Vo(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Vo(n,t)}(n.endAt)),function(e,t,n,r,i,a,o,s){return new ds(e,t,n,r,i,a,o,s)}(t,i,o,a,s,"F",l,c)}function nc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=sc(e.unaryFilter.field);return Go.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=sc(e.unaryFilter.field);return Go.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=sc(e.unaryFilter.field);return Go.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=sc(e.unaryFilter.field);return Go.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Di(61313);default:return Di(60726)}}(e):void 0!==e.fieldFilter?function(e){return Go.create(sc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Di(58110);default:return Di(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ko.create(e.compositeFilter.filters.map(e=>nc(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Di(1026)}}(e.compositeFilter.op))}(e):Di(30097,{filter:e})}function rc(e){return Ll[e]}function ic(e){return Ml[e]}function ac(e){return Fl[e]}function oc(e){return{fieldPath:e.canonicalString()}}function sc(e){return sa.fromServerFormat(e.fieldPath)}function lc(e){return e instanceof Go?function(e){if("=="===e.op){if(Oo(e.value))return{unaryFilter:{field:oc(e.field),op:"IS_NAN"}};if(Po(e.value))return{unaryFilter:{field:oc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Oo(e.value))return{unaryFilter:{field:oc(e.field),op:"IS_NOT_NAN"}};if(Po(e.value))return{unaryFilter:{field:oc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oc(e.field),op:ic(e.op),value:e.value}}}(e):e instanceof Ko?function(e){const t=e.getFilters().map(e=>lc(e));return 1===t.length?t[0]:{compositeFilter:{op:ac(e.op),filters:t}}}(e):Di(54877,{filter:e})}function cc(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function uc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class hc{constructor(e,t,n,r,i=va.min(),a=va.min(),o=Za.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new hc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dc{constructor(e){this.yt=e}}function fc(e){const t=tc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ys(t,t.limit,"L"):t}class pc{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(no(e.integerValue));else if("doubleValue"in e){const n=no(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),xa(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=to(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ro(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Mo(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Do(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Di(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const e of Object.keys(n))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){const n=e.fields||{};this.Ft(t,53);const r=bo,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(no(i)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const e of n)this.Ct(e,t)}Lt(e,t){this.Ft(t,37),la.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}pc.Kt=new pc;class mc{constructor(){this.Cn=new gc}addToCollectionParentIndex(e,t){return this.Cn.add(t),_a.resolve()}getCollectionParents(e,t){return _a.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return _a.resolve()}deleteFieldIndex(e,t){return _a.resolve()}deleteAllFieldIndexes(e){return _a.resolve()}createTargetIndexes(e,t){return _a.resolve()}getDocumentsMatchingTarget(e,t){return _a.resolve(null)}getIndexType(e,t){return _a.resolve(0)}getFieldIndexes(e,t){return _a.resolve([])}getNextCollectionGroupToUpdate(e){return _a.resolve(null)}getMinOffset(e,t){return _a.resolve(wa.min())}getMinOffsetFromCollectionGroup(e,t){return _a.resolve(wa.min())}updateCollectionGroup(e,t,n){return _a.resolve()}updateIndexEntries(e,t){return _a.resolve()}}class gc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Qa(aa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Qa(aa.comparator)).toArray()}}new Uint8Array(0);const yc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vc=41943040;class bc{static withCacheSize(e){return new bc(e,bc.DEFAULT_COLLECTION_PERCENTILE,bc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}bc.DEFAULT_COLLECTION_PERCENTILE=10,bc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bc.DEFAULT=new bc(vc,bc.DEFAULT_COLLECTION_PERCENTILE,bc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bc.DISABLED=new bc(-1,0,0);class wc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wc(0)}static cr(){return new wc(-1)}}const Ec="LruGarbageCollector";function Sc([e,t],[n,r]){const i=Xi(e,n);return 0===i?Xi(t,r):i}class kc{constructor(e){this.Ir=e,this.buffer=new Qa(Sc),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Sc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _c{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Ni(Ec,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ta(e)?Ni(Ec,"Ignoring IndexedDB error during garbage collection: ",e):await ka(e)}await this.Vr(3e5)})}}class Tc{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return _a.resolve(Ia.ce);const n=new kc(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ni("LruGarbageCollector","Garbage collection skipped; disabled"),_a.resolve(yc)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ni("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yc):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,o,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Ni("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Ai()<=jn.DEBUG&&Ni("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-c}ms\n\tDetermined least recently used ${r} in `+(o-a)+"ms\n"+`\tRemoved ${i} targets in `+(s-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-s)+"ms\n"+`Total Duration: ${l-c}ms`),_a.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class Ic{constructor(){this.changes=new _s(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?_a.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class xc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&il(n.mutation,e,Xa.empty(),ya.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Ls()).next(()=>t))}getLocalViewOfDocuments(e,t,n=Ls()){const r=Ns();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=xs();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Ns();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Ls()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Is();const a=Os(),o=Os();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ll)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),il(o.mutation,t,o.mutation.getFieldMask(),ya.now())):a.set(t.key,Xa.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>o.set(e,new Cc(t,a.get(e)??null))),o))}recalculateAndSaveOverlays(e,t){const n=Os();let r=new Ga((e,t)=>e-t),i=Ls();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||Xa.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||Ls()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=Ps();l.forEach(e=>{if(!i.has(e)){const r=nl(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return _a.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return la.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):_a.resolve(Ns());let o=-1,s=i;return a.next(t=>_a.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?_a.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,Ls())).next(e=>({batchId:o,changes:As(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new la(t)).next(e=>{let t=xs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=xs();return this.indexManager.getCollectionParents(e,i).next(o=>_a.forEach(o,o=>{const s=function(e,t){return new ds(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,zo.newInvalidDocument(r)))});let n=xs();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&il(a.mutation,r,Xa.empty(),ya.now()),Es(t,r)&&(n=n.insert(e,r))}),n})}}class Ac{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return _a.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:$l(e.createTime)}}(t)),_a.resolve()}getNamedQuery(e,t){return _a.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:fc(e.bundledQuery),readTime:$l(e.readTime)}}(t)),_a.resolve()}}class Nc{constructor(){this.overlays=new Ga(la.comparator),this.qr=new Map}getOverlay(e,t){return _a.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ns();return _a.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),_a.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),_a.resolve()}getOverlaysForCollection(e,t,n){const r=Ns(),i=t.length+1,a=new la(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return _a.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ga((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ns(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Ns(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return _a.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new gl(t,n));let i=this.qr.get(t);void 0===i&&(i=Ls(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Pc{constructor(){this.sessionToken=Za.EMPTY_BYTE_STRING}getSessionToken(e){return _a.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,_a.resolve()}}class Oc{constructor(){this.Qr=new Qa(Rc.$r),this.Ur=new Qa(Rc.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Rc(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Rc(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new la(new aa([])),n=new Rc(t,e),r=new Rc(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new la(new aa([])),n=new Rc(t,e),r=new Rc(t,e+1);let i=Ls();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Rc(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Rc{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return la.comparator(e.key,t.key)||Xi(e.Yr,t.Yr)}static Kr(e,t){return Xi(e.Yr,t.Yr)||la.comparator(e.key,t.key)}}class Dc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Qa(Rc.$r)}checkEmpty(e){return _a.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new pl(i,t,n,r);this.mutationQueue.push(a);for(const t of r)this.Zr=this.Zr.add(new Rc(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return _a.resolve(a)}lookupMutationBatch(e,t){return _a.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return _a.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return _a.resolve(0===this.mutationQueue.length?-1:this.tr-1)}getAllMutationBatches(e){return _a.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Rc(t,0),r=new Rc(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),_a.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Qa(Xi);return t.forEach(e=>{const t=new Rc(e,0),r=new Rc(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),_a.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;la.isDocumentKey(i)||(i=i.child(""));const a=new Rc(new la(i),0);let o=new Qa(Xi);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},a),_a.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Mi(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return _a.forEach(t.mutations,r=>{const i=new Rc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Rc(t,0),r=this.Zr.firstAfterOrEqual(n);return _a.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,_a.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Lc{constructor(e){this.ri=e,this.docs=new Ga(la.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return _a.resolve(n?n.document.mutableCopy():zo.newInvalidDocument(t))}getEntries(e,t){let n=Is();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():zo.newInvalidDocument(e))}),_a.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Is();const a=t.path,o=new la(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Ea(ba(o),n)<=0||(r.has(o.key)||Es(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return _a.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Di(9500)}ii(e,t){return _a.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Mc(this)}getSize(e){return _a.resolve(this.size)}}class Mc extends Ic{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),_a.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Fc{constructor(e){this.persistence=e,this.si=new _s(e=>cs(e),us),this.lastRemoteSnapshotVersion=va.min(),this.highestTargetId=0,this.oi=0,this._i=new Oc,this.targetCount=0,this.ai=wc.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),_a.resolve()}getLastRemoteSnapshotVersion(e){return _a.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _a.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),_a.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),_a.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new wc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,_a.resolve()}updateTargetData(e,t){return this.Pr(t),_a.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,_a.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),_a.waitFor(i).next(()=>r)}getTargetCount(e){return _a.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return _a.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),_a.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),_a.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),_a.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return _a.resolve(n)}containsKey(e,t){return _a.resolve(this._i.containsKey(t))}}class Uc{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ia(0),this.li=!1,this.li=!0,this.hi=new Pc,this.referenceDelegate=e(this),this.Pi=new Fc(this),this.indexManager=new mc,this.remoteDocumentCache=function(e){return new Lc(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new dc(t),this.Ii=new Ac(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Nc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Dc(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Ni("MemoryPersistence","Starting transaction:",e);const r=new zc(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return _a.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class zc extends Sa{constructor(e){super(),this.currentSequenceNumber=e}}class Vc{constructor(e){this.persistence=e,this.Ri=new Oc,this.Vi=null}static mi(e){return new Vc(e)}get fi(){if(this.Vi)return this.Vi;throw Di(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),_a.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),_a.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),_a.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _a.forEach(this.fi,n=>{const r=la.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,va.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return _a.or([()=>_a.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class jc{constructor(e,t){this.persistence=e,this.pi=new _s(e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Na(t)),t=Aa(e.get(n),t);return Na(t)}(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=function(e,t){return new Tc(e,t)}(this,t)}static mi(e,t){return new jc(e,t)}Ei(){}di(e){return _a.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return _a.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?_a.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,va.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),_a.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),_a.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),_a.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),_a.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xo(e.data.value)),t}br(e,t,n){return _a.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return _a.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Bc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Ls(),r=Ls();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Bc(e,t.fromCache,n,r)}}class $c{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Hc{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=En()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(bn())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new $c;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Ai()<=jn.DEBUG&&Ni("QueryEngine","SDK will not create cache indexes for query:",ws(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_a.resolve()):(Ai()<=jn.DEBUG&&Ni("QueryEngine","Query:",ws(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Ai()<=jn.DEBUG&&Ni("QueryEngine","The SDK decides to create cache indexes for query:",ws(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gs(t))):_a.resolve())}ys(e,t){if(ps(t))return _a.resolve(null);let n=gs(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ys(t,null,"F"),n=gs(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Ls(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,ys(t,null,"F")):this.vs(e,a,t,n)}))})))}ws(e,t,n,r){return ps(t)||r.isEqual(va.min())?_a.resolve(null):this.ps.getDocuments(e,n).next(i=>{const a=this.Ds(t,i);return this.Cs(t,a,n,r)?_a.resolve(null):(Ai()<=jn.DEBUG&&Ni("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ws(t)),this.vs(e,a,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=va.fromTimestamp(1e9===r?new ya(n+1,0):new ya(n,r));return new wa(i,la.empty(),t)}(r,-1)).next(e=>e))})}Ds(e,t){let n=new Qa(Ss(e));return t.forEach((t,r)=>{Es(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Ai()<=jn.DEBUG&&Ni("QueryEngine","Using full collection scan to execute query:",ws(t)),this.ps.getDocumentsMatchingQuery(e,t,wa.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const qc="LocalStore";class Gc{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Ga(Xi),this.xs=new _s(e=>cs(e),us),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xc(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}async function Kc(e,t){const n=Fi(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let o=Ls();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:a}))})})}function Wc(e){const t=Fi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Qc(e,t){const n=Fi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}async function Yc(e,t,n){const r=Fi(e),i=r.Ms.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Ta(e))throw e;Ni(qc,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function Xc(e,t,n){const r=Fi(e);let i=va.min(),a=Ls();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Fi(e),i=r.xs.get(n);return void 0!==i?_a.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,gs(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:va.min(),n?a:Ls())).next(e=>(function(e,t,n){let r=e.Os.get(t)||va.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Qs:a})))}class Jc{constructor(){this.activeTargetIds=Ms}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zc{constructor(){this.Mo=new Jc,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Jc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eu{Oo(e){}shutdown(){}}const tu="ConnectivityMonitor";class nu{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ni(tu,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ni(tu,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ru=null;function iu(){return null===ru?ru=268435456+Math.round(2147483648*Math.random()):ru++,"0x"+ru.toString(16)}const au="RestConnection",ou={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class su{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===fo?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){const a=iu(),o=this.zo(e,t.toUriEncodedString());Ni(au,`Sending RPC '${e}' ${a}:`,o,n);const s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);const{host:l}=new URL(o),c=pn(l);return this.Jo(e,o,s,n,c).then(t=>(Ni(au,`Received RPC '${e}' ${a}: `,t),t),t=>{throw Oi(au,`RPC '${e}' ${a} failed with error: `,t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ci,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=ou[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class lu{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const cu="WebChannelConnection";class uu extends su{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=iu();return new Promise((i,o)=>{const s=new pi;s.setWithCredentials(!0),s.listenOnce(gi.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case yi.NO_ERROR:const t=s.getResponseJson();Ni(cu,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case yi.TIMEOUT:Ni(cu,`RPC '${e}' ${a} timed out`),o(new zi(Ui.DEADLINE_EXCEEDED,"Request time out"));break;case yi.HTTP_ERROR:const n=s.getStatus();if(Ni(cu,`RPC '${e}' ${a} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ui).indexOf(t)>=0?t:Ui.UNKNOWN}(t.status);o(new zi(e,t.message))}else o(new zi(Ui.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new zi(Ui.UNAVAILABLE,"Connection failed."));break;default:Di(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{Ni(cu,`RPC '${e}' ${a} completed.`)}});const l=JSON.stringify(r);Ni(cu,`RPC '${e}' ${a} sending request:`,r),s.send(t,"POST",l,n,15)})}T_(e,t,n){const r=iu(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Ei(),o=wi(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Ni(cu,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=a.createWebChannel(c,s);this.I_(u);let h=!1,d=!1;const f=new lu({Yo:t=>{d?Ni(cu,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(Ni(cu,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),Ni(cu,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,mi.EventType.OPEN,()=>{d||(Ni(cu,`RPC '${e}' stream ${r} transport opened.`),f.o_())}),p(u,mi.EventType.CLOSE,()=>{d||(d=!0,Ni(cu,`RPC '${e}' stream ${r} transport closed`),f.a_(),this.E_(u))}),p(u,mi.EventType.ERROR,t=>{d||(d=!0,Oi(cu,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.a_(new zi(Ui.UNAVAILABLE,"The operation could not be completed")))}),p(u,mi.EventType.MESSAGE,t=>{if(!d){const n=t.data[0];Mi(!!n,16349);const i=n,a=i?.error||i[0]?.error;if(a){Ni(cu,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=vl[e];if(void 0!==t)return wl(t)}(t),i=a.message;void 0===n&&(n=Ui.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.a_(new zi(n,i)),u.close()}else Ni(cu,`RPC '${e}' stream ${r} received:`,n),f.u_(n)}}),p(o,bi.STAT_EVENT,t=>{t.stat===vi.PROXY?Ni(cu,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===vi.NOPROXY&&Ni(cu,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function hu(){return"undefined"!=typeof document?document:null}function du(e){return new Ul(e,!0)}class fu{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Ni("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const pu="PersistentStream";class mu{constructor(e,t,n,r,i,a,o,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fu(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Ui.RESOURCE_EXHAUSTED?(Pi(t.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ui.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.D_===t&&this.G_(e,n)},t=>{e(()=>{const e=new zi(Ui.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ni(pu,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Ni(pu,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gu extends mu{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Di(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Mi(void 0===t||"string"==typeof t,58123),Za.fromBase64String(t||"")):(Mi(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Za.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?Ui.UNKNOWN:wl(e.code);return new zi(t,e.message||"")}(o);n=new Nl(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wl(e,r.document.name),a=$l(r.document.updateTime),o=r.document.createTime?$l(r.document.createTime):va.min(),s=new Fo({mapValue:{fields:r.document.fields}}),l=zo.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new xl(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Wl(e,r.document),a=r.readTime?$l(r.readTime):va.min(),o=zo.newNoDocument(i,a),s=r.removedTargetIds||[];n=new xl([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Wl(e,r.document),a=r.removedTargetIds||[];n=new xl([],a,i,null)}else{if(!("filter"in t))return Di(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new yl(r,i),o=e.targetId;n=new Al(o,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return va.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?va.min():t.readTime?$l(t.readTime):va.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Yl(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=hs(r)?{documents:Zl(e,r)}:{query:ec(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=jl(e,t.resumeToken);const r=zl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(va.min())>0){n.readTime=Vl(e,t.snapshotVersion.toTimestamp());const r=zl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Di(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Yl(this.serializer),t.removeTarget=e,this.q_(t)}}class yu extends mu{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Mi(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mi(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Mi(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Mi(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?$l(e.updateTime):$l(t);return n.isEqual(va.min())&&(n=$l(t)),new Js(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=$l(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Yl(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>function(e,t){let n;if(t instanceof sl)n={update:Jl(e,t.key,t.value)};else if(t instanceof dl)n={delete:Kl(e,t.key)};else if(t instanceof ll)n={update:Jl(e,t.key,t.data),updateMask:cc(t.fieldMask)};else{if(!(t instanceof fl))return Di(16599,{Vt:t.type});n={verify:Kl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Hs)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qs)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ks)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qs)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Di(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Bl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Di(27497)}(e,t.precondition)),n}(this.serializer,e))};this.q_(t)}}class vu{}class bu extends vu{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new zi(Ui.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,ql(t,n),r,i,a)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ui.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new zi(Ui.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,ql(t,n),r,a,o,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ui.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new zi(Ui.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class wu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(t),this.aa=!1):Ni("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Eu="RemoteStore";class Su{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Pu(this)&&(Ni(Eu,"Restarting streams for network reachability change."),await async function(e){const t=Fi(e);t.Ea.add(4),await _u(t),t.Ra.set("Unknown"),t.Ea.delete(4),await ku(t)}(this))})}),this.Ra=new wu(n,r)}}async function ku(e){if(Pu(e))for(const t of e.da)await t(!0)}async function _u(e){for(const t of e.da)await t(!1)}function Tu(e,t){const n=Fi(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Nu(n)?Au(n):Qu(n).O_()&&Cu(n,t))}function Iu(e,t){const n=Fi(e),r=Qu(n);n.Ia.delete(t),r.O_()&&xu(n,t),0===n.Ia.size&&(r.O_()?r.L_():Pu(n)&&n.Ra.set("Unknown"))}function Cu(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(va.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Qu(e).Y_(t)}function xu(e,t){e.Va.Ue(t),Qu(e).Z_(t)}function Au(e){e.Va=new Ol({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Qu(e).start(),e.Ra.ua()}function Nu(e){return Pu(e)&&!Qu(e).x_()&&e.Ia.size>0}function Pu(e){return 0===Fi(e).Ea.size}function Ou(e){e.Va=void 0}async function Ru(e){e.Ra.set("Online")}async function Du(e){e.Ia.forEach((t,n)=>{Cu(e,t)})}async function Lu(e,t){Ou(e),Nu(e)?(e.Ra.ha(t),Au(e)):e.Ra.set("Unknown")}async function Mu(e,t,n){if(e.Ra.set("Online"),t instanceof Nl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Ni(Eu,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Fu(e,n)}else if(t instanceof xl?e.Va.Ze(t):t instanceof Al?e.Va.st(t):e.Va.tt(t),!n.isEqual(va.min()))try{const t=await Wc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Za.EMPTY_BYTE_STRING,r.snapshotVersion)),xu(e,t);const i=new hc(r.target,t,n,r.sequenceNumber);Cu(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ni(Eu,"Failed to raise snapshot:",t),await Fu(e,t)}}async function Fu(e,t,n){if(!Ta(t))throw t;e.Ea.add(1),await _u(e),e.Ra.set("Offline"),n||(n=()=>Wc(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ni(Eu,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await ku(e)})}function Uu(e,t){return t().catch(n=>Fu(e,n,t))}async function zu(e){const t=Fi(e),n=Yu(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:-1;for(;Vu(t);)try{const e=await Qc(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,ju(t,e)}catch(e){await Fu(t,e)}Bu(t)&&$u(t)}function Vu(e){return Pu(e)&&e.Ta.length<10}function ju(e,t){e.Ta.push(t);const n=Yu(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Bu(e){return Pu(e)&&!Yu(e).x_()&&e.Ta.length>0}function $u(e){Yu(e).start()}async function Hu(e){Yu(e).ra()}async function qu(e){const t=Yu(e);for(const n of e.Ta)t.ea(n.mutations)}async function Gu(e,t,n){const r=e.Ta.shift(),i=ml.from(r,t,n);await Uu(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await zu(e)}async function Ku(e,t){t&&Yu(e).X_&&await async function(e,t){if(function(e){return function(e){switch(e){case Ui.OK:return Di(64938);case Ui.CANCELLED:case Ui.UNKNOWN:case Ui.DEADLINE_EXCEEDED:case Ui.RESOURCE_EXHAUSTED:case Ui.INTERNAL:case Ui.UNAVAILABLE:case Ui.UNAUTHENTICATED:return!1;case Ui.INVALID_ARGUMENT:case Ui.NOT_FOUND:case Ui.ALREADY_EXISTS:case Ui.PERMISSION_DENIED:case Ui.FAILED_PRECONDITION:case Ui.ABORTED:case Ui.OUT_OF_RANGE:case Ui.UNIMPLEMENTED:case Ui.DATA_LOSS:return!0;default:return Di(15467,{code:e})}}(e)&&e!==Ui.ABORTED}(t.code)){const n=e.Ta.shift();Yu(e).B_(),await Uu(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await zu(e)}}(e,t),Bu(e)&&$u(e)}async function Wu(e,t){const n=Fi(e);n.asyncQueue.verifyOperationInProgress(),Ni(Eu,"RemoteStore received new credentials");const r=Pu(n);n.Ea.add(3),await _u(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await ku(n)}function Qu(e){return e.ma||(e.ma=function(e,t,n){const r=Fi(e);return r.sa(),new gu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Ru.bind(null,e),t_:Du.bind(null,e),r_:Lu.bind(null,e),H_:Mu.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Nu(e)?Au(e):e.Ra.set("Unknown")):(await e.ma.stop(),Ou(e))})),e.ma}function Yu(e){return e.fa||(e.fa=function(e,t,n){const r=Fi(e);return r.sa(),new yu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Hu.bind(null,e),r_:Ku.bind(null,e),ta:qu.bind(null,e),na:Gu.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await zu(e)):(await e.fa.stop(),e.Ta.length>0&&(Ni(Eu,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class Xu{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new Xu(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zi(Ui.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ju(e,t){if(Pi("AsyncQueue",`${t}: ${e}`),Ta(e))return new zi(Ui.UNAVAILABLE,`${t}: ${e}`);throw e}class Zu{static emptySet(e){return new Zu(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||la.comparator(t.key,n.key):(e,t)=>la.comparator(e.key,t.key),this.keyedMap=xs(),this.sortedSet=new Ga(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Zu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class eh{constructor(){this.ga=new Ga(la.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Di(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class th{constructor(e,t,n,r,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new th(e,t,Zu.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class nh{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class rh{constructor(){this.queries=ih(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Fi(e),r=n.queries;n.queries=ih(),r.forEach((e,n)=>{for(const e of n.Sa)e.onError(t)})}(this,new zi(Ui.ABORTED,"Firestore shutting down"))}}function ih(){return new _s(e=>bs(e),vs)}function ah(e,t){const n=Fi(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.Sa)t.Fa(e)&&(r=!0);i.wa=e}}r&&sh(n)}function oh(e,t,n){const r=Fi(e),i=r.queries.get(t);if(i)for(const e of i.Sa)e.onError(n);r.queries.delete(t)}function sh(e){e.Ca.forEach(e=>{e.next()})}var lh,ch;(ch=lh||(lh={})).Ma="default",ch.Cache="cache";class uh{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new th(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lh.Cache}}class hh{constructor(e){this.key=e}}class dh{constructor(e){this.key=e}}class fh{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ls(),this.mutatedKeys=Ls(),this.eu=Ss(e),this.tu=new Zu(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new eh,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Es(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.eu(u,s)>0||l&&this.eu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(a=a.add(u),i=d?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Di(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=r??!1;const o=t&&!r?this._u():[],s=0===this.Xa.size&&this.current&&!r?1:0,l=s!==this.Za;return this.Za=s,0!==a.length||l?{snapshot:new th(this.query,e.tu,i,a,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ls(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new dh(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new hh(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ls();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return th.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const ph="SyncEngine";class mh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class gh{constructor(e){this.key=e,this.hu=!1}}class yh{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new _s(e=>bs(e),vs),this.Iu=new Map,this.Eu=new Set,this.du=new Ga(la.comparator),this.Au=new Map,this.Ru=new Oc,this.Vu={},this.mu=new Map,this.fu=wc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function vh(e,t,n=!0){const r=Uh(e);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await wh(r,t,n,!0),i}async function bh(e,t){const n=Uh(e);await wh(n,t,!0,!1)}async function wh(e,t,n,r){const i=await function(e,t){const n=Fi(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,_a.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new hc(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}(e.localStore,gs(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await async function(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await Xc(e.localStore,t.query,!1).then(({documents:e})=>t.view.ru(e,i)));const a=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return Oh(e,t.targetId,s.au),s.snapshot}(e,t,n,r);const a=await Xc(e.localStore,t,!0),o=new fh(t,a.Qs),s=o.ru(a.documents),l=Cl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(s,e.isPrimaryClient,l);Oh(e,n,c.au);const u=new mh(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}(e,t,a,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Tu(e.remoteStore,i),s}async function Eh(e,t,n){const r=Fi(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(e=>!vs(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Iu(r.remoteStore,i.targetId),Nh(r,i.targetId)}).catch(ka)):(Nh(r,i.targetId),await Yc(r.localStore,i.targetId,!0))}async function Sh(e,t){const n=Fi(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Iu(n.remoteStore,r.targetId))}async function kh(e,t){const n=Fi(e);try{const e=await function(e,t){const n=Fi(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];t.targetChanges.forEach((a,s)=>{const l=i.get(s);if(!l)return;o.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,s).next(()=>n.Pi.addMatchingKeys(e,a.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Za.EMPTY_BYTE_STRING,va.min()).withLastLimboFreeSnapshotVersion(va.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,a)&&o.push(n.Pi.updateTargetData(e,c))});let s=Is(),l=Ls();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(function(e,t,n){let r=Ls(),i=Ls();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Is();return n.forEach((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(va.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ni(qc,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{ks:r,qs:i}})}(e,a,t.documentUpdates).next(e=>{s=e.ks,l=e.qs})),!r.isEqual(va.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return _a.waitFor(o).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Mi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Mi(r.hu,14607):e.removedDocuments.size>0&&(Mi(r.hu,42227),r.hu=!1))}),await Lh(n,e,t)}catch(e){await ka(e)}}function _h(e,t,n){const r=Fi(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Fi(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const e of n.Sa)e.va(t)&&(r=!0)}),r&&sh(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Th(e,t,n){const r=Fi(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),a=i&&i.key;if(a){let e=new Ga(la.comparator);e=e.insert(a,zo.newNoDocument(a,va.min()));const n=Ls().add(a),i=new Il(va.min(),new Map,new Ga(Xi),e,n);await kh(r,i),r.du=r.du.remove(a),r.Au.delete(t),Dh(r)}else await Yc(r.localStore,t,!1).then(()=>Nh(r,t,n)).catch(ka)}async function Ih(e,t){const n=Fi(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Fi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=_a.resolve();return a.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);Mi(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ls();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Ah(n,r,null),xh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lh(n,e)}catch(e){await ka(e)}}async function Ch(e,t,n){const r=Fi(e);try{const e=await function(e,t){const n=Fi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Mi(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Ah(r,t,n),xh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Lh(r,e)}catch(n){await ka(n)}}function xh(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Ah(e,t,n){const r=Fi(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function Nh(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||Ph(e,t)})}function Ph(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Iu(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Dh(e))}function Oh(e,t,n){for(const r of n)r instanceof hh?(e.Ru.addReference(r.key,t),Rh(e,r)):r instanceof dh?(Ni(ph,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Ph(e,r.key)):Di(19791,{wu:r})}function Rh(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Ni(ph,"New document in limbo: "+n),e.Eu.add(r),Dh(e))}function Dh(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new la(aa.fromString(t)),r=e.fu.next();e.Au.set(r,new gh(n)),e.du=e.du.insert(n,r),Tu(e.remoteStore,new hc(gs(fs(n.path)),r,"TargetPurposeLimboResolution",Ia.ce))}}async function Lh(e,t,n){const r=Fi(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,s)=>{o.push(r.pu(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){const t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?"current":"not-current")}if(e){i.push(e);const t=Bc.As(s.targetId,e);a.push(t)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(e,t){const n=Fi(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>_a.forEach(t,t=>_a.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>_a.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ta(e))throw e;Ni(qc,"Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Ms.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(t,i)}}}(r.localStore,a))}async function Mh(e,t){const n=Fi(e);if(!n.currentUser.isEqual(t)){Ni(ph,"User change. New user:",t.toKey());const e=await Kc(n.localStore,t);n.currentUser=t,function(e){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new zi(Ui.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.mu.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Lh(n,e.Ls)}}function Fh(e,t){const n=Fi(e),r=n.Au.get(t);if(r&&r.hu)return Ls().add(r.key);{let e=Ls();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Uh(e){const t=Fi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=kh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Th.bind(null,t),t.Pu.H_=ah.bind(null,t.eventManager),t.Pu.yu=oh.bind(null,t.eventManager),t}function zh(e){const t=Fi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ih.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ch.bind(null,t),t}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=du(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return function(e,t,n,r){return new Gc(e,t,n,r)}(this.persistence,new Hc,e.initialUser,this.serializer)}Cu(e){return new Uc(Vc.mi,this.serializer)}Du(e){return new Zc}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class jh extends Vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Mi(this.persistence.referenceDelegate instanceof jc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new _c(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?bc.withCacheSize(this.cacheSizeBytes):bc.DEFAULT;return new Uc(e=>jc.mi(e,t),this.serializer)}}class Bh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>_h(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mh.bind(null,this.syncEngine),await async function(e,t){const n=Fi(e);t?(n.Ea.delete(2),await ku(n)):t||(n.Ea.add(2),await _u(n),n.Ra.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new rh}createDatastore(e){const t=du(e.databaseInfo.databaseId),n=function(e){return new uu(e)}(e.databaseInfo);return function(e,t,n,r){return new bu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Su(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>_h(this.syncEngine,e,0),nu.v()?new nu:new eu)}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new yh(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=Fi(e);Ni(Eu,"RemoteStore shutting down."),t.Ea.add(5),await _u(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bh.provider={build:()=>new Bh};class $h{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Hh="FirestoreClient";class qh{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ii.UNAUTHENTICATED,this.clientId=Yi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Ni(Hh,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Ni(Hh,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ju(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Gh(e,t){e.asyncQueue.verifyOperationInProgress(),Ni(Hh,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Kc(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Kh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ni(Hh,"Using user provided OfflineComponentProvider");try{await Gh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ui.FAILED_PRECONDITION||e.code===Ui.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Oi("Error using user provided cache. Falling back to memory cache: "+n),await Gh(e,new Vh)}}else Ni(Hh,"Using default OfflineComponentProvider"),await Gh(e,new jh(void 0));return e._offlineComponents}(e);Ni(Hh,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Wu(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Wu(t.remoteStore,n)),e._onlineComponents=t}async function Wh(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ni(Hh,"Using user provided OnlineComponentProvider"),await Kh(e,e._uninitializedComponentsProvider._online)):(Ni(Hh,"Using default OnlineComponentProvider"),await Kh(e,new Bh))),e._onlineComponents}async function Qh(e){const t=await Wh(e),n=t.eventManager;return n.onListen=vh.bind(null,t.syncEngine),n.onUnlisten=Eh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=bh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Sh.bind(null,t.syncEngine),n}function Yh(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Xh=new Map,Jh="firestore.googleapis.com",Zh=!0;class ed{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new zi(Ui.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jh,this.ssl=Zh}else this.host=e.host,this.ssl=e.ssl??Zh;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=vc;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new zi(Ui.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new zi(Ui.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yh(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new zi(Ui.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new zi(Ui.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new zi(Ui.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class td{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ed({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new zi(Ui.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new zi(Ui.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ed(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Bi;switch(e.type){case"firstParty":return new Gi(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new zi(Ui.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Xh.get(e);t&&(Ni("ComponentProvider","Removing Datastore"),Xh.delete(e),t.terminate())}(this),Promise.resolve()}}class nd{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new nd(this.firestore,e,this._query)}}class rd{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new id(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rd(this.firestore,e,this._key)}toJSON(){return{type:rd._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(pa(t,rd._jsonSchema))return new rd(e,n||null,new la(aa.fromString(t.referencePath)))}}rd._jsonSchemaVersion="firestore/documentReference/1.0",rd._jsonSchema={type:fa("string",rd._jsonSchemaVersion),referencePath:fa("string")};class id extends nd{constructor(e,t,n){super(e,t,fs(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rd(this.firestore,null,new la(e))}withConverter(e){return new id(this.firestore,e,this._path)}}function ad(e,t,...n){if(e=Ln(e),1===arguments.length&&(t=Yi.newId()),function(e,t,n){if(!n)throw new zi(Ui.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}("doc","path",t),e instanceof td){const r=aa.fromString(t,...n);return ca(r),new rd(e,null,new la(r))}{if(!(e instanceof rd||e instanceof id))throw new zi(Ui.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(aa.fromString(t,...n));return ca(r),new rd(e.firestore,e instanceof id?e.converter:null,new la(r))}}const od="AsyncQueue";class sd{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fu(this,"async_queue_retry"),this._c=()=>{const e=hu();e&&Ni(od,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=hu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=hu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Vi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ta(e))throw e;Ni(od,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",ld(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Xu.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Di(47125,{Pc:ld(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ld(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function cd(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const e of["next","error","complete"])if(e in t&&"function"==typeof t[e])return!0;return!1}(e)}class ud extends td{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new sd,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sd(e),this._firestoreClient=void 0,await e}}}function hd(e){if(e._terminated)throw new zi(Ui.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){const t=e._freezeSettings(),n=function(e,t,n,r){return new ho(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Yh(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new qh(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}(e),e._firestoreClient}class dd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dd(Za.fromBase64String(e))}catch(e){throw new zi(Ui.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new dd(Za.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:dd._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pa(e,dd._jsonSchema))return dd.fromBase64String(e.bytes)}}dd._jsonSchemaVersion="firestore/bytes/1.0",dd._jsonSchema={type:fa("string",dd._jsonSchemaVersion),bytes:fa("string")};class fd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new zi(Ui.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pd{constructor(e){this._methodName=e}}class md{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new zi(Ui.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new zi(Ui.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xi(this._lat,e._lat)||Xi(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:md._jsonSchemaVersion}}static fromJSON(e){if(pa(e,md._jsonSchema))return new md(e.latitude,e.longitude)}}md._jsonSchemaVersion="firestore/geoPoint/1.0",md._jsonSchema={type:fa("string",md._jsonSchemaVersion),latitude:fa("number"),longitude:fa("number")};class gd{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:gd._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pa(e,gd._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new gd(e.vectorValues);throw new zi(Ui.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gd._jsonSchemaVersion="firestore/vectorValue/1.0",gd._jsonSchema={type:fa("string",gd._jsonSchemaVersion),vectorValues:fa("object")};const yd=/^__.*__$/;class vd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ll(e,this.data,this.fieldMask,t,this.fieldTransforms):new sl(e,this.data,t,this.fieldTransforms)}}function bd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Di(40011,{Ac:e})}}class wd{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new wd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Pd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(bd(this.Ac)&&yd.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ed{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||du(e)}Cc(e,t,n,r=!1){return new wd({Ac:e,methodName:t,Dc:n,path:sa.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sd(e){const t=e._freezeSettings(),n=du(e._databaseId);return new Ed(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kd(e,t,n,r,i,a={}){const o=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);Cd("Data must be an object, but it was:",o,r);const s=Td(r,o);let l,c;if(a.merge)l=new Xa(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=xd(t,r,n);if(!o.contains(i))throw new zi(Ui.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Od(e,i)||e.push(i)}l=new Xa(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new vd(new Fo(s),l,c)}function _d(e,t){if(Id(e=Ln(e)))return Cd("Unsupported field value:",t,e),Td(e,t);if(e instanceof pd)return function(e,t){if(!bd(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=_d(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ln(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zs(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ya.fromDate(e);return{timestampValue:Vl(t.serializer,n)}}if(e instanceof ya){const n=new ya(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Vl(t.serializer,n)}}if(e instanceof md)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dd)return{bytesValue:jl(t.serializer,e._byteString)};if(e instanceof rd){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Hl(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof gd)return function(e,t){return{mapValue:{fields:{[mo]:{stringValue:vo},[bo]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Fs(t.serializer,e)})}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${ha(e)}`)}(e,t)}function Td(e,t){const n={};return qa(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ha(e,(e,r)=>{const i=_d(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Id(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ya||e instanceof md||e instanceof dd||e instanceof rd||e instanceof pd||e instanceof gd)}function Cd(e,t,n){if(!Id(n)||!ua(n)){const r=ha(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function xd(e,t,n){if((t=Ln(t))instanceof fd)return t._internalPath;if("string"==typeof t)return Nd(e,t);throw Pd("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ad=new RegExp("[~\\*/\\[\\]]");function Nd(e,t,n){if(t.search(Ad)>=0)throw Pd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new fd(...t.split("."))._internalPath}catch(r){throw Pd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Pd(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new zi(Ui.INVALID_ARGUMENT,s+e+l)}function Od(e,t){return e.some(e=>e.isEqual(t))}class Rd{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new rd(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ld("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Dd extends Rd{data(){return super.data()}}function Ld(e,t){return"string"==typeof t?Nd(e,t):t instanceof fd?t._internalPath:t._delegate._internalPath}class Md{convertValue(e,t="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return no(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Di(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Ha(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){const t=e.fields?.[bo].arrayValue?.values?.map(e=>no(e.doubleValue));return new gd(t)}convertGeoPoint(e){return new md(no(e.latitude),no(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=co(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(uo(e));default:return null}}convertTimestamp(e){const t=to(e);return new ya(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=aa.fromString(e);Mi(uc(n),9688,{name:e});const r=new po(n.get(1),n.get(3)),i=new la(n.popFirst(5));return r.isEqual(t)||Pi(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class Fd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ud extends Rd{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Ld("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new zi(Ui.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ud._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Ud._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ud._jsonSchema={type:fa("string",Ud._jsonSchemaVersion),bundleSource:fa("string","DocumentSnapshot"),bundleName:fa("string"),bundle:fa("string")};class zd extends Ud{data(e={}){return super.data(e)}}class Vd{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Fd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new zd(this._firestore,this._userDataWriter,n.key,n,new Fd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new zi(Ui.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new zd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Fd(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new zd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Fd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:jd(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new zi(Ui.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yi.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Di(61501,{type:e})}}Vd._jsonSchemaVersion="firestore/querySnapshot/1.0",Vd._jsonSchema={type:fa("string",Vd._jsonSchemaVersion),bundleSource:fa("string","QuerySnapshot"),bundleName:fa("string"),bundle:fa("string")};class Bd extends Md{constructor(e){super(),this.firestore=e}convertBytes(e){return new dd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rd(this.firestore,null,t)}}function $d(e,...t){e=Ln(e);let n={includeMetadataChanges:!1,source:"default"},r=0;"object"!=typeof t[r]||cd(t[r])||(n=t[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(cd(t[r])){const e=t[r];t[r]=e.next?.bind(e),t[r+1]=e.error?.bind(e),t[r+2]=e.complete?.bind(e)}let a,o,s;if(e instanceof rd)o=da(e.firestore,ud),s=fs(e._key.path),a={next:n=>{t[r]&&t[r](function(e,t,n){const r=n.docs.get(t._key),i=new Bd(e);return new Ud(e,i,t._key,r,new Fd(n.hasPendingWrites,n.fromCache),t.converter)}(o,e,n))},error:t[r+1],complete:t[r+2]};else{const n=da(e,nd);o=da(n.firestore,ud),s=n._query;const i=new Bd(o);a={next:e=>{t[r]&&t[r](new Vd(o,i,n,e))},error:t[r+1],complete:t[r+2]},function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new zi(Ui.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query)}return function(e,t,n,r){const i=new $h(r),a=new uh(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>async function(e,t){const n=Fi(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new nh,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Ju(e,`Initialization of query '${ws(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&sh(n)}(await Qh(e),a)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>async function(e,t){const n=Fi(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),0===a.Sa.length?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}(await Qh(e),a))}}(hd(o),s,i,a)}function Hd(e,t){return function(e,t){const n=new Vi;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=zh(e);try{const e=await function(e,t){const n=Fi(e),r=ya.now(),i=t.reduce((e,t)=>e.add(t.key),Ls());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Is(),l=Ls();return n.Ns.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{a=i;const o=[];for(const e of t){const t=al(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new ll(e.key,t,Uo(t.value.mapValue),Zs.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:As(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Ga(Xi)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Lh(r,e.changes),await zu(r.remoteStore)}catch(e){const t=Ju(e,"Failed to persist write");n.reject(t)}}(await function(e){return Wh(e).then(e=>e.syncEngine)}(e),t,n)),n.promise}(hd(e),t)}new WeakMap,function(e,t=!0){!function(e){Ci=e}(Xr),Gr(new Mn("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),a=new ud(new Hi(e.getProvider("auth-internal")),new Wi(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new zi(Ui.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:t,...r},a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),ei(_i,Ti,e),ei(_i,Ti,"esm2020")}();const qd="@firebase/installations",Gd="0.6.19",Kd=`w:${Gd}`,Wd="FIS_v2",Qd=new Tn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Yd(e){return e instanceof _n&&e.code.includes("request-failed")}function Xd({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function Jd(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Zd(e,t){const n=(await t.json()).error;return Qd.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ef({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function tf(e){const t=await e();return t.status>=500&&t.status<600?e():t}function nf(e){return new Promise(t=>{setTimeout(t,e)})}const rf=/^[cdef][\w-]{21}$/;function af(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){var t;return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22)}(e);return rf.test(t)?t:""}catch{return""}}function of(e){return`${e.appName}!${e.appId}`}const sf=new Map;function lf(e,t){const n=of(e);cf(n,t),function(e,t){const n=(!uf&&"BroadcastChannel"in self&&(uf=new BroadcastChannel("[Firebase] FID Change"),uf.onmessage=e=>{cf(e.data.key,e.data.fid)}),uf);n&&n.postMessage({key:e,fid:t}),0===sf.size&&uf&&(uf.close(),uf=null)}(n,t)}function cf(e,t){const n=sf.get(e);if(n)for(const e of n)e(t)}let uf=null;const hf="firebase-installations-store";let df=null;function ff(){return df||(df=ir("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(hf)}})),df}async function pf(e,t){const n=of(e),r=(await ff()).transaction(hf,"readwrite"),i=r.objectStore(hf),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||lf(e,t.fid),t}async function mf(e){const t=of(e),n=(await ff()).transaction(hf,"readwrite");await n.objectStore(hf).delete(t),await n.done}async function gf(e,t){const n=of(e),r=(await ff()).transaction(hf,"readwrite"),i=r.objectStore(hf),a=await i.get(n),o=t(a);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||a&&a.fid===o.fid||lf(e,o.fid),o}async function yf(e){let t;const n=await gf(e.appConfig,n=>{const r=function(e){return wf(e||{fid:af(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Qd.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Xd(e),i=ef(e),a=t.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={fid:n,authVersion:Wd,appId:e.appId,sdkVersion:Kd},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await tf(()=>fetch(r,s));if(l.ok){const e=await l.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:Jd(e.authToken)}}throw await Zd("Create Installation",l)}(e,t);return pf(e.appConfig,n)}catch(n){throw Yd(n)&&409===n.customData.serverCode?await mf(e.appConfig):await pf(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:vf(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function vf(e){let t=await bf(e.appConfig);for(;1===t.registrationStatus;)await nf(100),t=await bf(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await yf(e);return n||t}return t}function bf(e){return gf(e,e=>{if(!e)throw Qd.create("installation-not-found");return wf(e)})}function wf(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Ef({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${Xd(e)}/${t}/authTokens:generate`}(e,n),i=function(e,{refreshToken:t}){const n=ef(e);return n.append("Authorization",function(e){return`${Wd} ${e}`}(t)),n}(e,n),a=t.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={installation:{sdkVersion:Kd,appId:e.appId}},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await tf(()=>fetch(r,s));if(l.ok)return Jd(await l.json());throw await Zd("Generate Auth Token",l)}async function Sf(e,t=!1){let n;const r=await gf(e.appConfig,r=>{if(!_f(r))throw Qd.create("not-registered");const i=r.authToken;if(!t&&(2===(a=i).requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(a)))return r;var a;if(1===i.requestStatus)return n=async function(e,t){let n=await kf(e.appConfig);for(;1===n.authToken.requestStatus;)await nf(100),n=await kf(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Sf(e,t):r}(e,t),r;{if(!navigator.onLine)throw Qd.create("app-offline");const t=function(e){return{...e,authToken:{requestStatus:1,requestTime:Date.now()}}}(r);return n=async function(e,t){try{const n=await Ef(e,t),r={...t,authToken:n};return await pf(e.appConfig,r),n}catch(n){if(!Yd(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n={...t,authToken:{requestStatus:0}};await pf(e.appConfig,n)}else await mf(e.appConfig);throw n}}(e,t),t}});return n?await n:r.authToken}function kf(e){return gf(e,e=>{if(!_f(e))throw Qd.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?{...e,authToken:{requestStatus:0}}:e;var t})}function _f(e){return void 0!==e&&2===e.registrationStatus}function Tf(e){return Qd.create("missing-app-config-values",{valueName:e})}const If="installations";Gr(new Mn(If,e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Tf("App Configuration");if(!e.name)throw Tf("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Tf(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Kr(t,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),Gr(new Mn("installations-internal",e=>{const t=Kr(e.getProvider("app").getImmediate(),If).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await yf(t);return r?r.catch(console.error):Sf(t).catch(console.error),n.fid}(t),getToken:e=>async function(e,t=!1){const n=e;return await async function(e){const{registrationPromise:t}=await yf(e);t&&await t}(n),(await Sf(n,t)).token}(t,e)}},"PRIVATE")),ei(qd,Gd),ei(qd,Gd,"esm2020");const Cf="analytics",xf="https://www.googletagmanager.com/gtag/js",Af=new Gn("@firebase/analytics"),Nf=new Tn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Pf(e){if(!e.startsWith(xf)){const t=Nf.create("invalid-gtag-resource",{gtagURL:e});return Af.warn(t.message),""}return e}function Of(e){return Promise.all(e.map(e=>e.catch(e=>e)))}const Rf=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Df(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Lf(e,t=Rf,n){const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw Nf.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Nf.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Ff;return setTimeout(async()=>{s.abort()},void 0!==n?n:6e4),Mf({appId:r,apiKey:i,measurementId:a},o,s,t)}async function Mf(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=Rf){const{appId:a,measurementId:o}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(a),r(Nf.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(r,t)}catch(e){if(o)return Af.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${e?.message}]`),{appId:a,measurementId:o};throw e}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:Df(n)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),a=await fetch(i,r);if(200!==a.status&&304!==a.status){let e="";try{const t=await a.json();t.error?.message&&(e=t.error.message)}catch(e){}throw Nf.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return i.deleteThrottleMetadata(a),t}catch(t){const s=t;if(!function(e){if(!(e instanceof _n&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(s)){if(i.deleteThrottleMetadata(a),o)return Af.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${s?.message}]`),{appId:a,measurementId:o};throw t}const l=503===Number(s?.customData?.httpStatus)?Dn(n,i.intervalMillis,30):Dn(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(a,c),Af.debug(`Calling attemptFetch again in ${l} millis`),Mf(e,c,r,i)}}class Ff{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Uf,zf;async function Vf(e,t,n,r,i,a,o){const s=Lf(e);s.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Af.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Af.error(e)),t.push(s);const l=async function(){if(!Sn())return Af.warn(Nf.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await kn()}catch(e){return Af.warn(Nf.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[c,u]=await Promise.all([s,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(xf)&&n.src.includes(e))return n;return null})(a)||function(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy("firebase-js-sdk-policy",t)),n}(0,{createScriptURL:Pf}),r=document.createElement("script"),i=`${xf}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(a,c.measurementId),zf&&(i("consent","default",zf),zf=void 0),i("js",new Date);const h=o?.config??{};return h.origin="firebase",h.update=!0,null!=u&&(h.firebase_id=u),i("config",c.measurementId,h),Uf&&(i("set",Uf),Uf=void 0),c.measurementId}class jf{constructor(e){this.app=e}_delete(){return delete Bf[this.app.options.appId],Promise.resolve()}}let Bf={},$f=[];const Hf={};let qf,Gf,Kf="dataLayer",Wf=!1;function Qf(e,t,n){!function(){const e=[];if(wn()&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=Nf.create("invalid-analytics-context",{errorInfo:t});Af.warn(n.message)}}();const r=e.options.appId;if(!r)throw Nf.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Nf.create("no-api-key");Af.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bf[r])throw Nf.create("already-exists",{id:r});if(!Wf){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Kf);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let a=function(...e){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){return async function(i,...a){try{if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Of(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){a=[];break}a.push(i)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(e){Af.error(e)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=a;await async function(e,t,n,r,i,a){const o=r[i];try{if(o)await t[o];else{const e=(await Of(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(e){Af.error(e)}e("config",i,a)}(e,t,n,r,i,o)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(e){Af.error(e)}}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(Bf,$f,Hf,Kf,"gtag");Gf=e,qf=t,Wf=!0}return Bf[r]=Vf(e,$f,Hf,t,qf,Kf,n),new jf(e)}const Yf="@firebase/analytics",Xf="0.10.19";Gr(new Mn(Cf,(e,{options:t})=>Qf(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Gr(new Mn("analytics-internal",function(e){try{const t=e.getProvider(Cf).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=Ln(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,{...r,send_to:i})}}(Gf,Bf[e.app.options.appId],t,n,r).catch(e=>Af.error(e))}(t,e,n,r),setUserProperties:(e,n)=>function(e,t,n){e=Ln(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t[`user_properties.${e}`]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(Gf,Bf[e.app.options.appId],t,n).catch(e=>Af.error(e))}(t,e,n)}}catch(e){throw Nf.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),ei(Yf,Xf),ei(Yf,Xf,"esm2020");const Jf=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Zf=new Tn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ep=new Gn("@firebase/auth");function tp(e,...t){ep.logLevel<=jn.ERROR&&ep.error(`Auth (${Xr}): ${e}`,...t)}function np(e,...t){throw op(e,...t)}function rp(e,...t){return op(e,...t)}function ip(e,t,n){const r={...Jf(),[t]:n};return new Tn("auth","Firebase",r).create(t,{appName:e.name})}function ap(e){return ip(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function op(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Zf.create(e,...t)}function sp(e,t,...n){if(!e)throw op(t,...n)}function lp(e){const t="INTERNAL ASSERTION FAILED: "+e;throw tp(t),new Error(t)}function cp(e,t){e||lp(t)}function up(){return"undefined"!=typeof self&&self.location?.href||""}function hp(){return"undefined"!=typeof self&&self.location?.protocol||null}class dp{constructor(e,t){this.shortDelay=e,this.longDelay=t,cp(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===hp()||"https:"===hp()||wn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function fp(e,t){cp(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class pp{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void lp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void lp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void lp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mp={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},gp=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yp=new dp(3e4,6e4);function vp(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function bp(e,t,n,r,i={}){return wp(e,i,async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=An({key:e.config.apiKey,...a}).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:s,...i};return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&pn(e.emulatorConfig.host)&&(l.credentials="include"),pp.fetch()(await Sp(e,e.config.apiHost,n,o),l)})}async function wp(e,t,n){e._canInitEmulator=!1;const r={...mp,...t};try{const t=new _p(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Tp(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Tp(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Tp(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Tp(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ip(e,s,o);np(e,s)}}catch(t){if(t instanceof _n)throw t;np(e,"network-request-failed",{message:String(t)})}}async function Ep(e,t,n,r,i={}){const a=await bp(e,t,n,r,i);return"mfaPendingCredential"in a&&np(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function Sp(e,t,n,r){const i=`${t}${n}?${r}`,a=e,o=a.config.emulator?fp(e.config,i):`${e.config.apiScheme}://${i}`;return gp.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())?a._getPersistence()._getFinalTarget(o).toString():o}function kp(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _p{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(rp(this.auth,"network-request-failed")),yp.get())})}}function Tp(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rp(e,t,r);return i.customData._tokenResponse=n,i}function Ip(e){return void 0!==e&&void 0!==e.enterprise}class Cp{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kp(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xp(e,t){return bp(e,"GET","/v2/recaptchaConfig",vp(e,t))}async function Ap(e,t){return bp(e,"POST","/v1/accounts:lookup",t)}function Np(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Pp(e){return 1e3*Number(e)}function Op(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return tp("JWT malformed, contained fewer than 3 sections"),null;try{const e=ln(n);return e?JSON.parse(e):(tp("Failed to decode base64 JWT payload"),null)}catch(e){return tp("Caught error parsing JWT payload as JSON",e?.toString()),null}}function Rp(e){const t=Op(e);return sp(t,"internal-error"),sp(void 0!==t.exp,"internal-error"),sp(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Dp(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof _n&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class Lp{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&this.schedule(!0))}this.schedule()}}class Mp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Np(this.lastLoginAt),this.creationTime=Np(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fp(e){const t=e.auth,n=await e.getIdToken(),r=await Dp(e,Ap(t,{idToken:n}));sp(r?.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const a=i.providerUserInfo?.length?Up(i.providerUserInfo):[],o=(s=e.providerData,l=a,[...s.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var s,l;const c=e.isAnonymous,u=!(e.email&&i.passwordHash||o?.length),h=!!c&&u,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Mp(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,d)}function Up(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}class zp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){sp(e.idToken,"internal-error"),sp(void 0!==e.idToken,"internal-error"),sp(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):Rp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){sp(0!==e.length,"internal-error");const t=Rp(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(sp(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await wp(e,{},async()=>{const n=An({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await Sp(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:o,body:n};return e.emulatorConfig&&pn(e.emulatorConfig.host)&&(s.credentials="include"),pp.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new zp;return n&&(sp("string"==typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(sp("string"==typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(sp("number"==typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zp,this.toJSON())}_performRefresh(){return lp("not implemented")}}function Vp(e,t){sp("string"==typeof e||void 0===e,"internal-error",{appName:t})}class jp{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId="firebase",this.proactiveRefresh=new Lp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Mp(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Dp(this,this.stsTokenManager.getToken(this.auth,e));return sp(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Ln(e),r=await n.getIdToken(t),i=Op(r);sp(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"==typeof i.firebase?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:Np(Pp(i.auth_time)),issuedAtTime:Np(Pp(i.iat)),expirationTime:Np(Pp(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=Ln(e);await Fp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(sp(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new jp({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){sp(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Fp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wr(this.auth.app))return Promise.reject(ap(this.auth));const e=await this.getIdToken();return await Dp(this,async function(e,t){return bp(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,i=t.phoneNumber??void 0,a=t.photoURL??void 0,o=t.tenantId??void 0,s=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:u,emailVerified:h,isAnonymous:d,providerData:f,stsTokenManager:p}=t;sp(u&&p,e,"internal-error");const m=zp.fromJSON(this.name,p);sp("string"==typeof u,e,"internal-error"),Vp(n,e.name),Vp(r,e.name),sp("boolean"==typeof h,e,"internal-error"),sp("boolean"==typeof d,e,"internal-error"),Vp(i,e.name),Vp(a,e.name),Vp(o,e.name),Vp(s,e.name),Vp(l,e.name),Vp(c,e.name);const g=new jp({uid:u,auth:e,email:r,emailVerified:h,displayName:n,isAnonymous:d,photoURL:a,phoneNumber:i,tenantId:o,stsTokenManager:m,createdAt:l,lastLoginAt:c});return f&&Array.isArray(f)&&(g.providerData=f.map(e=>({...e}))),s&&(g._redirectEventId=s),g}static async _fromIdTokenResponse(e,t,n=!1){const r=new zp;r.updateFromServerResponse(t);const i=new jp({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Fp(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];sp(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Up(r.providerUserInfo):[],a=!(r.email&&r.passwordHash||i?.length),o=new zp;o.updateFromIdToken(n);const s=new jp({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Mp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||i?.length)};return Object.assign(s,l),s}}const Bp=new Map;function $p(e){cp(e instanceof Function,"Expected a class definition");let t=Bp.get(e);return t?(cp(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Bp.set(e,t),t)}class Hp{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Hp.type="NONE";const qp=Hp;function Gp(e,t,n){return`firebase:${e}:${t}:${n}`}class Kp{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Gp(this.userKey,r.apiKey,i),this.fullPersistenceKey=Gp("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){const t=await Ap(this.auth,{idToken:e}).catch(()=>{});return t?jp._fromGetAccountInfoResponse(this.auth,t,e):null}return jp._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Kp($p(qp),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||$p(qp);const a=Gp(n,e.config.apiKey,e.name);let o=null;for(const n of t)try{const t=await n._get(a);if(t){let r;if("string"==typeof t){const n=await Ap(e,{idToken:t}).catch(()=>{});if(!n)break;r=await jp._fromGetAccountInfoResponse(e,n,t)}else r=jp._fromJSON(e,t);n!==i&&(o=r),i=n;break}}catch{}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch{}})),new Kp(i,e,n)):new Kp(i,e,n)}}function Wp(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jp(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qp(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(em(t))return"Blackberry";if(tm(t))return"Webos";if(Yp(t))return"Safari";if((t.includes("chrome/")||Xp(t))&&!t.includes("edge/"))return"Chrome";if(Zp(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===n?.length)return n[1]}return"Other"}function Qp(e=bn()){return/firefox\//i.test(e)}function Yp(e=bn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Xp(e=bn()){return/crios\//i.test(e)}function Jp(e=bn()){return/iemobile/i.test(e)}function Zp(e=bn()){return/android/i.test(e)}function em(e=bn()){return/blackberry/i.test(e)}function tm(e=bn()){return/webos/i.test(e)}function nm(e=bn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function rm(e=bn()){return nm(e)||Zp(e)||tm(e)||em(e)||/windows phone/i.test(e)||Jp(e)}function im(e,t=[]){let n;switch(e){case"Browser":n=Wp(bn());break;case"Worker":n=`${Wp(bn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xr}/${r}`}class am{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e?.message})}}}class om{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class sm{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cm(this),this.idTokenSubscription=new cm(this),this.beforeStateQueue=new am(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zf,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$p(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Kp.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ap(this,{idToken:e}),n=await jp._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==i||!a?.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return sp(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fp(e)}catch(e){if("auth/network-request-failed"!==e?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wr(this.app))return Promise.reject(ap(this));const t=e?Ln(e):null;return t&&sp(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&sp(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wr(this.app)?Promise.reject(ap(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wr(this.app)?Promise.reject(ap(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($p(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return bp(e,"GET","/v2/passwordPolicy",vp(e,t))}(this),t=new om(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return bp(e,"POST","/v2/accounts:revokeToken",vp(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$p(e)||this._popupRedirectResolver;sp(t,this,"argument-error"),this.redirectPersistenceManager=await Kp.create(this,[$p(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(sp(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return sp(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=im(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e,...t){ep.logLevel<=jn.WARN&&ep.warn(`Auth (${Xr}): ${e}`,...t)}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function lm(e){return Ln(e)}class cm{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e){const t=new On(e,void 0);return t.subscribe.bind(t)}(e=>this.observer=e)}get next(){return sp(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hm(e){return um.loadJS(e)}function dm(e){return`__${e}${Math.floor(1e6*Math.random())}`}class fm{constructor(){this.enterprise=new pm}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class pm{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const mm="NO_RECAPTCHA";class gm{constructor(e){this.type="recaptcha-enterprise",this.auth=lm(e)}async verify(e="verify",t=!1){function n(t,n,r){const i=window.grecaptcha;Ip(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(mm)})}):r(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?(new fm).execute("siteKey",{action:"verify"}):new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{xp(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Cp(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Ip(window.grecaptcha))n(i,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=um.recaptchaEnterpriseScript;0!==t.length&&(t+=i),hm(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function ym(e,t,n,r=!1,i=!1){const a=new gm(e);let o;if(i)o=mm;else try{o=await a.verify(n)}catch(e){o=await a.verify(n,!0)}const s={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function vm(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ym(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await ym(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const i=await ym(e,t,n);return r(e,i).catch(async i=>{if("AUDIT"===e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await ym(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await ym(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}function bm(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function wm(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Em{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return lp("not implemented")}_getIdTokenResponse(e){return lp("not implemented")}_linkToIdToken(e,t){return lp("not implemented")}_getReauthenticationResolver(e){return lp("not implemented")}}async function Sm(e,t){return bp(e,"POST","/v1/accounts:signUp",t)}async function km(e,t){return Ep(e,"POST","/v1/accounts:signInWithPassword",vp(e,t))}class _m extends Em{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new _m(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new _m(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return vm(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",km,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ep(e,"POST","/v1/accounts:signInWithEmailLink",vp(e,t))}(e,{email:this._email,oobCode:this._password});default:np(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return vm(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ep(e,"POST","/v1/accounts:signInWithEmailLink",vp(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:np(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Tm(e,t){return Ep(e,"POST","/v1/accounts:signInWithIdp",vp(e,t))}class Im extends Em{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Im(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):np("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,...i}=t;if(!n||!r)return null;const a=new Im(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Tm(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Tm(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tm(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=An(t)}return e}}async function Cm(e,t){return bp(e,"POST","/v1/accounts:sendVerificationCode",vp(e,t))}const xm={USER_NOT_FOUND:"user-not-found"};class Am extends Em{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Am({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Am({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ep(e,"POST","/v1/accounts:signInWithPhoneNumber",vp(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ep(e,"POST","/v1/accounts:signInWithPhoneNumber",vp(e,t));if(n.temporaryProof)throw Tp(e,"account-exists-with-different-credential",n);return n}(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return async function(e,t){return Ep(e,"POST","/v1/accounts:signInWithPhoneNumber",vp(e,{...t,operation:"REAUTH"}),xm)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Am({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Nm{constructor(e){const t=Nn(Pn(e)),n=t.apiKey??null,r=t.oobCode??null,i=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);sp(n&&r&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=Nn(Pn(e)).link,n=t?Nn(Pn(t)).deep_link_id:null,r=Nn(Pn(e)).deep_link_id;return(r?Nn(Pn(r)).link:null)||r||n||t||e}(e);try{return new Nm(t)}catch{return null}}}class Pm{constructor(){this.providerId=Pm.PROVIDER_ID}static credential(e,t){return _m._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Nm.parseLink(t);return sp(n,"argument-error"),_m._fromEmailAndCode(e,n.code,n.tenantId)}}Pm.PROVIDER_ID="password",Pm.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Pm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Om{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Rm extends Om{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Dm extends Rm{constructor(){super("facebook.com")}static credential(e){return Im._fromParams({providerId:Dm.PROVIDER_ID,signInMethod:Dm.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dm.credentialFromTaggedObject(e)}static credentialFromError(e){return Dm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Dm.credential(e.oauthAccessToken)}catch{return null}}}Dm.FACEBOOK_SIGN_IN_METHOD="facebook.com",Dm.PROVIDER_ID="facebook.com";class Lm extends Rm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Im._fromParams({providerId:Lm.PROVIDER_ID,signInMethod:Lm.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Lm.credentialFromTaggedObject(e)}static credentialFromError(e){return Lm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Lm.credential(t,n)}catch{return null}}}Lm.GOOGLE_SIGN_IN_METHOD="google.com",Lm.PROVIDER_ID="google.com";class Mm extends Rm{constructor(){super("github.com")}static credential(e){return Im._fromParams({providerId:Mm.PROVIDER_ID,signInMethod:Mm.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mm.credentialFromTaggedObject(e)}static credentialFromError(e){return Mm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Mm.credential(e.oauthAccessToken)}catch{return null}}}Mm.GITHUB_SIGN_IN_METHOD="github.com",Mm.PROVIDER_ID="github.com";class Fm extends Rm{constructor(){super("twitter.com")}static credential(e,t){return Im._fromParams({providerId:Fm.PROVIDER_ID,signInMethod:Fm.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fm.credentialFromTaggedObject(e)}static credentialFromError(e){return Fm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Fm.credential(t,n)}catch{return null}}}Fm.TWITTER_SIGN_IN_METHOD="twitter.com",Fm.PROVIDER_ID="twitter.com";class Um{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await jp._fromIdTokenResponse(e,n,r),a=zm(n);return new Um({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=zm(n);return new Um({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function zm(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Vm extends _n{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Vm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Vm(e,t,n,r)}}function jm(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Vm._fromErrorAndOperation(e,n,t,r);throw n})}function Bm(e,t,n,r){return Ln(e).onAuthStateChanged(t,n,r)}function $m(e,t){return bp(e,"POST","/v2/accounts/mfaEnrollment:start",vp(e,t))}new WeakMap;const Hm="__sak";class qm{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hm,"1"),this.storage.removeItem(Hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Gm extends qm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rm(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);!function(){const e=bn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||10!==document.documentMode||i===e.newValue||e.newValue===e.oldValue?r():setTimeout(r,10)}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gm.type="LOCAL";const Km=Gm;class Wm extends qm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Wm.type="SESSION";const Qm=Wm;class Ym{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ym(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Xm(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}Ym.receivers=[];class Jm{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((o,s)=>{const l=Xm("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Zm(){return window}function eg(){return void 0!==Zm().WorkerGlobalScope&&"function"==typeof Zm().importScripts}const tg="firebaseLocalStorageDb",ng="firebaseLocalStorage",rg="fbase_key";class ig{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ag(e,t){return e.transaction([ng],t?"readwrite":"readonly").objectStore(ng)}function og(){const e=indexedDB.open(tg,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(ng,{keyPath:rg})}catch(e){n(e)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(ng)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(tg);return new ig(e).toPromise()}(),t(await og()))})})}async function sg(e,t,n){const r=ag(e,!0).put({[rg]:t,value:n});return new ig(r).toPromise()}function lg(e,t){const n=ag(e,!0).delete(t);return new ig(n).toPromise()}class cg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await og()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ym._getInstance(eg()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new Jm(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await og();return await sg(e,Hm,"1"),await lg(e,Hm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>sg(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=ag(e,!1).get(t),r=await new ig(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>lg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=ag(e,!1).getAll();return new ig(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}cg.type="LOCAL";const ug=cg;function hg(e,t){return bp(e,"POST","/v2/accounts/mfaSignIn:start",vp(e,t))}dm("rcb"),new dp(3e4,6e4);const dg="recaptcha";async function fg(e,t,n){if(!e._getRecaptchaConfig())try{await async function(e){const t=lm(e),n=await xp(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Cp(n);null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()&&new gm(t).verify()}(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"==typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){sp("enroll"===t.type,e,"internal-error");const i=vm(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},"mfaSmsEnrollment",async(e,t)=>t.phoneEnrollmentInfo.captchaResponse===mm?(sp(n?.type===dg,e,"argument-error"),$m(e,await pg(e,t,n))):$m(e,t),"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{sp("signin"===t.type,e,"internal-error");const i=r.multiFactorHint?.uid||r.multiFactorUid;sp(i,e,"missing-multi-factor-info");const a=vm(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},"mfaSmsSignIn",async(e,t)=>t.phoneSignInInfo.captchaResponse===mm?(sp(n?.type===dg,e,"argument-error"),hg(e,await pg(e,t,n))):hg(e,t),"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t=vm(e,{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},"sendVerificationCode",async(e,t)=>t.captchaResponse===mm?(sp(n?.type===dg,e,"argument-error"),Cm(e,await pg(e,t,n))):Cm(e,t),"PHONE_PROVIDER");return(await t.catch(e=>Promise.reject(e))).sessionInfo}}finally{n?._reset()}}async function pg(e,t,n){sp(n.type===dg,e,"argument-error");const r=await n.verify();sp("string"==typeof r,e,"argument-error");const i={...t};if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class mg{constructor(e){this.providerId=mg.PROVIDER_ID,this.auth=lm(e)}verifyPhoneNumber(e,t){return fg(this.auth,e,Ln(t))}static credential(e,t){return Am._fromVerification(e,t)}static credentialFromResult(e){const t=e;return mg.credentialFromTaggedObject(t)}static credentialFromError(e){return mg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Am._fromTokenResponse(t,n):null}}mg.PROVIDER_ID="phone",mg.PHONE_SIGN_IN_METHOD="phone";class gg extends Em{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tm(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yg(e){return async function(e,t,n=!1){if(Wr(e.app))return Promise.reject(ap(e));const r="signIn",i=await jm(e,r,t),a=await Um._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}(e.auth,new gg(e),e.bypassAuthState)}function vg(e){const{auth:t,user:n}=e;return sp(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e;if(Wr(r.app))return Promise.reject(ap(r));const i="reauthenticate";try{const a=await Dp(e,jm(r,i,t,e),n);sp(a.idToken,r,"internal-error");const o=Op(a.idToken);sp(o,r,"internal-error");const{sub:s}=o;return sp(e.uid===s,r,"user-mismatch"),Um._forOperation(e,i,a)}catch(e){throw"auth/user-not-found"===e?.code&&np(r,"user-mismatch"),e}}(n,new gg(e),e.bypassAuthState)}async function bg(e){const{auth:t,user:n}=e;return sp(n,t,"internal-error"),async function(e,t,n=!1){const r=await Dp(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Um._forOperation(e,"link",r)}(n,new gg(e),e.bypassAuthState)}class wg{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yg;case"linkViaPopup":case"linkViaRedirect":return bg;case"reauthViaPopup":case"reauthViaRedirect":return vg;default:np(this.auth,"internal-error")}}resolve(e){cp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Eg=new dp(2e3,1e4);class Sg extends wg{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Sg.currentPopupAction&&Sg.currentPopupAction.cancel(),Sg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return sp(e,this.auth,"internal-error"),e}async onExecution(){cp(1===this.filter.length,"Popup operations only handle one event");const e=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(rp(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(rp(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sg.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rp(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Eg.get())};e()}}Sg.currentPopupAction=null;const kg=new Map;class _g extends wg{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=kg.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return Gp("pendingRedirect",e.config.apiKey,e.name)}(t),r=function(e){return $p(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}kg.set(this.auth._key(),e)}return this.bypassAuthState||kg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Tg(e,t){kg.set(e._key(),t)}async function Ig(e,t,n=!1){if(Wr(e.app))return Promise.reject(ap(e));const r=lm(e),i=function(e,t){return t?$p(t):(sp(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),a=new _g(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Cg{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ag(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Ag(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(rp(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xg(e))}saveEventToCache(e){this.cachedEventUids.add(xg(e)),this.lastProcessedEventTime=Date.now()}}function xg(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Ag({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===t?.code}const Ng=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pg=/^https?/;function Og(e){const t=up(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Pg.test(n))return!1;if(Ng.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Rg=new dp(3e4,6e4);function Dg(){const e=Zm().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}function Lg(e){return new Promise((t,n)=>{function r(){Dg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Dg(),n(rp(e,"network-request-failed"))},timeout:Rg.get()})}if(Zm().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!Zm().gapi?.load){const t=dm("iframefcb");return Zm()[t]=()=>{gapi.load?r():n(rp(e,"network-request-failed"))},hm(`${um.gapiScript}?onload=${t}`).catch(e=>n(e))}r()}}).catch(e=>{throw Mg=null,e})}let Mg=null;const Fg=new dp(5e3,15e3),Ug={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vg(e){const t=e.config;sp(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?fp(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Xr},i=zg.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${An(r).slice(1)}`}const jg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const $g=encodeURIComponent("fac");async function Hg(e,t,n,r,i,a){sp(e.config.authDomain,e,"auth-domain-config-required"),sp(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Xr,eventId:i};if(t instanceof Om){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof Rm){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const e of Object.keys(s))void 0===s[e]&&delete s[e];const l=await e._getAppCheckToken(),c=l?`#${$g}=${encodeURIComponent(l)}`:"";return`${function({config:e}){return e.emulator?fp(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${An(s).slice(1)}${c}`}const qg="webStorageSupport",Gg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qm,this._completeRedirectFn=Ig,this._overrideRedirectResult=Tg}async _openPopup(e,t,n,r){return cp(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...jg,width:r.toString(),height:i.toString(),top:a,left:o},c=bn().toLowerCase();n&&(s=Xp(c)?"_blank":n),Qp(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=bn()){return nm(e)&&!!window.navigator?.standalone}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Bg(null);const h=window.open(t||"",s,u);sp(h,e,"popup-blocked");try{h.focus()}catch(e){}return new Bg(h)}(e,await Hg(e,t,n,up(),r),Xm())}async _openRedirect(e,t,n,r){return await this._originValidation(e),i=await Hg(e,t,n,up(),r),Zm().location.href=i,new Promise(()=>{});var i}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(cp(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await function(e){return Mg=Mg||Lg(e),Mg}(e),n=Zm().gapi;return sp(n,e,"internal-error"),t.open({where:document.body,url:Vg(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ug,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=rp(e,"network-request-failed"),a=Zm().setTimeout(()=>{r(i)},Fg.get());function o(){Zm().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}(e),n=new Cg(e);return t.register("authEvent",t=>(sp(t?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qg,{type:qg},n=>{const r=n?.[0]?.[qg];void 0!==r&&t(!!r),np(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return bp(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Og(e))return}catch{}np(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rm()||Yp()||nm()}};var Kg="@firebase/auth",Wg="1.12.0";class Qg{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){sp(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Yg=dn("authIdTokenMaxAge")||300;let Xg=null;var Jg;um={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=rp("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Jg="Browser",Gr(new Mn("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;sp(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const s={apiKey:a,authDomain:o,clientPlatform:Jg,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:im(Jg)},l=new sm(n,r,i,s);return function(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map($p);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Gr(new Mn("auth-internal",e=>(e=>new Qg(e))(lm(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),ei(Kg,Wg,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Jg)),ei(Kg,Wg,"esm2020");const Zg={apiKey:"MISSING_ENV_VAR".FIREBASE_API_KEY,authDomain:"MISSING_ENV_VAR".FIREBASE_AUTH_DOMAIN,projectId:"MISSING_ENV_VAR".FIREBASE_PROJECT_ID,storageBucket:"MISSING_ENV_VAR".FIREBASE_STORAGE_BUCKET,messagingSenderId:"MISSING_ENV_VAR".FIREBASE_MESSAGING_SENDER_ID,appId:"MISSING_ENV_VAR".FIREBASE_APP_ID,measurementId:"MISSING_ENV_VAR".FIREBASE_MEASUREMENT_ID};let ey=null,ty=null,ny=null,ry=!1,iy=null;if(Zg.apiKey){if(0===Array.from(Br.values()).length){const e=Jr(Zg);ey=function(e){const t="object"==typeof e?e:Zr(),n="string"==typeof e?e:fo,r=Kr(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(()=>{const e=un("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),n]:[e.substring(0,t),n]})();e&&function(e,t,n,r={}){e=da(e,td);const i=pn(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${n}`;i&&(mn(`https://${s}`),vn("Firestore",!0)),a.host!==Jh&&a.host!==s&&Oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:s,ssl:i,emulatorOptions:r};if(!Cn(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ii.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[sn(JSON.stringify({alg:"none",type:"JWT"})),sn(JSON.stringify(a)),""].join(".")}(r.mockUserToken,e._app?.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new zi(Ui.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ii(i)}e._authCredentials=new $i(new ji(t,n))}}(r,...e)}return r}(e),ty=function(e=Zr()){const t=Kr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Kr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Cn(n.getOptions(),t??{}))return e;np(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Gg,persistence:[ug,Km,Qm]}),r=dn("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Yg)return;const r=t?.token;Xg!==r&&(Xg=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Ln(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e){Ln(e).onIdTokenChanged(e=>t(e),void 0,void 0)}(n)}}var i;const a=un("auth");return a&&function(e,t,n){const r=lm(e);sp(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,a=bm(t),{host:o,port:s}=function(e){const t=bm(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:wm(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:wm(t)}}}(t),l=null===s?"":`:${s}`,c={url:`${a}//${o}${l}/`},u=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return sp(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void sp(Cn(c,r.config.emulator)&&Cn(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,pn(o)?(mn(`${a}//${o}${l}`),vn("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${a}`),n}(e),ny=function(e=Zr()){const t=Kr(e=Ln(e),Cf);return t.isInitialized()?t.getImmediate():function(e,t={}){const n=Kr(e,Cf);if(n.isInitialized()){const e=n.getImmediate();if(Cn(t,n.getOptions()))return e;throw Nf.create("already-initialized")}return n.initialize({options:t})}(e)}(e),ry=!0,console.log("[Firebase] Initialized with Analytics & Auth"),async function(e){if(Wr(e.app))return Promise.reject(ap(e));const t=lm(e);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Um({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await async function(e,t){return Ep(e,"POST","/v1/accounts:signUp",vp(e,t))}(t,{returnSecureToken:!0}),r=await Um._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(r.user),r}(ty).catch(e=>{console.error("[Firebase] Auth failed. If using Anonymous Auth, check if it is ENABLED in the Firebase Console.",e),"auth/admin-restricted-operation"===e.code&&console.warn('[Firebase] IMPORTANT: You must enable "Anonymous" sign-in provider in Authentication > Sign-in method in the Firebase Console.')}),Bm(ty,e=>{iy=e,e?console.log("[Firebase] Signed in as",e.uid):console.log("[Firebase] Signed out")})}}else console.log("[Firebase] Skipping initialization - no config found");const ay={isAvailable:ry,async syncState(e){if(ey&&iy)try{await function(e,t,n){e=da(e,rd);const r=da(e.firestore,ud),i=function(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}(e.converter,t,n);return Hd(r,[kd(Sd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Zs.none())])}(ad(ey,"orbits",iy.uid),{items:e,updatedAt:(new Date).toISOString()},{merge:!0})}catch(e){console.warn("[Firebase] Sync failed",e)}},subscribeToRemote:e=>ey&&ty?iy?oy(iy.uid,e):Bm(ty,t=>{t&&oy(t.uid,e)}):()=>{},getUserId:()=>iy?.uid||null};function oy(e,t){return $d(ad(ey,"orbits",e),e=>{const n=e.data();n&&n.items&&t(n.items)})}var sy=n(35),ly={};function cy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function uy(e){var t,n,r=e.onClose,i=e.audioSettings,o=e.aiStatus,s=e.firebaseStatus,l=e.onUpdateAiKey,c=e.onClearData,u=i.isMusicPlaying,h=i.noiseType,d=i.toggleMusic,f=i.switchNoise,p=(t=(0,a.useState)(o.key||""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return cy(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cy(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=p[0],g=p[1];return a.createElement("div",{className:"settings-overlay",onClick:r},a.createElement("div",{className:"settings-card",onClick:function(e){return e.stopPropagation()}},a.createElement("div",{className:"settings-header"},a.createElement("h2",null,"Settings"),a.createElement("button",{className:"close-btn",onClick:r,"aria-label":"Close settings"},a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})))),a.createElement("div",{className:"settings-section"},a.createElement("h3",null,"Immersive Audio"),a.createElement("div",{className:"setting-item"},a.createElement("label",null,"Ambient Sound"),a.createElement("button",{className:"toggle ".concat(u?"on":"off"),onClick:d},u?"Enabled":"Disabled")),a.createElement("div",{className:"setting-item vertical"},a.createElement("label",null,"Noise Color"),a.createElement("div",{className:"noise-selector"},["ambient","brownNoise","pinkNoise","whiteNoise"].map(function(e){return a.createElement("button",{key:e,className:"noise-pill ".concat(h===e?"active":""),onClick:function(){return f(e)}},e.replace("Noise",""))})),a.createElement("p",{className:"setting-hint"},"Uses 8D spatial audio to help you focus. Noise colors are procedurally generated for maximum immersion."))),a.createElement("div",{className:"settings-section"},a.createElement("h3",null,"Artificial Intelligence"),a.createElement("div",{className:"setting-item vertical"},a.createElement("label",null,"Gemini API Key"),a.createElement("div",{className:"input-group"},a.createElement("input",{type:"password",placeholder:"Enter API Key...",value:m,onChange:function(e){return g(e.target.value)}}),a.createElement("button",{className:"save-btn",onClick:function(){return l(m)}},"Save")),a.createElement("p",{className:"status-text ".concat(o.isReady?"success":"error")},o.isReady?" AI Ready":" Missing Key"))),a.createElement("div",{className:"settings-section"},a.createElement("h3",null,"Cloud Sync (Firebase)"),a.createElement("div",{className:"setting-item"},a.createElement("label",null,"Status"),a.createElement("span",{className:"status-pill ".concat(s.isAvailable?"connected":"disconnected")},s.isAvailable?"Connected":"Offline")),s.isAvailable&&a.createElement("div",{className:"setting-item"},a.createElement("label",null,"Manual Sync"),a.createElement("button",{className:"sync-btn",onClick:function(){ay.syncState(Le().items)}},"Sync Now")),s.userId&&a.createElement("div",{className:"setting-item vertical"},a.createElement("label",null,"User Identifier"),a.createElement("code",null,s.userId)),a.createElement("p",{className:"setting-hint"},s.isAvailable?"Your orbit is automatically synced to the cloud using anonymous authentication.":"Sign in not configured. Ensure FIREBASE environment variables are set.")),a.createElement("div",{className:"settings-section danger-zone"},a.createElement("h3",null,"Danger Zone"),a.createElement("div",{className:"setting-item"},a.createElement("label",null,"Local Data"),a.createElement("button",{className:"clear-btn",onClick:c},"Clear All Data"))),a.createElement("div",{className:"settings-footer"},a.createElement("p",null,"Orbit v2.0  Designed for focus"))))}ly.styleTagTransform=Nt(),ly.setAttributes=It(),ly.insert=_t().bind(null,"head"),ly.domAPI=St(),ly.insertStyleElement=xt(),wt()(sy.A,ly),sy.A&&sy.A.locals&&sy.A.locals;var hy=n(561),dy={};function fy(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function a(n,r,i,a){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return py(c,"_invoke",function(n,r,i){var a,s,l,c=0,u=i||[],h=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return a=t,s=0,l=e,d.n=n,o}};function f(n,r){for(s=n,l=r,t=0;!h&&c&&!i&&t<u.length;t++){var i,a=u[t],f=d.p,p=a[2];n>3?(i=p===r)&&(l=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=f&&((i=n<2&&f<a[1])?(s=0,d.v=r,d.n=a[1]):f<p&&(i=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,d.n=p,s=0))}if(i||n>1)return o;throw h=!0,r}return function(i,u,p){if(c>1)throw TypeError("Generator is already running");for(h&&1===u&&f(u,p),s=u,l=p;(t=s<2?e:l)||!h;){a||(s?s<3?(s>1&&(d.n=-1),f(s,l)):d.n=l:d.v=l);try{if(c=2,a){if(s||(i="next"),t=a[i]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),s=1);a=e}else if((t=(h=d.n<0)?l:n.call(r,d))!==o)break}catch(t){a=e,s=1,l=t}finally{c=1}}return{value:t,done:h}}}(n,i,a),!0),c}var o={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(py(t={},r,function(){return this}),t),h=c.prototype=s.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,py(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return l.prototype=c,py(h,"constructor",c),py(c,"constructor",l),l.displayName="GeneratorFunction",py(c,i,"GeneratorFunction"),py(h),py(h,i,"Generator"),py(h,r,function(){return this}),py(h,"toString",function(){return"[object Generator]"}),(fy=function(){return{w:a,m:d}})()}function py(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}py=function(e,t,n,r){function a(t,n){py(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},py(e,t,n,r)}function my(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function gy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yy(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function vy(){var e=gy((0,a.useState)(Le()),2),t=e[0],n=e[1],r=gy((0,a.useState)(null),2),i=r[0],o=r[1],s=gy((0,a.useState)(null),2),l=s[0],d=s[1],m=gy((0,a.useState)(!1),2),g=m[0],y=m[1],v=gy((0,a.useState)(""),2),b=v[0],w=v[1],E=gy((0,a.useState)(null),2),S=E[0],k=E[1],_=gy((0,a.useState)(!1),2),T=_[0],I=_[1],C=gy((0,a.useState)(!1),2),x=C[0],A=C[1],N=gy((0,a.useState)(!1),2),P=N[0],O=N[1],R=gy((0,a.useState)(function(){var e=localStorage.getItem("orbit_ai_key");if(e&&"undefined"!==e&&""!==e)return console.log("[Orbit] Using local API key"),e;var t="AIzaSyBbQ1gLgv6-Wj-jLgPTXzF1MrPYzuRfYMo";return t?(console.log("[Orbit] Using environment API key"),t):""}),2),D=R[0],L=R[1],M=(0,a.useRef)(null),F=(0,a.useRef)(null),U=(0,a.useRef)(null),z=(0,a.useRef)(null),V=function(){var e=(0,a.useRef)(null),t=(0,a.useRef)(null),n=(0,a.useRef)(null),r=(0,a.useRef)(null),i=(0,a.useRef)(null),o=(0,a.useRef)(null),s=(0,a.useRef)(null),l=(0,a.useRef)(null),u=(0,a.useRef)(null),d=(0,a.useRef)(null),f=(0,a.useRef)(null),p=(0,a.useRef)(0),m=rt((0,a.useState)(!1),2),g=m[0],y=m[1],v=rt((0,a.useState)("ambient"),2),b=v[0],w=v[1],E=rt((0,a.useState)(!1),2),S=E[0],k=E[1],_=(0,a.useRef)(!1),T=(0,a.useRef)(!1),I=(0,a.useRef)({white:null,pink:null,brown:null}),C=(0,a.useRef)(null),x=(0,a.useCallback)(function(e){var t,n,r,i,a,o,s,l,c=e.sampleRate,u=5*c,h={white:function(){return 2*Math.random()-1},pink:(n=0,r=0,i=0,a=0,o=0,s=0,l=0,function(){var e=2*Math.random()-1,t=.11*((n=.99886*n+.0555179*e)+(r=.99332*r+.0750759*e)+(i=.969*i+.153852*e)+(a=.8665*a+.3104856*e)+(o=.55*o+.5329522*e)+(s=-.7616*s-.016898*e)+l+.5362*e);return l=.115926*e,t}),brown:(t=0,function(){var e=2*Math.random()-1,n=(t+.02*e)/1.02;return t=n,3.5*n})};["white","pink","brown"].forEach(function(t){for(var n=e.createBuffer(2,u,c),r=0;r<2;r++)for(var i=n.getChannelData(r),a=h[t],o=0;o<u;o++)i[o]=a();I.current[t]=n})},[]);(0,a.useEffect)(function(){function i(){return(i=ot(tt().m(function i(){var a,o,s,l,c,u,d,f;return tt().w(function(i){for(;;)switch(i.n){case 0:return i.n=1,Promise.all([dt("newItem"),dt("modeSwitch"),dt("markDone"),dt("reminder")]);case 1:a=i.v,o=rt(a,4),s=o[0],l=o[1],c=o[2],u=o[3],e.current=s,t.current=l,n.current=c,r.current=u,k(!0),d=localStorage.getItem(h),f=localStorage.getItem("orbit_noise_type")||"ambient",w(f),"on"===d&&P(f);case 2:return i.a(2)}},i)}))).apply(this,arguments)}return function(){i.apply(this,arguments)}(),function(){var i,a,o,s;null===(i=e.current)||void 0===i||i.pause(),null===(a=t.current)||void 0===a||a.pause(),null===(o=n.current)||void 0===o||o.pause(),null===(s=r.current)||void 0===s||s.pause(),O()}},[]);var A=(0,a.useCallback)(ot(tt().m(function e(){var t,n,r,a,o,h;return tt().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!i.current){e.n=1;break}return e.a(2);case 1:if(t=window.AudioContext||window.webkitAudioContext,i.current=new t,n=i.current,l.current=n.createStereoPanner(),l.current.pan.value=0,u.current=n.createBiquadFilter(),u.current.type="lowpass",u.current.frequency.value=c.IMMERSIVE.FILTER_FREQ,u.current.Q.value=c.IMMERSIVE.FILTER_Q,s.current=n.createGain(),s.current.gain.value=c.VOLUMES.ambient,u.current.connect(l.current),l.current.connect(s.current),s.current.connect(n.destination),x(n),!c.VERIFY_INTEGRITY||T.current){e.n=4;break}return e.n=2,ct(c.SOUNDS.ambient,null===(r=c.HASHES)||void 0===r?void 0:r.ambient);case 2:if(e.v){e.n=3;break}return console.error("[Audio] Ambient audio failed integrity check"),e.a(2);case 3:T.current=!0;case 4:return e.p=4,e.n=5,fetch(c.SOUNDS.ambient);case 5:return a=e.v,e.n=6,a.arrayBuffer();case 6:return o=e.v,e.n=7,n.decodeAudioData(o);case 7:d.current=e.v,_.current=!0,e.n=9;break;case 8:e.p=8,h=e.v,console.warn("Failed to load ambient audio:",h);case 9:return e.a(2)}},e,null,[[4,8]])})),[x]),N=(0,a.useCallback)(function(){if(l.current&&g){p.current+=c.IMMERSIVE.PAN_SPEED;var e=Math.sin(p.current)*c.IMMERSIVE.PAN_RANGE;l.current.pan.setValueAtTime(e,i.current.currentTime);var t=600+200*Math.sin(.7*p.current);u.current.frequency.setValueAtTime(t,i.current.currentTime),f.current=requestAnimationFrame(N)}},[g]);(0,a.useEffect)(function(){return g&&N(),function(){f.current&&cancelAnimationFrame(f.current)}},[g,N]);var P=(0,a.useCallback)(function(){var e=ot(tt().m(function e(t){var n,r,a;return tt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,A();case 1:if(n=t||b,"suspended"!==(r=i.current).state){e.n=2;break}return e.n=2,r.resume();case 2:if(o.current&&o.current.stop(),C.current&&C.current.stop(),"ambient"!==n){e.n=4;break}if(d.current){e.n=3;break}return console.warn("[Audio] Ambient buffer not ready, retrying..."),setTimeout(function(){return P("ambient")},1e3),e.a(2);case 3:o.current=r.createBufferSource(),o.current.buffer=d.current,o.current.loop=!0,o.current.connect(u.current),o.current.start(),e.n=5;break;case 4:(a=I.current[n.replace("Noise","").toLowerCase()])&&(C.current=r.createBufferSource(),C.current.buffer=a,C.current.loop=!0,C.current.connect(u.current),C.current.start());case 5:y(!0);case 6:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),[A,b]),O=(0,a.useCallback)(function(){if(o.current){try{o.current.stop()}catch(e){}o.current=null}if(C.current){try{C.current.stop()}catch(e){}C.current=null}f.current&&cancelAnimationFrame(f.current),y(!1)},[]),R=(0,a.useCallback)(function(e){w(e),localStorage.setItem("orbit_noise_type",e),g&&P(e)},[g,P]);return{playNewItem:(0,a.useCallback)(function(){e.current&&(e.current.currentTime=0,e.current.play().catch(function(){}))},[]),playModeSwitch:(0,a.useCallback)(function(){t.current&&(t.current.currentTime=0,t.current.play().catch(function(){}))},[]),playMarkDone:(0,a.useCallback)(function(){n.current&&(n.current.currentTime=0,n.current.play().catch(function(){}))},[]),playReminder:(0,a.useCallback)(function(){r.current&&(r.current.currentTime=0,r.current.play().catch(function(){}))},[]),toggleMusic:(0,a.useCallback)(function(){g?(O(),localStorage.setItem(h,"off")):(P(),localStorage.setItem(h,"on"))},[g,O,P]),isMusicPlaying:g,switchNoise:R,noiseType:b,audioReady:S}}(),j=V.playNewItem,B=V.playModeSwitch,$=V.playMarkDone,H=V.playReminder,q=V.toggleMusic,G=V.isMusicPlaying,K=V.switchNoise,W=V.noiseType;(0,a.useEffect)(function(){var e,t=(e=n,Re.add(e),function(){return Re.delete(e)});!function(){Ue.apply(this,arguments)}(),et||(et=setInterval(ze,6e4)),"complete"!==localStorage.getItem(f)&&setTimeout(function(){return y(!0)},500);var r=localStorage.getItem(p);return r&&(z.current=parseInt(r,10)),function(){t(),et&&(clearInterval(et),et=null),M.current&&clearTimeout(M.current)}},[]),(0,a.useEffect)(function(){var e=function(){var e=Date.now(),n=z.current||0;if(!(e-n<c.REMINDER_INTERVAL_MS)){var r=t.items.filter(function(t){var n,r;return!(null!==(n=t.signals)&&void 0!==n&&n.isRemoved||null!==(r=t.signals)&&void 0!==r&&r.isPinned)&&(e-new Date(t.signals.createdAt).getTime())/36e5>=c.REMINDER_AGE_HOURS});if(r.length>0){var i=t.visibleItems.find(function(e){return r.some(function(t){return t.id===e.id})});if(i)H(),o(i.id),ee("".concat(i.title," needs attention")),z.current=e,localStorage.setItem(p,e.toString());else if(r.length>0){var a=r.sort(function(e,t){return new Date(e.signals.createdAt)-new Date(t.signals.createdAt)})[0];!function(e){He.apply(this,arguments)}(a.id),H(),o(a.id),ee("".concat(a.title," needs attention")),z.current=e,localStorage.setItem(p,e.toString())}}}},n=setInterval(e,6e4);return M.current=setTimeout(e,1e4),function(){clearInterval(n),M.current&&clearTimeout(M.current)}},[t.items,t.visibleItems,H]),(0,a.useEffect)(function(){var e=function(e){"Escape"===e.key&&(o(null),O(!1),A(!1)),"v"!==e.key||e.metaKey||e.ctrlKey||"INPUT"!==document.activeElement.tagName&&O(function(e){return!e})};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}},[]);var Q=(0,a.useCallback)(function(e){F.current&&clearTimeout(F.current),U.current&&clearTimeout(U.current),w("mode-transitioning"),B(),F.current=setTimeout(function(){var t;t=e,localStorage.setItem(u,t),ze(),U.current=setTimeout(function(){w(""),U.current=null},800),F.current=null},400)},[B]),Y=(0,a.useCallback)(function(e){localStorage.setItem("orbit_ai_key",e),L(e),ee("Key saved. Magic enabled.")},[ee]),X=(0,a.useCallback)(function(){window.confirm("Are you sure? This will delete all local data.")&&(localStorage.clear(),window.location.reload())},[]),J=(0,a.useCallback)(function(e){!function(e){je.apply(this,arguments)}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:""),j()},[j]),Z=(0,a.useCallback)(function(e){Je(e),$(),o(null),ee("Got it! Marked as done.")},[$]),ee=(0,a.useCallback)(function(e){d(e),setTimeout(function(){return d(null)},1500)},[]),te=function(){var e,n=(e=fy().m(function e(){var n,r,i;return fy().w(function(e){for(;;)switch(e.p=e.n){case 0:if(0!==t.items.length){e.n=1;break}return ee("Add items first to generate a vibe"),e.a(2);case 1:if(localStorage.getItem("orbit_ai_key"),n="AIzaSyBbQ1gLgv6-Wj-jLgPTXzF1MrPYzuRfYMo"){e.n=2;break}return ee("Set AI Key in input first"),e.a(2);case 2:return I(!0),ee("Reading the stars... "),e.p=3,e.n=4,gt.generateTheme(t.items,n);case 4:r=e.v,k(r),ee("Vibe shifted: ".concat(r.mood)),r.visual.accent&&document.documentElement.style.setProperty("--orbit-accent",r.visual.accent),r.audio.noiseType&&K(r.audio.noiseType),e.n=6;break;case 5:e.p=5,i=e.v,console.error(i),ee("Failed to generate theme");case 6:return e.p=6,I(!1),e.f(6);case 7:return e.a(2)}},e,null,[[3,5,6,7]])}),function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){my(a,r,i,o,s,"next",e)}function s(e){my(a,r,i,o,s,"throw",e)}o(void 0)})});return function(){return n.apply(this,arguments)}}(),ne=t.visibleItems,re=t.items,ie=t.context;return t.isLoading?a.createElement("div",{className:"surface"},a.createElement("div",{className:"center"})):a.createElement("div",{className:"surface ".concat(b," ").concat(P||x?"modal-open":""),onClick:function(){return o(null)},style:{background:S?S.visual.background:void 0,color:S?S.visual.textColor:void 0,transition:"background 2s ease-in-out, color 2s ease-in-out"}},g&&a.createElement(nn,{onComplete:function(){y(!1)}}),a.createElement(Kt,{currentMode:(null==ie?void 0:ie.place)||"home",onModeChange:Q,onModeSwitch:B}),a.createElement("div",{className:"count",onClick:function(e){e.stopPropagation(),O(!0)},style:{cursor:"pointer"},title:"Open Vault"},ne.length," of ",re.length),a.createElement("div",{className:"controls-row"},a.createElement(Bt,{isPlaying:G,onToggle:q}),a.createElement("button",{className:"theme-btn ".concat(T?"spinning":""),onClick:function(e){e.stopPropagation(),te()},title:"Generate Ambient Theme"},a.createElement("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("path",{d:"M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"}))),a.createElement("button",{className:"settings-btn",onClick:function(e){e.stopPropagation(),O(!0)},title:"Open Library"},a.createElement("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),a.createElement("circle",{cx:"12",cy:"10",r:"3"}))),a.createElement("button",{className:"settings-btn",onClick:function(e){e.stopPropagation(),A(!0)},title:"Personalize"},a.createElement("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("circle",{cx:"12",cy:"12",r:"3"}),a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})))),a.createElement("div",{className:"center"}),ne.map(function(e,t){return a.createElement(vt,{key:e.id,item:e,index:t,total:ne.length,isExpanded:i===e.id,onExpand:function(t){t.stopPropagation(),o(i===e.id?null:e.id)},onAcknowledge:function(){(function(e){qe.apply(this,arguments)})(e.id),o(null)},onDone:function(){return Z(e.id)},onQuiet:function(){Ge(e.id,4),o(null),ee("Resting for 4 hours")},onPin:function(){e.signals.isPinned?Ye(e.id):We(e.id)},onRemove:function(){Je(e.id),o(null)}})}),0===ne.length&&!g&&a.createElement("div",{className:"empty"},"nothing here right now. take a breath."),a.createElement(zt,{totalItems:re.length,onAdd:J,showToast:ee,aiKey:D,onUpdateAiKey:Y}),x&&a.createElement(uy,{onClose:function(){return A(!1)},audioSettings:{isMusicPlaying:G,noiseType:W,toggleMusic:q,switchNoise:K},aiStatus:{isReady:!!D,key:D},firebaseStatus:{isAvailable:ay.isAvailable,userId:ay.getUserId()},onUpdateAiKey:Y,onClearData:X}),P&&a.createElement(Jt,{items:re,onClose:function(){return O(!1)},onPin:We,onUnpin:Ye,onRemove:Je,onDone:Z,onQuiet:function(e){return Ge(e,4)}}),l&&a.createElement("div",{className:"toast"},l))}function by(e){return by="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(e)}function wy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_y(r.key),r)}}function Ey(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ey=function(){return!!e})()}function Sy(e){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sy(e)}function ky(e,t){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ky(e,t)}function _y(e){var t=function(e){if("object"!=by(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=by(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==by(t)?t:t+""}dy.styleTagTransform=Nt(),dy.setAttributes=It(),dy.insert=_t().bind(null,"head"),dy.domAPI=St(),dy.insertStyleElement=xt(),wt()(hy.A,dy),hy.A&&hy.A.locals&&hy.A.locals;var Ty=function(e){function t(e){var n,r,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t,n){return t=Sy(t),function(e,t){if(t&&("object"==by(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ey()?Reflect.construct(t,n||[],Sy(e).constructor):t.apply(e,n))}(this,t,[e]),r=n,a=function(){n.setState({hasError:!1,error:null})},(i=_y(i="handleRetry"))in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,n.state={hasError:!1,error:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ky(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}],(r=[{key:"componentDidCatch",value:function(e,t){console.error("Orbit Error:",e,t)}},{key:"render",value:function(){var e;return this.state.hasError?a.createElement("div",{style:Iy.container},a.createElement("div",{style:Iy.icon},""),a.createElement("h2",{style:Iy.title},"Something went wrong"),a.createElement("p",{style:Iy.message},(null===(e=this.state.error)||void 0===e?void 0:e.message)||"An unexpected error occurred"),a.createElement("button",{style:Iy.button,onClick:this.handleRetry},"Try Again")):this.props.children}}])&&wy(n.prototype,r),i&&wy(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(a.Component),Iy={container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",background:"#0a0a0f",color:"rgba(255, 255, 255, 0.6)",fontFamily:"system-ui, -apple-system, sans-serif",textAlign:"center",padding:"20px"},icon:{fontSize:"48px",color:"rgba(59, 130, 246, 0.5)",marginBottom:"20px"},title:{fontSize:"18px",fontWeight:"500",color:"rgba(255, 255, 255, 0.8)",margin:"0 0 12px 0"},message:{fontSize:"14px",color:"rgba(255, 255, 255, 0.4)",margin:"0 0 24px 0",maxWidth:"300px"},button:{background:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)",color:"rgba(59, 130, 246, 0.9)",padding:"10px 24px",borderRadius:"20px",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease"}};const Cy=Ty,xy="undefined"!=typeof chrome&&!!chrome.storage?.local,Ay={async get(e,t){if(xy)return new Promise(n=>{chrome.storage.local.get([e],r=>{n(r[e]??t)})});const n=localStorage.getItem(e);return n?JSON.parse(n):t},async set(e,t){if(xy)return new Promise(n=>{chrome.storage.local.set({[e]:t},()=>n())});localStorage.setItem(e,JSON.stringify(t))}};var Ny=n(365),Py={};Py.styleTagTransform=Nt(),Py.setAttributes=It(),Py.insert=_t().bind(null,"head"),Py.domAPI=St(),Py.insertStyleElement=xt(),wt()(Ny.A,Py),Ny.A&&Ny.A.locals&&Ny.A.locals;let Oy=null;const Ry=document.getElementById("root");if(!Ry)throw new Error("Root element not found");(0,i.createRoot)(Ry).render((0,r.jsx)(function(){return a.useEffect(()=>{(async()=>{const e=await Ay.get("orbit-items",[]);await Ay.set("orbit-items",e)})()},[]),(0,r.jsx)(Cy,{children:(0,r.jsx)(vy,{})})},{})),"serviceWorker"in navigator&&"chrome-extension:"!==window.location.protocol&&"localhost"!==window.location.hostname?async function(){if(!("serviceWorker"in navigator))return console.log("[SW] Service workers not supported"),null;try{const e=await navigator.serviceWorker.register("/sw.js",{scope:"/"});return console.log("[SW] Registration successful:",e.scope),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&(console.log("[SW] New version available"),Oy&&Oy())})}),e}catch(e){return console.error("[SW] Registration failed:",e),null}}():"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(e=>{for(const t of e)t.unregister()})})();